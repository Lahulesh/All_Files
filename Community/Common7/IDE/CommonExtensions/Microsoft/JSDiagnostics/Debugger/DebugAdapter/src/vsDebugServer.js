"use strict";var qV=Object.create;var Ib=Object.defineProperty;var Px=Object.getOwnPropertyDescriptor;var WV=Object.getOwnPropertyNames;var VV=Object.getPrototypeOf,GV=Object.prototype.hasOwnProperty;var KV=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var XV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WV(e))!GV.call(t,i)&&i!==r&&Ib(t,i,{get:()=>e[i],enumerable:!(n=Px(e,i))||n.enumerable});return t};var B=(t,e,r)=>(r=t!=null?qV(VV(t)):{},XV(e||!t||!t.__esModule?Ib(r,"default",{value:t,enumerable:!0}):r,t));var K=(t,e,r,n)=>{for(var i=n>1?void 0:n?Px(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Ib(e,r,i),i},E=(t,e)=>(r,n)=>e(r,n,t);var Lt=b((the,kx)=>{"use strict";var zV=Object.create,Cd=Object.defineProperty,JV=Object.getOwnPropertyDescriptor,$x=Object.getOwnPropertyNames,YV=Object.getPrototypeOf,QV=Object.prototype.hasOwnProperty,ZV=(t,e)=>function(){return e||(0,t[$x(t)[0]])((e={exports:{}}).exports,e),e.exports},e4=(t,e)=>{for(var r in e)Cd(t,r,{get:e[r],enumerable:!0})},Mx=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $x(e))!QV.call(t,i)&&i!==r&&Cd(t,i,{get:()=>e[i],enumerable:!(n=JV(e,i))||n.enumerable});return t},t4=(t,e,r)=>(r=t!=null?zV(YV(t)):{},Mx(e||!t||!t.__esModule?Cd(r,"default",{value:t,enumerable:!0}):r,t)),r4=t=>Mx(Cd({},"__esModule",{value:!0}),t),n4=ZV({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(o,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u,c,{signal:l}={}){return new Promise((p,f)=>{function m(){l==null||l.removeEventListener("abort",m),u.removeListener(c,g),u.removeListener("error",y)}function g(...v){m(),p(v)}function y(v){m(),f(v)}l==null||l.addEventListener("abort",m),u.on(c,g),u.on("error",y)})}},54:function(o,a,u){"use strict";var c=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};let l=u(361),p=c(u(374)),f=c(u(304)),m=p.default("agent-base");function g(){let{stack:v}=new Error;return typeof v=="string"&&v.split(`
`).some(w=>w.indexOf("(https.js:")!==-1||w.indexOf("node:https:")!==-1)}function y(v,w){return new y.Agent(v,w)}(function(v){class w extends l.EventEmitter{constructor(U,x){super();let P=x;typeof U=="function"?this.callback=U:U&&(P=U),this.timeout=null,P&&typeof P.timeout=="number"&&(this.timeout=P.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:g()?443:80}set defaultPort(U){this.explicitDefaultPort=U}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:g()?"https:":"http:"}set protocol(U){this.explicitProtocol=U}callback(U,x,P){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(U,x){let P=Object.assign({},x);typeof P.secureEndpoint!="boolean"&&(P.secureEndpoint=g()),P.host==null&&(P.host="localhost"),P.port==null&&(P.port=P.secureEndpoint?443:80),P.protocol==null&&(P.protocol=P.secureEndpoint?"https:":"http:"),P.host&&P.path&&delete P.path,delete P.agent,delete P.hostname,delete P._defaultAgent,delete P.defaultPort,delete P.createConnection,U._last=!0,U.shouldKeepAlive=!1;let V=!1,q=null,N=P.timeout||this.timeout,$=k=>{U._hadError||(U.emit("error",k),U._hadError=!0)},O=()=>{q=null,V=!0;let k=new Error(`A "socket" was not created for HTTP request before ${N}ms`);k.code="ETIMEOUT",$(k)},I=k=>{V||(q!==null&&(clearTimeout(q),q=null),$(k))},T=k=>{if(V)return;if(q!=null&&(clearTimeout(q),q=null),X=k,Boolean(X)&&typeof X.addRequest=="function")return m("Callback returned another Agent instance %o",k.constructor.name),void k.addRequest(U,P);var X;if(k)return k.once("free",()=>{this.freeSocket(k,P)}),void U.onSocket(k);let C=new Error(`no Duplex stream was returned to agent-base for \`${U.method} ${U.path}\``);$(C)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(m("Converting legacy callback function to promise"),this.promisifiedCallback=f.default(this.callback)):this.promisifiedCallback=this.callback),typeof N=="number"&&N>0&&(q=setTimeout(O,N)),"port"in P&&typeof P.port!="number"&&(P.port=Number(P.port));try{m("Resolving socket for %o request: %o",P.protocol,`${U.method} ${U.path}`),Promise.resolve(this.promisifiedCallback(U,P)).then(T,I)}catch(k){Promise.reject(k).catch(I)}}else $(new Error("`callback` is not defined"))}freeSocket(U,x){m("Freeing socket %o %o",U.constructor.name,x),U.destroy()}destroy(){m("Destroying agent %o",this.constructor.name)}}v.Agent=w,v.prototype=v.Agent.prototype})(y||(y={})),o.exports=y},304:(o,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return function(c,l){return new Promise((p,f)=>{u.call(this,c,l,(m,g)=>{m?f(m):p(g)})})}}},370:function(o,a,u){"use strict";var c=this&&this.__awaiter||function(U,x,P,V){return new(P||(P=Promise))(function(q,N){function $(T){try{I(V.next(T))}catch(k){N(k)}}function O(T){try{I(V.throw(T))}catch(k){N(k)}}function I(T){var k;T.done?q(T.value):(k=T.value,k instanceof P?k:new P(function(X){X(k)})).then($,O)}I((V=V.apply(U,x||[])).next())})},l=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),m=l(u(310)),g=l(u(374)),y=l(u(46)),v=u(54),w=(0,g.default)("http-proxy-agent");class R extends v.Agent{constructor(x){let P;if(P=typeof x=="string"?m.default.parse(x):x,!P)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");w("Creating new HttpProxyAgent instance: %o",P),super(P);let V=Object.assign({},P);var q;this.secureProxy=P.secureProxy||typeof(q=V.protocol)=="string"&&/^https:?$/i.test(q),V.host=V.hostname||V.host,typeof V.port=="string"&&(V.port=parseInt(V.port,10)),!V.port&&V.host&&(V.port=this.secureProxy?443:80),V.host&&V.path&&(delete V.path,delete V.pathname),this.proxy=V}callback(x,P){return c(this,void 0,void 0,function*(){let{proxy:V,secureProxy:q}=this,N=m.default.parse(x.path),$;if(N.protocol||(N.protocol="http:"),N.hostname||(N.hostname=P.hostname||P.host||null),N.port==null&&(P.port,1)&&(N.port=String(P.port)),N.port==="80"&&(N.port=""),x.path=m.default.format(N),V.auth&&x.setHeader("Proxy-Authorization",`Basic ${Buffer.from(V.auth).toString("base64")}`),q?(w("Creating `tls.Socket`: %o",V),$=f.default.connect(V)):(w("Creating `net.Socket`: %o",V),$=p.default.connect(V)),x._header){let O,I;w("Regenerating stored HTTP header string for request"),x._header=null,x._implicitHeader(),x.output&&x.output.length>0?(w("Patching connection write() output buffer with updated header"),O=x.output[0],I=O.indexOf(`\r
\r
`)+4,x.output[0]=x._header+O.substring(I),w("Output buffer: %o",x.output)):x.outputData&&x.outputData.length>0&&(w("Patching connection write() output buffer with updated header"),O=x.outputData[0].data,I=O.indexOf(`\r
\r
`)+4,x.outputData[0].data=x._header+O.substring(I),w("Output buffer: %o",x.outputData[0].data))}return yield(0,y.default)($,"connect"),$})}}a.default=R},201:function(o,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(370));function l(p){return new c.default(p)}(function(p){p.HttpProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),o.exports=l},146:function(o,a,u){"use strict";var c=this&&this.__awaiter||function(P,V,q,N){return new(q||(q=Promise))(function($,O){function I(X){try{k(N.next(X))}catch(C){O(C)}}function T(X){try{k(N.throw(X))}catch(C){O(C)}}function k(X){var C;X.done?$(X.value):(C=X.value,C instanceof q?C:new q(function(L){L(C)})).then(I,T)}k((N=N.apply(P,V||[])).next())})},l=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),m=l(u(310)),g=l(u(491)),y=l(u(374)),v=u(54),w=l(u(829)),R=y.default("https-proxy-agent:agent");class U extends v.Agent{constructor(V){let q;if(q=typeof V=="string"?m.default.parse(V):V,!q)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");R("creating new HttpsProxyAgent instance: %o",q),super(q);let N=Object.assign({},q);var $;this.secureProxy=q.secureProxy||typeof($=N.protocol)=="string"&&/^https:?$/i.test($),N.host=N.hostname||N.host,typeof N.port=="string"&&(N.port=parseInt(N.port,10)),!N.port&&N.host&&(N.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in N)&&(N.ALPNProtocols=["http 1.1"]),N.host&&N.path&&(delete N.path,delete N.pathname),this.proxy=N}callback(V,q){return c(this,void 0,void 0,function*(){let{proxy:N,secureProxy:$}=this,O;$?(R("Creating `tls.Socket`: %o",N),O=f.default.connect(N)):(R("Creating `net.Socket`: %o",N),O=p.default.connect(N));let I=Object.assign({},N.headers),T=`CONNECT ${q.host}:${q.port} HTTP/1.1\r
`;N.auth&&(I["Proxy-Authorization"]=`Basic ${Buffer.from(N.auth).toString("base64")}`);let{host:k,port:X,secureEndpoint:C}=q;(function(se,re){return Boolean(!re&&se===80||re&&se===443)})(X,C)||(k+=`:${X}`),I.Host=k,I.Connection="close";for(let se of Object.keys(I))T+=`${se}: ${I[se]}\r
`;let L=w.default(O);O.write(`${T}\r
`);let{statusCode:Z,buffered:te}=yield L;if(Z===200){if(V.once("socket",x),q.secureEndpoint){R("Upgrading socket connection to TLS");let se=q.servername||q.host;return f.default.connect(Object.assign(Object.assign({},function(re,...he){let we={},ge;for(ge in re)he.includes(ge)||(we[ge]=re[ge]);return we}(q,"host","hostname","path","port")),{socket:O,servername:se}))}return O}O.destroy();let ie=new p.default.Socket({writable:!1});return ie.readable=!0,V.once("socket",se=>{R("replaying proxy buffer for failed request"),g.default(se.listenerCount("data")>0),se.push(te),se.push(null)}),ie})}}function x(P){P.resume()}a.default=U},18:function(o,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(146));function l(p){return new c.default(p)}(function(p){p.HttpsProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),o.exports=l},829:function(o,a,u){"use strict";var c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});let l=c(u(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(p){return new Promise((f,m)=>{let g=0,y=[];function v(){let U=p.read();U?function(x){y.push(x),g+=x.length;let P=Buffer.concat(y,g);if(P.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void v();let V=P.toString("ascii",0,P.indexOf(`\r
`)),q=+V.split(" ")[1];l("got proxy server response: %o",V),f({statusCode:q,buffered:P})}(U):p.once("readable",v)}function w(U){l("onclose had error %o",U)}function R(){l("onend")}p.on("error",function U(x){p.removeListener("end",R),p.removeListener("error",U),p.removeListener("close",w),p.removeListener("readable",v),l("onerror %o",x),m(x)}),p.on("close",w),p.on("end",R),v()})}},539:function(o,a,u){"use strict";var c,l=this&&this.__extends||(c=function($,O){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(I[k]=T[k])},c($,O)},function($,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function I(){this.constructor=$}c($,O),$.prototype=O===null?Object.create(O):(I.prototype=O.prototype,new I)}),p=this&&this.__assign||function(){return p=Object.assign||function($){for(var O,I=1,T=arguments.length;I<T;I++)for(var k in O=arguments[I])Object.prototype.hasOwnProperty.call(O,k)&&($[k]=O[k]);return $},p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var f=u(685),m=u(687),g=u(310),y=u(472),v=u(796),w=u(201),R=u(18);if(process.env.VSCODE_NLS_CONFIG){var U=process.env.VSCODE_NLS_CONFIG;y.config(JSON.parse(U))}var x=y.loadMessageBundle(),P=void 0,V=!0;function q($){var O;return new Promise(function(I,T){var k=(0,g.parse)($.url),X={hostname:k.hostname,agent:!!$.agent&&$.agent,port:k.port?parseInt(k.port):k.protocol==="https:"?443:80,path:k.path,method:$.type||"GET",headers:$.headers,rejectUnauthorized:typeof $.strictSSL!="boolean"||$.strictSSL};$.user&&$.password&&(X.auth=$.user+":"+$.password);var C=function(L){if(L.statusCode>=300&&L.statusCode<400&&$.followRedirects&&$.followRedirects>0&&L.headers.location){var Z=L.headers.location;Z.startsWith("/")&&(Z=(0,g.format)({protocol:k.protocol,hostname:k.hostname,port:k.port,pathname:Z})),I(q(function(te){for(var ie=[],se=1;se<arguments.length;se++)ie[se-1]=arguments[se];return ie.forEach(function(re){return Object.keys(re).forEach(function(he){return te[he]=re[he]})}),te}({},$,{url:Z,followRedirects:$.followRedirects-1})))}else I({req:O,res:L})};(O=k.protocol==="https:"?m.request(X,C):f.request(X,C)).on("error",T),$.timeout&&O.setTimeout($.timeout),$.data&&O.write($.data),O.end(),$.token&&($.token.isCancellationRequested&&O.destroy(new N),$.token.onCancellationRequested(function(){O.destroy(new N)}))})}a.configure=function($,O){P=$,V=O},a.xhr=function($){return typeof($=p({},$)).strictSSL!="boolean"&&($.strictSSL=V),$.agent||($.agent=function(O,I){I===void 0&&(I={});var T=(0,g.parse)(O),k=I.proxyUrl||function(L){return L.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:L.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(T);if(!k)return null;var X=(0,g.parse)(k);if(!/^https?:$/.test(X.protocol))return null;var C={host:X.hostname,port:Number(X.port),auth:X.auth,rejectUnauthorized:typeof I.strictSSL!="boolean"||I.strictSSL,protocol:X.protocol};return T.protocol==="http:"?w(C):R(C)}($.url,{proxyUrl:P,strictSSL:V})),typeof $.followRedirects!="number"&&($.followRedirects=5),q($).then(function(O){return new Promise(function(I,T){var k,X,C=O.res,L=C,Z=!1,te=C.headers&&C.headers["content-encoding"];if(te&&(k=$.type,X=O.res.statusCode,!(k==="HEAD"||X>=100&&X<200||X===204||X===304))){var ie={flush:v.constants.Z_SYNC_FLUSH,finishFlush:v.constants.Z_SYNC_FLUSH};if(te==="gzip"){var se=v.createGunzip(ie);C.pipe(se),L=se}else if(te==="deflate"){var re=v.createInflate(ie);C.pipe(re),L=re}}var he=[];L.on("data",function(we){return he.push(we)}),L.on("end",function(){if(!Z){if(Z=!0,$.followRedirects>0&&(C.statusCode>=300&&C.statusCode<=303||C.statusCode===307)){var we=C.headers.location;if(we.startsWith("/")){var ge=(0,g.parse)($.url);we=(0,g.format)({protocol:ge.protocol,hostname:ge.hostname,port:ge.port,pathname:we})}if(we){var Ct={type:$.type,url:we,user:$.user,password:$.password,headers:$.headers,timeout:$.timeout,followRedirects:$.followRedirects-1,data:$.data,token:$.token};return void(0,a.xhr)(Ct).then(I,T)}}var ve=Buffer.concat(he),Ir={responseText:ve.toString(),body:ve,status:C.statusCode,headers:C.headers||{}};C.statusCode>=200&&C.statusCode<300||C.statusCode===1223?I(Ir):T(Ir)}}),L.on("error",function(we){var ge;ge=N.is(we)?we:{responseText:x("error","Unable to access {0}. Error: {1}",$.url,we.message),body:Buffer.concat(he),status:500,headers:{}},Z=!0,T(ge)}),$.token&&($.token.isCancellationRequested&&L.destroy(new N),$.token.onCancellationRequested(function(){L.destroy(new N)}))})},function(O){var I;return I=N.is(O)?O:{responseText:$.agent?x("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",$.url,O.message):x("error.cannot.connect","Unable to connect to {0}. Error: {1}",$.url,O.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(I)})},a.getErrorStatusDescription=function($){if(!($<400))switch($){case 400:return x("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return x("status.401","Unauthorized. The server is refusing to respond.");case 403:return x("status.403","Forbidden. The server is refusing to respond.");case 404:return x("status.404","Not Found. The requested location could not be found.");case 405:return x("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return x("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return x("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return x("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return x("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return x("status.410","Gone. The requested page is no longer available.");case 411:return x("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return x("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return x("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return x("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return x("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return x("status.500","Internal Server Error.");case 501:return x("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return x("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return x("status.416","HTTP status code {0}",$)}};var N=function($){function O(){var I=$.call(this,"The user aborted a request")||this;return I.name="AbortError",Object.setPrototypeOf(I,O.prototype),I}return l(O,$),O.is=function(I){return I instanceof O},O}(Error)},800:(o,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var c,l,p,f=u(926);function m(y){return y!==void 0}function g(y,v){return a.isPseudo&&(y="\uFF3B"+y.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v.length===0?y:y.replace(/\{(\d+)\}/g,function(w,R){var U=R[0],x=v[U],P=w;return typeof x=="string"?P=x:typeof x!="number"&&typeof x!="boolean"&&x!=null||(P=String(x)),P})}(p=a.MessageFormat||(a.MessageFormat={})).file="file",p.bundle="bundle",p.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(y){y.is=function(v){var w=v;return w&&m(w.key)&&m(w.comment)}}(c||(c={})),a.isDefined=m,a.isPseudo=!1,a.setPseudo=function(y){a.isPseudo=y},a.format=g,a.localize=function(y,v){for(var w=[],R=2;R<arguments.length;R++)w[R-2]=arguments[R];return g(v,w)},a.loadMessageBundle=function(y){return(0,f.default)().loadMessageBundle(y)},a.config=function(y){return(0,f.default)().config(y)}},926:(o,a)=>{"use strict";var u;function c(){if(u===void 0)throw new Error("No runtime abstraction layer installed");return u}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(p){if(p===void 0)throw new Error("No runtime abstraction layer provided");u=p}}(c||(c={})),a.default=c},472:(o,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var c=u(17),l=u(147),p=u(926),f=u(800),m=u(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return m.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return m.BundleFormat}});var g,y,v=Object.prototype.toString;function w(O){return v.call(O)==="[object Number]"}function R(O){return v.call(O)==="[object String]"}function U(O){return JSON.parse(l.readFileSync(O,"utf8"))}function x(O){return function(I,T){for(var k=[],X=2;X<arguments.length;X++)k[X-2]=arguments[X];return w(I)?I>=O.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,f.format)(O[I],k):R(T)?(console.warn("Message ".concat(T," didn't get externalized correctly.")),(0,f.format)(T,k)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function P(O,I){return g[O]=I,I}function V(O){try{return function(I){var T=U(c.join(I,"nls.metadata.json")),k=Object.create(null);for(var X in T){var C=T[X];k[X]=C.messages}return k}(O)}catch(I){return void console.log("Generating default bundle from meta data failed.",I)}}function q(O,I){var T;if(y.languagePackSupport===!0&&y.cacheRoot!==void 0&&y.languagePackId!==void 0&&y.translationsConfigFile!==void 0&&y.translationsConfig!==void 0)try{T=function(X,C){var L,Z,te,ie=c.join(y.cacheRoot,"".concat(X.id,"-").concat(X.hash,".json")),se=!1,re=!1;try{return L=JSON.parse(l.readFileSync(ie,{encoding:"utf8",flag:"r"})),Z=ie,te=new Date,l.utimes(Z,te,te,function(){}),L}catch(he){if(he.code==="ENOENT")re=!0;else{if(!(he instanceof SyntaxError))throw he;console.log("Syntax error parsing message bundle: ".concat(he.message,".")),l.unlink(ie,function(we){we&&console.error("Deleting corrupted bundle ".concat(ie," failed."))}),se=!0}}if(L=function(he,we){var ge=y.translationsConfig[he.id];if(ge){var Ct=U(ge).contents,ve=U(c.join(we,"nls.metadata.json")),Ir=Object.create(null);for(var Yr in ve){var Y=ve[Yr],Le=Ct["".concat(he.outDir,"/").concat(Yr)];if(Le){for(var J=[],He=0;He<Y.keys.length;He++){var Be=Y.keys[He],pt=Le[R(Be)?Be:Be.key];pt===void 0&&(pt=Y.messages[He]),J.push(pt)}Ir[Yr]=J}else Ir[Yr]=Y.messages}return Ir}}(X,C),!L||se)return L;if(re)try{l.writeFileSync(ie,JSON.stringify(L),{encoding:"utf8",flag:"wx"})}catch(he){if(he.code==="EEXIST")return L;throw he}return L}(O,I)}catch(X){console.log("Load or create bundle failed ",X)}if(!T){if(y.languagePackSupport)return V(I);var k=function(X){for(var C=y.language;C;){var L=c.join(X,"nls.bundle.".concat(C,".json"));if(l.existsSync(L))return L;var Z=C.lastIndexOf("-");C=Z>0?C.substring(0,Z):void 0}if(C===void 0&&(L=c.join(X,"nls.bundle.json"),l.existsSync(L)))return L}(I);if(k)try{return U(k)}catch(X){console.log("Loading in the box message bundle failed.",X)}T=V(I)}return T}function N(O){if(!O)return f.localize;var I=c.extname(O);if(I&&(O=O.substr(0,O.length-I.length)),y.messageFormat===f.MessageFormat.both||y.messageFormat===f.MessageFormat.bundle){var T=function(se){for(var re,he=c.dirname(se);re=c.join(he,"nls.metadata.header.json"),!l.existsSync(re);){var we=c.dirname(he);if(we===he){re=void 0;break}he=we}return re}(O);if(T){var k=c.dirname(T),X=g[k];if(X===void 0)try{var C=JSON.parse(l.readFileSync(T,"utf8"));try{var L=q(C,k);X=P(k,L?{header:C,nlsBundle:L}:null)}catch(se){console.error("Failed to load nls bundle",se),X=P(k,null)}}catch(se){console.error("Failed to read header file",se),X=P(k,null)}if(X){var Z=O.substr(k.length+1).replace(/\\/g,"/"),te=X.nlsBundle[Z];return te===void 0?(console.error("Messages for file ".concat(O," not found. See console for details.")),function(){return"Messages not found."}):x(te)}}}if(y.messageFormat===f.MessageFormat.both||y.messageFormat===f.MessageFormat.file)try{var ie=U(function(se){var re;if(!(y.cacheLanguageResolution&&re)){if(f.isPseudo||!y.language)re=".nls.json";else for(var he=y.language;he;){var we=".nls."+he+".json";if(l.existsSync(se+we)){re=we;break}var ge=he.lastIndexOf("-");ge>0?he=he.substring(0,ge):(re=".nls.json",he=null)}y.cacheLanguageResolution}return se+re}(O));return Array.isArray(ie)?x(ie):(0,f.isDefined)(ie.messages)&&(0,f.isDefined)(ie.keys)?x(ie.messages):(console.error("String bundle '".concat(O,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(se){se.code!=="ENOENT"&&console.error("Failed to load single file bundle",se)}return console.error("Failed to load message bundle for file ".concat(O)),function(){return"Failed to load message bundle. See console for details."}}function $(O){return O&&(R(O.locale)&&(y.locale=O.locale.toLowerCase(),y.language=y.locale,g=Object.create(null)),O.messageFormat!==void 0&&(y.messageFormat=O.messageFormat),O.bundleFormat===f.BundleFormat.standalone&&y.languagePackSupport===!0&&(y.languagePackSupport=!1)),(0,f.setPseudo)(y.locale==="pseudo"),N}(function(){if(y={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:f.MessageFormat.bundle},R(process.env.VSCODE_NLS_CONFIG))try{var O=JSON.parse(process.env.VSCODE_NLS_CONFIG),I=void 0;if(O.availableLanguages){var T=O.availableLanguages["*"];R(T)&&(I=T)}if(R(O.locale)&&(y.locale=O.locale.toLowerCase()),I===void 0?y.language=y.locale:I!=="en"&&(y.language=I),function(X){return X===!0||X===!1}(O._languagePackSupport)&&(y.languagePackSupport=O._languagePackSupport),R(O._cacheRoot)&&(y.cacheRoot=O._cacheRoot),R(O._languagePackId)&&(y.languagePackId=O._languagePackId),R(O._translationsConfigFile)){y.translationsConfigFile=O._translationsConfigFile;try{y.translationsConfig=U(y.translationsConfigFile)}catch{if(O._corruptedFile){var k=c.dirname(O._corruptedFile);l.exists(k,function(C){C&&l.writeFile(O._corruptedFile,"corrupted","utf8",function(L){console.error(L)})})}}}}catch{}(0,f.setPseudo)(y.locale==="pseudo"),g=Object.create(null)})(),a.loadMessageBundle=N,a.config=$,p.default.install(Object.freeze({loadMessageBundle:N,config:$}))},374:(o,a)=>{function u(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return u}},491:o=>{"use strict";o.exports=require("assert")},361:o=>{"use strict";o.exports=require("events")},147:o=>{"use strict";o.exports=require("fs")},685:o=>{"use strict";o.exports=require("http")},687:o=>{"use strict";o.exports=require("https")},808:o=>{"use strict";o.exports=require("net")},17:o=>{"use strict";o.exports=require("path")},404:o=>{"use strict";o.exports=require("tls")},310:o=>{"use strict";o.exports=require("url")},796:o=>{"use strict";o.exports=require("zlib")}},r={},n=function o(a){var u=r[a];if(u!==void 0)return u.exports;var c=r[a]={exports:{}};return e[a].call(c.exports,c,c.exports,o),c.exports}(539),i=t;for(var s in n)i[s]=n[s];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()}}),Rx={};e4(Rx,{config:()=>u4,t:()=>c4});kx.exports=r4(Rx);var i4=require("fs"),s4=require("fs/promises"),Dx=t4(n4());async function o4(t){if(t.protocol==="file:")return await(0,s4.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,Dx.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,Dx.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function a4(t){return(0,i4.readFileSync)(t,"utf8")}var Gu;function u4(t){if("contents"in t){typeof t.contents=="string"?Gu=JSON.parse(t.contents):Gu=t.contents;return}if("fsPath"in t){let e=a4(t.fsPath),r=JSON.parse(e);Gu=Tx(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,n)=>{let i=o4(e).then(s=>{try{let o=JSON.parse(s);Gu=Tx(o)?o.contents.bundle:o}catch(o){n(o)}}).catch(s=>{n(s)});r(i)})}}function c4(...t){let e=t[0],r,n,i;if(typeof e=="string"?(r=e,n=e,t.splice(0,1),i=!t||typeof t[0]!="object"?t:t[0]):(n=e.message,r=n,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{}),!Gu)return Rp(n,i);let s=Gu[r];return s?typeof s=="string"?Rp(s,i):s.comment?Rp(s.message,i):Rp(n,i):Rp(n,i)}var l4=/{([^}]+)}/g;function Rp(t,e){return t.replace(l4,(r,n)=>e[n]??r)}function Tx(t){var e;return typeof((e=t==null?void 0:t.contents)==null?void 0:e.bundle)=="object"&&typeof(t==null?void 0:t.version)=="string"}});var Ca=b(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.findWindowsCandidates=Or.sort=Or.preferredEdgePath=Or.preferredChromePath=Or.escapeRegexSpecialChars=Or.canAccess=void 0;var h4=require("path");async function Ld({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}Or.canAccess=Ld;var d4="/\\.?*()^${}|[]+";function m4(t,e){let r=d4.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}Or.escapeRegexSpecialChars=m4;async function g4(t,e){if(await Ld(t,e.CHROME_PATH))return e.CHROME_PATH}Or.preferredChromePath=g4;async function H4(t,e){if(await Ld(t,e.EDGE_PATH))return e.EDGE_PATH}Or.preferredEdgePath=H4;function y4(t,e){return[...t].filter(n=>!!n).map(n=>{let i=e.find(s=>s.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}Or.sort=y4;async function v4(t,e,r){let n=[t.LOCALAPPDATA,t.PROGRAMFILES,t["PROGRAMFILES(X86)"]].filter(s=>!!s),i=[];for(let s of n)for(let o of r){let a=h4.win32.join(s,o.name);i.push(Ld(e,a).then(u=>u?{path:a,quality:o.type}:void 0))}return(await Promise.all(i)).filter(s=>!!s)}Or.findWindowsCandidates=v4});var xb=b(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.DarwinFinderBase=void 0;var b4=require("path"),Sb=Ca(),Bx=/( \(0x[a-f0-9]+\))/,Eb=class{constructor(e,r,n){this.env=e,this.fs=r,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let r of this.wellKnownPaths)if(e(r)&&await(0,Sb.canAccess)(this.fs,r.path))return r;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,r,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${Bx.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),s=[...r,...i.split(`
`).map(u=>u.trim().replace(Bx,""))].filter(u=>!!u),o=this.getPreferredPath();o&&s.push(o);let a=new Set;for(let u of s)for(let c of n){let l=b4.posix.join(u.trim(),c);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let r=this.env.HOME&&(0,Sb.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((s,o)=>[...s,{regex:new RegExp(`^/Applications/.*${o.name}`),weight:o.weight+100,quality:o.quality},{regex:new RegExp(`^${r}/Applications/.*${o.name}`),weight:o.weight,quality:o.quality},{regex:new RegExp(`^/Volumes/.*${o.name}`),weight:o.weight-100,quality:o.quality}],[]);return n&&i.unshift({regex:new RegExp((0,Sb.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};Pd.DarwinFinderBase=Eb});var Fx=b(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.DarwinChromeBrowserFinder=void 0;var _4=Ca(),w4=xb(),Cb=class extends w4.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],r=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",r,e);return(0,_4.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};Dd.DarwinChromeBrowserFinder=Cb});var Ux=b(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.DarwinEdgeBrowserFinder=void 0;var A4=Ca(),I4=xb(),Lb=class extends I4.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],r=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",r,e);return(0,A4.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};Td.DarwinEdgeBrowserFinder=Lb});var Tb=b($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.LinuxChromeBrowserFinder=void 0;var S4=require("path"),Xu=Ca(),Pb=require("child_process"),E4=require("os"),jx=/\r?\n/,Db=class{constructor(e,r){this.env=e,this.fs=r,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,r=this.env[this.pathEnvironmentVar];r&&await(0,Xu.canAccess)(this.fs,r)&&e.add(r),[S4.posix.join((0,E4.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(o=>{for(let a in this.findChromeExecutables(o))e.add(a)}),await Promise.all(this.executablesOnPath.map(async o=>{try{let a=(0,Pb.execFileSync)("which",[o],{stdio:"pipe"}).toString().split(jx)[0];await(0,Xu.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let s=r?[{regex:new RegExp((0,Xu.escapeRegexSpecialChars)(r)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,Xu.sort)(e,s)}async findChromeExecutables(e){let r=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,Xu.canAccess)(this.fs,e)){let s;try{s=(0,Pb.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{s=(0,Pb.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let o=s.toString().split(jx).map(a=>a.replace(r,"$1"));await Promise.all(o.map(async a=>{await(0,Xu.canAccess)(this.fs,a)&&i.push(a)}))}return i}};$d.LinuxChromeBrowserFinder=Db});var qx=b(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.LinuxEdgeBrowserFinder=void 0;var x4=Tb(),$b=class extends x4.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};Md.LinuxEdgeBrowserFinder=$b});var Vx=b(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.WindowsChromeBrowserFinder=void 0;var C4=require("path"),Wx=Ca(),Mb=class{constructor(e,r){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=C4.win32.sep,r=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,Wx.findWindowsCandidates)(this.env,this.fs,r),i=await(0,Wx.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};Rd.WindowsChromeBrowserFinder=Mb});var Kx=b(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.WindowsEdgeBrowserFinder=void 0;var pr=require("path"),Gx=Ca(),Rb=class{constructor(e,r){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${pr.sep}Microsoft${pr.sep}Edge SxS${pr.sep}Application${pr.sep}msedge.exe`,type:"canary"},{name:`${pr.sep}Microsoft${pr.sep}Edge Dev${pr.sep}Application${pr.sep}msedge.exe`,type:"dev"},{name:`${pr.sep}Microsoft${pr.sep}Edge Beta${pr.sep}Application${pr.sep}msedge.exe`,type:"beta"},{name:`${pr.sep}Microsoft${pr.sep}Edge${pr.sep}Application${pr.sep}msedge.exe`,type:"stable"}],r=await(0,Gx.findWindowsCandidates)(this.env,this.fs,e),n=await(0,Gx.preferredEdgePath)(this.fs,this.env);return n&&r.unshift({path:n,quality:"custom"}),r}};kd.WindowsEdgeBrowserFinder=Rb});var kb=b(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.EdgeBrowserFinder=Wn.ChromeBrowserFinder=Wn.isQuality=Wn.allQualities=void 0;var L4=Fx(),P4=Ux(),D4=Tb(),T4=qx(),$4=Vx(),M4=Kx(),R4={canary:null,stable:null,beta:null,dev:null,custom:null};Wn.allQualities=new Set(Object.keys(R4));var k4=t=>Wn.allQualities.has(t);Wn.isQuality=k4;Wn.ChromeBrowserFinder=process.platform==="win32"?$4.WindowsChromeBrowserFinder:process.platform==="darwin"?L4.DarwinChromeBrowserFinder:D4.LinuxChromeBrowserFinder;Wn.EdgeBrowserFinder=process.platform==="win32"?M4.WindowsEdgeBrowserFinder:process.platform==="darwin"?P4.DarwinEdgeBrowserFinder:T4.LinuxEdgeBrowserFinder});var Qx=b((mhe,Yx)=>{Yx.exports=Jx;Jx.sync=N4;var Xx=require("fs");function O4(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function zx(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:O4(e,r)}function Jx(t,e,r){Xx.stat(t,function(n,i){r(n,n?!1:zx(i,t,e))})}function N4(t,e){return zx(Xx.statSync(t),t,e)}});var nC=b((ghe,rC)=>{rC.exports=eC;eC.sync=B4;var Zx=require("fs");function eC(t,e,r){Zx.stat(t,function(n,i){r(n,n?!1:tC(i,e))})}function B4(t,e){return tC(Zx.statSync(t),e)}function tC(t,e){return t.isFile()&&F4(t,e)}function F4(t,e){var r=t.mode,n=t.uid,i=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,p=r&c||r&u&&i===o||r&a&&n===s||r&l&&s===0;return p}});var Nb=b((yhe,iC)=>{var Hhe=require("fs"),Od;process.platform==="win32"||global.TESTING_WINDOWS?Od=Qx():Od=nC();iC.exports=Ob;Ob.sync=U4;function Ob(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Ob(t,e||{},function(s,o){s?i(s):n(o)})})}Od(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function U4(t,e){try{return Od.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var pC=b((vhe,lC)=>{var zu=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",sC=require("path"),j4=zu?";":":",oC=Nb(),aC=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),uC=(t,e)=>{let r=e.colon||j4,n=t.match(/\//)||zu&&t.match(/\\/)?[""]:[...zu?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=zu?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=zu?i.split(r):[""];return zu&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},cC=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=uC(t,e),o=[],a=c=>new Promise((l,p)=>{if(c===n.length)return e.all&&o.length?l(o):p(aC(t));let f=n[c],m=/^".*"$/.test(f)?f.slice(1,-1):f,g=sC.join(m,t),y=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+g:g;l(u(y,c,0))}),u=(c,l,p)=>new Promise((f,m)=>{if(p===i.length)return f(a(l+1));let g=i[p];oC(c+g,{pathExt:s},(y,v)=>{if(!y&&v)if(e.all)o.push(c+g);else return f(c+g);return f(u(c,l,p+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},q4=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=uC(t,e),s=[];for(let o=0;o<r.length;o++){let a=r[o],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=sC.join(u,t),l=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let f=l+n[p];try{if(oC.sync(f,{pathExt:i}))if(e.all)s.push(f);else return f}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw aC(t)};lC.exports=cC;cC.sync=q4});var hC=b((bhe,Bb)=>{"use strict";var fC=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Bb.exports=fC;Bb.exports.default=fC});var HC=b((_he,gC)=>{"use strict";var dC=require("path"),W4=pC(),V4=hC();function mC(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let o;try{o=W4.sync(t.command,{path:r[V4({env:r})],pathExt:e?dC.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=dC.resolve(i?t.options.cwd:"",o)),o}function G4(t){return mC(t)||mC(t,!0)}gC.exports=G4});var yC=b((whe,Ub)=>{"use strict";var Fb=/([()\][%!^"`<>&|;, *?])/g;function K4(t){return t=t.replace(Fb,"^$1"),t}function X4(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Fb,"^$1"),e&&(t=t.replace(Fb,"^$1")),t}Ub.exports.command=K4;Ub.exports.argument=X4});var bC=b((Ahe,vC)=>{"use strict";vC.exports=/^#!(.*)/});var wC=b((Ihe,_C)=>{"use strict";var z4=bC();_C.exports=(t="")=>{let e=t.match(z4);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var IC=b((She,AC)=>{"use strict";var jb=require("fs"),J4=wC();function Y4(t){let r=Buffer.alloc(150),n;try{n=jb.openSync(t,"r"),jb.readSync(n,r,0,150,0),jb.closeSync(n)}catch{}return J4(r.toString())}AC.exports=Y4});var CC=b((Ehe,xC)=>{"use strict";var Q4=require("path"),SC=HC(),EC=yC(),Z4=IC(),e5=process.platform==="win32",t5=/\.(?:com|exe)$/i,r5=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function n5(t){t.file=SC(t);let e=t.file&&Z4(t.file);return e?(t.args.unshift(t.file),t.command=e,SC(t)):t.file}function i5(t){if(!e5)return t;let e=n5(t),r=!t5.test(e);if(t.options.forceShell||r){let n=r5.test(e);t.command=Q4.normalize(t.command),t.command=EC.command(t.command),t.args=t.args.map(s=>EC.argument(s,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function s5(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:i5(n)}xC.exports=s5});var DC=b((xhe,PC)=>{"use strict";var qb=process.platform==="win32";function Wb(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function o5(t,e){if(!qb)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let s=LC(i,e,"spawn");if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function LC(t,e){return qb&&t===1&&!e.file?Wb(e.original,"spawn"):null}function a5(t,e){return qb&&t===1&&!e.file?Wb(e.original,"spawnSync"):null}PC.exports={hookChildProcess:o5,verifyENOENT:LC,verifyENOENTSync:a5,notFoundError:Wb}});var MC=b((Che,Ju)=>{"use strict";var TC=require("child_process"),Vb=CC(),Gb=DC();function $C(t,e,r){let n=Vb(t,e,r),i=TC.spawn(n.command,n.args,n.options);return Gb.hookChildProcess(i,n),i}function u5(t,e,r){let n=Vb(t,e,r),i=TC.spawnSync(n.command,n.args,n.options);return i.error=i.error||Gb.verifyENOENTSync(i.status,n),i}Ju.exports=$C;Ju.exports.spawn=$C;Ju.exports.sync=u5;Ju.exports._parse=Vb;Ju.exports._enoent=Gb});var kC=b((Lhe,RC)=>{"use strict";RC.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var NC=b((Phe,Kb)=>{"use strict";var OC=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Kb.exports=OC;Kb.exports.default=OC});var UC=b((Dhe,Op)=>{"use strict";var kp=require("path"),BC=NC(),FC=t=>{t={cwd:process.cwd(),path:process.env[BC()],execPath:process.execPath,...t};let e,r=kp.resolve(t.cwd),n=[];for(;e!==r;)n.push(kp.join(r,"node_modules/.bin")),e=r,r=kp.resolve(r,"..");let i=kp.resolve(t.cwd,t.execPath,"..");return n.push(i),n.concat(t.path).join(kp.delimiter)};Op.exports=FC;Op.exports.default=FC;Op.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=BC({env:e});return t.path=e[r],e[r]=Op.exports(t),e}});var qC=b((The,Xb)=>{"use strict";var jC=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Xb.exports=jC;Xb.exports.default=jC});var VC=b(($he,Bd)=>{"use strict";var c5=qC(),Nd=new WeakMap,WC=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,i=t.displayName||t.name||"<anonymous>",s=function(...o){if(Nd.set(s,++n),n===1)r=t.apply(this,o),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return c5(s,t),Nd.set(s,n),s};Bd.exports=WC;Bd.exports.default=WC;Bd.exports.callCount=t=>{if(!Nd.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Nd.get(t)}});var GC=b(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.SIGNALS=void 0;var l5=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Fd.SIGNALS=l5});var zb=b(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.SIGRTMAX=Yu.getRealtimeSignals=void 0;var p5=function(){let t=XC-KC+1;return Array.from({length:t},f5)};Yu.getRealtimeSignals=p5;var f5=function(t,e){return{name:`SIGRT${e+1}`,number:KC+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},KC=34,XC=64;Yu.SIGRTMAX=XC});var zC=b(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.getSignals=void 0;var h5=require("os"),d5=GC(),m5=zb(),g5=function(){let t=(0,m5.getRealtimeSignals)();return[...d5.SIGNALS,...t].map(H5)};Ud.getSignals=g5;var H5=function({name:t,number:e,description:r,action:n,forced:i=!1,standard:s}){let{signals:{[t]:o}}=h5.constants,a=o!==void 0;return{name:t,number:a?o:e,description:r,supported:a,action:n,forced:i,standard:s}}});var YC=b(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.signalsByNumber=Qu.signalsByName=void 0;var y5=require("os"),JC=zC(),v5=zb(),b5=function(){return(0,JC.getSignals)().reduce(_5,{})},_5=function(t,{name:e,number:r,description:n,supported:i,action:s,forced:o,standard:a}){return{...t,[e]:{name:e,number:r,description:n,supported:i,action:s,forced:o,standard:a}}},w5=b5();Qu.signalsByName=w5;var A5=function(){let t=(0,JC.getSignals)(),e=v5.SIGRTMAX+1,r=Array.from({length:e},(n,i)=>I5(i,t));return Object.assign({},...r)},I5=function(t,e){let r=S5(t,e);if(r===void 0)return{};let{name:n,description:i,supported:s,action:o,forced:a,standard:u}=r;return{[t]:{name:n,number:t,description:i,supported:s,action:o,forced:a,standard:u}}},S5=function(t,e){let r=e.find(({name:n})=>y5.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},E5=A5();Qu.signalsByNumber=E5});var ZC=b((Nhe,QC)=>{"use strict";var{signalsByName:x5}=YC(),C5=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:i,exitCode:s,isCanceled:o})=>t?`timed out after ${e} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",L5=({stdout:t,stderr:e,all:r,error:n,signal:i,exitCode:s,command:o,escapedCommand:a,timedOut:u,isCanceled:c,killed:l,parsed:{options:{timeout:p}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;let f=i===void 0?void 0:x5[i].description,m=n&&n.code,y=`Command ${C5({timedOut:u,timeout:p,errorCode:m,signal:i,signalDescription:f,exitCode:s,isCanceled:c})}: ${o}`,v=Object.prototype.toString.call(n)==="[object Error]",w=v?`${y}
${n.message}`:y,R=[w,e,t].filter(Boolean).join(`
`);return v?(n.originalMessage=n.message,n.message=R):n=new Error(R),n.shortMessage=w,n.command=o,n.escapedCommand=a,n.exitCode=s,n.signal=i,n.signalDescription=f,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(u),n.isCanceled=c,n.killed=l&&!u,n};QC.exports=L5});var tL=b((Bhe,Jb)=>{"use strict";var jd=["stdin","stdout","stderr"],P5=t=>jd.some(e=>t[e]!==void 0),eL=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return jd.map(n=>t[n]);if(P5(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${jd.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,jd.length);return Array.from({length:r},(n,i)=>e[i])};Jb.exports=eL;Jb.exports.node=t=>{let e=eL(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var rL=b((Fhe,qd)=>{qd.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&qd.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&qd.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var sL=b((Uhe,Fp)=>{var D5=require("assert"),Np=rL(),T5=/^win/i.test(process.platform),Wd=require("events");typeof Wd!="function"&&(Wd=Wd.EventEmitter);var er;process.__signal_exit_emitter__?er=process.__signal_exit_emitter__:(er=process.__signal_exit_emitter__=new Wd,er.count=0,er.emitted={});er.infinite||(er.setMaxListeners(1/0),er.infinite=!0);Fp.exports=function(t,e){D5.equal(typeof t,"function","a callback must be provided for exit handler"),Bp===!1&&nL();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){er.removeListener(r,t),er.listeners("exit").length===0&&er.listeners("afterexit").length===0&&Qb()};return er.on(r,t),n};Fp.exports.unload=Qb;function Qb(){Bp&&(Bp=!1,Np.forEach(function(t){try{process.removeListener(t,Zb[t])}catch{}}),process.emit=Yb,process.reallyExit=iL,er.count-=1)}function Zu(t,e,r){er.emitted[t]||(er.emitted[t]=!0,er.emit(t,e,r))}var Zb={};Np.forEach(function(t){Zb[t]=function(){var r=process.listeners(t);r.length===er.count&&(Qb(),Zu("exit",null,t),Zu("afterexit",null,t),T5&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});Fp.exports.signals=function(){return Np};Fp.exports.load=nL;var Bp=!1;function nL(){Bp||(Bp=!0,er.count+=1,Np=Np.filter(function(t){try{return process.on(t,Zb[t]),!0}catch{return!1}}),process.emit=M5,process.reallyExit=$5)}var iL=process.reallyExit;function $5(t){process.exitCode=t||0,Zu("exit",process.exitCode,null),Zu("afterexit",process.exitCode,null),iL.call(process,process.exitCode)}var Yb=process.emit;function M5(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var r=Yb.apply(this,arguments);return Zu("exit",process.exitCode,null),Zu("afterexit",process.exitCode,null),r}else return Yb.apply(this,arguments)}});var aL=b((jhe,oL)=>{"use strict";var R5=require("os"),k5=sL(),O5=1e3*5,N5=(t,e="SIGTERM",r={})=>{let n=t(e);return B5(t,e,r,n),n},B5=(t,e,r,n)=>{if(!F5(e,r,n))return;let i=j5(r),s=setTimeout(()=>{t("SIGKILL")},i);s.unref&&s.unref()},F5=(t,{forceKillAfterTimeout:e},r)=>U5(t)&&e!==!1&&r,U5=t=>t===R5.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",j5=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return O5;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},q5=(t,e)=>{t.kill()&&(e.isCanceled=!0)},W5=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},V5=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,s=new Promise((a,u)=>{i=setTimeout(()=>{W5(t,r,u)},e)}),o=n.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},G5=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},K5=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let i=k5(()=>{t.kill()});return n.finally(()=>{i()})};oL.exports={spawnedKill:N5,spawnedCancel:q5,setupTimeout:V5,validateTimeout:G5,setExitHandler:K5}});var cL=b((qhe,uL)=>{"use strict";var Hi=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Hi.writable=t=>Hi(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Hi.readable=t=>Hi(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Hi.duplex=t=>Hi.writable(t)&&Hi.readable(t);Hi.transform=t=>Hi.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";uL.exports=Hi});var pL=b((Whe,lL)=>{"use strict";var{PassThrough:X5}=require("stream");lL.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let s=new X5({objectMode:i});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),i?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var fL=b((Vhe,Up)=>{"use strict";var{constants:z5}=require("buffer"),J5=require("stream"),{promisify:Y5}=require("util"),Q5=pL(),Z5=Y5(J5.pipeline),Vd=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function e_(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=Q5(e);return await new Promise((i,s)=>{let o=a=>{a&&n.getBufferedLength()<=z5.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};(async()=>{try{await Z5(t,n),i()}catch(a){o(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&o(new Vd)})}),n.getBufferedValue()}Up.exports=e_;Up.exports.buffer=(t,e)=>e_(t,{...e,encoding:"buffer"});Up.exports.array=(t,e)=>e_(t,{...e,array:!0});Up.exports.MaxBufferError=Vd});var dL=b((Ghe,hL)=>{"use strict";var{PassThrough:eG}=require("stream");hL.exports=function(){var t=[],e=new eG({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),e;function r(s){return Array.isArray(s)?(s.forEach(r),this):(t.push(s),s.once("end",i.bind(null,s)),s.once("error",e.emit.bind(e,"error")),s.pipe(e,{end:!1}),this)}function n(){return t.length==0}function i(s){t=t.filter(function(o){return o!==s}),!t.length&&e.readable&&e.end()}}});var yL=b((Khe,HL)=>{"use strict";var gL=cL(),mL=fL(),tG=dL(),rG=(t,e)=>{e===void 0||t.stdin===void 0||(gL(e)?e.pipe(t.stdin):t.stdin.end(e))},nG=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=tG();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},t_=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},r_=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?mL(t,{encoding:e,maxBuffer:n}):mL.buffer(t,{maxBuffer:n})},iG=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:s},o)=>{let a=r_(t,{encoding:n,buffer:i,maxBuffer:s}),u=r_(e,{encoding:n,buffer:i,maxBuffer:s}),c=r_(r,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,a,u,c])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},t_(t,a),t_(e,u),t_(r,c)])}},sG=({input:t})=>{if(gL(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};HL.exports={handleInput:rG,makeAllStream:nG,getSpawnedResult:iG,validateInputSync:sG}});var bL=b((Xhe,vL)=>{"use strict";var oG=(async()=>{})().constructor.prototype,aG=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(oG,t)]),uG=(t,e)=>{for(let[r,n]of aG){let i=typeof e=="function"?(...s)=>Reflect.apply(n.value,e(),s):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}return t},cG=t=>new Promise((e,r)=>{t.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});vL.exports={mergePromise:uG,getSpawnedPromise:cG}});var AL=b((zhe,wL)=>{"use strict";var _L=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],lG=/^[\w.-]+$/,pG=/"/g,fG=t=>typeof t!="string"||lG.test(t)?t:`"${t.replace(pG,'\\"')}"`,hG=(t,e)=>_L(t,e).join(" "),dG=(t,e)=>_L(t,e).map(r=>fG(r)).join(" "),mG=/ +/g,gG=t=>{let e=[];for(let r of t.trim().split(mG)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${r}`:e.push(r)}return e};wL.exports={joinCommand:hG,getEscapedCommand:dG,parseCommand:gG}});var i_=b((Jhe,ec)=>{"use strict";var HG=require("path"),n_=require("child_process"),yG=MC(),vG=kC(),bG=UC(),_G=VC(),Gd=ZC(),SL=tL(),{spawnedKill:wG,spawnedCancel:AG,setupTimeout:IG,validateTimeout:SG,setExitHandler:EG}=aL(),{handleInput:xG,getSpawnedResult:CG,makeAllStream:LG,validateInputSync:PG}=yL(),{mergePromise:IL,getSpawnedPromise:DG}=bL(),{joinCommand:EL,parseCommand:xL,getEscapedCommand:CL}=AL(),TG=1e3*1e3*100,$G=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:i})=>{let s=e?{...process.env,...t}:t;return r?bG.env({env:s,cwd:n,execPath:i}):s},LL=(t,e,r={})=>{let n=yG._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:TG,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=$G(r),r.stdio=SL(r),process.platform==="win32"&&HG.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},jp=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?vG(e):e,Kd=(t,e,r)=>{let n=LL(t,e,r),i=EL(t,e),s=CL(t,e);SG(n.options);let o;try{o=n_.spawn(n.file,n.args,n.options)}catch(m){let g=new n_.ChildProcess,y=Promise.reject(Gd({error:m,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return IL(g,y)}let a=DG(o),u=IG(o,n.options,a),c=EG(o,n.options,u),l={isCanceled:!1};o.kill=wG.bind(null,o.kill.bind(o)),o.cancel=AG.bind(null,o,l);let f=_G(async()=>{let[{error:m,exitCode:g,signal:y,timedOut:v},w,R,U]=await CG(o,n.options,c),x=jp(n.options,w),P=jp(n.options,R),V=jp(n.options,U);if(m||g!==0||y!==null){let q=Gd({error:m,exitCode:g,signal:y,stdout:x,stderr:P,all:V,command:i,escapedCommand:s,parsed:n,timedOut:v,isCanceled:l.isCanceled,killed:o.killed});if(!n.options.reject)return q;throw q}return{command:i,escapedCommand:s,exitCode:0,stdout:x,stderr:P,all:V,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return xG(o,n.options.input),o.all=LG(o,n.options),IL(o,f)};ec.exports=Kd;ec.exports.sync=(t,e,r)=>{let n=LL(t,e,r),i=EL(t,e),s=CL(t,e);PG(n.options);let o;try{o=n_.spawnSync(n.file,n.args,n.options)}catch(c){throw Gd({error:c,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=jp(n.options,o.stdout,o.error),u=jp(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=Gd({stdout:a,stderr:u,error:o.error,signal:o.signal,exitCode:o.status,command:i,escapedCommand:s,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,escapedCommand:s,exitCode:0,stdout:a,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};ec.exports.command=(t,e)=>{let[r,...n]=xL(t);return Kd(r,n,e)};ec.exports.commandSync=(t,e)=>{let[r,...n]=xL(t);return Kd.sync(r,n,e)};ec.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let n=SL.node(r),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:o=i}=r;return Kd(s,[...o,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Pt=b(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.NON_CUSTOM_TAG_KEYS=Pe.PRE_DESTROY=Pe.POST_CONSTRUCT=Pe.DESIGN_PARAM_TYPES=Pe.PARAM_TYPES=Pe.TAGGED_PROP=Pe.TAGGED=Pe.MULTI_INJECT_TAG=Pe.INJECT_TAG=Pe.OPTIONAL_TAG=Pe.UNMANAGED_TAG=Pe.NAME_TAG=Pe.NAMED_TAG=void 0;Pe.NAMED_TAG="named";Pe.NAME_TAG="name";Pe.UNMANAGED_TAG="unmanaged";Pe.OPTIONAL_TAG="optional";Pe.INJECT_TAG="inject";Pe.MULTI_INJECT_TAG="multi_inject";Pe.TAGGED="inversify:tagged";Pe.TAGGED_PROP="inversify:tagged_props";Pe.PARAM_TYPES="inversify:paramtypes";Pe.DESIGN_PARAM_TYPES="design:paramtypes";Pe.POST_CONSTRUCT="post_construct";Pe.PRE_DESTROY="pre_destroy";function MG(){return[Pe.INJECT_TAG,Pe.MULTI_INJECT_TAG,Pe.NAME_TAG,Pe.UNMANAGED_TAG,Pe.NAMED_TAG,Pe.OPTIONAL_TAG]}Pe.NON_CUSTOM_TAG_KEYS=MG()});var Vn=b(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.TargetTypeEnum=to.BindingTypeEnum=to.BindingScopeEnum=void 0;var RG={Request:"Request",Singleton:"Singleton",Transient:"Transient"};to.BindingScopeEnum=RG;var kG={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};to.BindingTypeEnum=kG;var OG={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};to.TargetTypeEnum=OG});var ro=b(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.id=void 0;var NG=0;function BG(){return NG++}Xd.id=BG});var DL=b(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.Binding=void 0;var PL=Vn(),FG=ro(),UG=function(){function t(e,r){this.id=(0,FG.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=r,this.type=PL.BindingTypeEnum.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===PL.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();zd.Binding=UG});var fr=b(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.STACK_OVERFLOW=oe.CIRCULAR_DEPENDENCY_IN_FACTORY=oe.ON_DEACTIVATION_ERROR=oe.PRE_DESTROY_ERROR=oe.POST_CONSTRUCT_ERROR=oe.ASYNC_UNBIND_REQUIRED=oe.MULTIPLE_POST_CONSTRUCT_METHODS=oe.MULTIPLE_PRE_DESTROY_METHODS=oe.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=oe.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=oe.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=oe.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=oe.ARGUMENTS_LENGTH_MISMATCH=oe.INVALID_DECORATOR_OPERATION=oe.INVALID_TO_SELF_VALUE=oe.LAZY_IN_SYNC=oe.INVALID_FUNCTION_BINDING=oe.INVALID_MIDDLEWARE_RETURN=oe.NO_MORE_SNAPSHOTS_AVAILABLE=oe.INVALID_BINDING_TYPE=oe.NOT_IMPLEMENTED=oe.CIRCULAR_DEPENDENCY=oe.UNDEFINED_INJECT_ANNOTATION=oe.MISSING_INJECT_ANNOTATION=oe.MISSING_INJECTABLE_ANNOTATION=oe.NOT_REGISTERED=oe.CANNOT_UNBIND=oe.AMBIGUOUS_MATCH=oe.KEY_NOT_FOUND=oe.NULL_ARGUMENT=oe.DUPLICATED_METADATA=oe.DUPLICATED_INJECTABLE_DECORATOR=void 0;oe.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";oe.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";oe.NULL_ARGUMENT="NULL argument";oe.KEY_NOT_FOUND="Key Not Found";oe.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";oe.CANNOT_UNBIND="Could not unbind serviceIdentifier:";oe.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";oe.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";oe.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var jG=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};oe.UNDEFINED_INJECT_ANNOTATION=jG;oe.CIRCULAR_DEPENDENCY="Circular dependency found:";oe.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";oe.INVALID_BINDING_TYPE="Invalid binding type:";oe.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";oe.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";oe.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var qG=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};oe.LAZY_IN_SYNC=qG;oe.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";oe.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var WG=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};oe.ARGUMENTS_LENGTH_MISMATCH=WG;oe.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";oe.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";oe.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";oe.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";oe.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";oe.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";oe.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var VG=function(t,e){return"@postConstruct error in class "+t+": "+e};oe.POST_CONSTRUCT_ERROR=VG;var GG=function(t,e){return"@preDestroy error in class "+t+": "+e};oe.PRE_DESTROY_ERROR=GG;var KG=function(t,e){return"onDeactivation() error in class "+t+": "+e};oe.ON_DEACTIVATION_ERROR=KG;var XG=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};oe.CIRCULAR_DEPENDENCY_IN_FACTORY=XG;oe.STACK_OVERFLOW="Maximum call stack size exceeded"});var o_=b(yi=>{"use strict";var zG=yi&&yi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JG=yi&&yi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YG=yi&&yi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zG(e,t,r);return JG(e,t),e};Object.defineProperty(yi,"__esModule",{value:!0});yi.MetadataReader=void 0;var s_=YG(Pt()),QG=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var r=Reflect.getMetadata(s_.PARAM_TYPES,e),n=Reflect.getMetadata(s_.TAGGED,e);return{compilerGeneratedMetadata:r,userGeneratedMetadata:n||{}}},t.prototype.getPropertiesMetadata=function(e){var r=Reflect.getMetadata(s_.TAGGED_PROP,e)||[];return r},t}();yi.MetadataReader=QG});var TL=b(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.BindingCount=void 0;var ZG={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};Jd.BindingCount=ZG});var a_=b(yn=>{"use strict";var e6=yn&&yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t6=yn&&yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r6=yn&&yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e6(e,t,r);return t6(e,t),e};Object.defineProperty(yn,"__esModule",{value:!0});yn.tryAndThrowErrorIfStackOverflow=yn.isStackOverflowExeption=void 0;var n6=r6(fr());function $L(t){return t instanceof RangeError||t.message===n6.STACK_OVERFLOW}yn.isStackOverflowExeption=$L;var i6=function(t,e){try{return t()}catch(r){throw $L(r)&&(r=e()),r}};yn.tryAndThrowErrorIfStackOverflow=i6});var tc=b(Dt=>{"use strict";var s6=Dt&&Dt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o6=Dt&&Dt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a6=Dt&&Dt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&s6(e,t,r);return o6(e,t),e};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.getSymbolDescription=Dt.circularDependencyToException=Dt.listMetadataForTarget=Dt.listRegisteredBindingsForServiceIdentifier=Dt.getServiceIdentifierAsString=Dt.getFunctionName=void 0;var u6=a6(fr());function ML(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}Dt.getServiceIdentifierAsString=ML;function c6(t,e,r){var n="",i=r(t,e);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(s){var o="Object";s.implementationType!==null&&(o=OL(s.implementationType)),n=n+`
 `+o,s.constraint.metaData&&(n=n+" - "+s.constraint.metaData)})),n}Dt.listRegisteredBindingsForServiceIdentifier=c6;function RL(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:RL(t.parentRequest,e)}function l6(t){function e(n,i){i===void 0&&(i=[]);var s=ML(n.serviceIdentifier);return i.push(s),n.parentRequest!==null?e(n.parentRequest,i):i}var r=e(t);return r.reverse().join(" --> ")}function kL(t){t.childRequests.forEach(function(e){if(RL(e,e.serviceIdentifier)){var r=l6(e);throw new Error(u6.CIRCULAR_DEPENDENCY+" "+r)}else kL(e)})}Dt.circularDependencyToException=kL;function p6(t,e){if(e.isTagged()||e.isNamed()){var r="",n=e.getNamedTag(),i=e.getCustomTags();return n!==null&&(r+=n.toString()+`
`),i!==null&&i.forEach(function(s){r+=s.toString()+`
`})," "+t+`
 `+t+" - "+r}else return" "+t}Dt.listMetadataForTarget=p6;function OL(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}Dt.getFunctionName=OL;function f6(t){return t.toString().slice(7,-1)}Dt.getSymbolDescription=f6});var NL=b(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.Context=void 0;var h6=ro(),d6=function(){function t(e){this.id=(0,h6.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();Yd.Context=d6});var Gn=b(vi=>{"use strict";var m6=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),g6=vi&&vi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H6=vi&&vi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m6(e,t,r);return g6(e,t),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.Metadata=void 0;var y6=H6(Pt()),v6=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===y6.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();vi.Metadata=v6});var BL=b(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.Plan=void 0;var b6=function(){function t(e,r){this.parentContext=e,this.rootRequest=r}return t}();Qd.Plan=b6});var u_=b(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.LazyServiceIdentifer=void 0;var _6=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();Zd.LazyServiceIdentifer=_6});var FL=b(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.QueryableString=void 0;var w6=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var r="",n=e.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},n)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();em.QueryableString=w6});var c_=b(bi=>{"use strict";var A6=bi&&bi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I6=bi&&bi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),S6=bi&&bi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A6(e,t,r);return I6(e,t),e};Object.defineProperty(bi,"__esModule",{value:!0});bi.Target=void 0;var ms=S6(Pt()),E6=ro(),x6=tc(),UL=Gn(),C6=FL(),L6=function(){function t(e,r,n,i){this.id=(0,E6.id)(),this.type=e,this.serviceIdentifier=n;var s=typeof r=="symbol"?(0,x6.getSymbolDescription)(r):r;this.name=new C6.QueryableString(s||""),this.identifier=r,this.metadata=new Array;var o=null;typeof i=="string"?o=new UL.Metadata(ms.NAMED_TAG,i):i instanceof UL.Metadata&&(o=i),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var r=0,n=this.metadata;r<n.length;r++){var i=n[r];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(ms.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(ms.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(ms.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return ms.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})})},t.prototype.isOptional=function(){return this.matchesTag(ms.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===ms.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return ms.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(ms.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var r=this;return function(n){for(var i=0,s=r.metadata;i<s.length;i++){var o=s[i];if(o.key===e&&o.value===n)return!0}return!1}},t}();bi.Target=L6});var zL=b(hr=>{"use strict";var P6=hr&&hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D6=hr&&hr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jL=hr&&hr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&P6(e,t,r);return D6(e,t),e},tm=hr&&hr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(hr,"__esModule",{value:!0});hr.getFunctionName=hr.getBaseClassDependencyCount=hr.getDependencies=void 0;var T6=u_(),l_=jL(fr()),qL=Vn(),qp=jL(Pt()),p_=tc();Object.defineProperty(hr,"getFunctionName",{enumerable:!0,get:function(){return p_.getFunctionName}});var WL=c_();function $6(t,e){var r=(0,p_.getFunctionName)(e);return VL(t,r,e,!1)}hr.getDependencies=$6;function VL(t,e,r,n){var i=t.getConstructorMetadata(r),s=i.compilerGeneratedMetadata;if(s===void 0){var o=l_.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(o)}var a=i.userGeneratedMetadata,u=Object.keys(a),c=r.length===0&&u.length>0,l=u.length>r.length,p=c||l?u.length:r.length,f=R6(n,e,s,a,p),m=GL(t,r,e),g=tm(tm([],f,!0),m,!0);return g}function M6(t,e,r,n,i){var s=i[t.toString()]||[],o=XL(s),a=o.unmanaged!==!0,u=n[t],c=o.inject||o.multiInject;if(u=c||u,u instanceof T6.LazyServiceIdentifer&&(u=u.unwrap()),a){var l=u===Object,p=u===Function,f=u===void 0,m=l||p||f;if(!e&&m){var g=l_.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(g)}var y=new WL.Target(qL.TargetTypeEnum.ConstructorArgument,o.targetName,u);return y.metadata=s,y}return null}function R6(t,e,r,n,i){for(var s=[],o=0;o<i;o++){var a=o,u=M6(a,t,e,r,n);u!==null&&s.push(u)}return s}function k6(t,e,r,n){var i=t||e;if(i===void 0){var s=l_.MISSING_INJECTABLE_ANNOTATION+" for property "+String(r)+" in class "+n+".";throw new Error(s)}return i}function GL(t,e,r){for(var n=t.getPropertiesMetadata(e),i=[],s=Object.getOwnPropertySymbols(n),o=Object.keys(n),a=o.concat(s),u=0,c=a;u<c.length;u++){var l=c[u],p=n[l],f=XL(p),m=f.targetName||l,g=k6(f.inject,f.multiInject,l,r),y=new WL.Target(qL.TargetTypeEnum.ClassProperty,m,g);y.metadata=p,i.push(y)}var v=Object.getPrototypeOf(e.prototype).constructor;if(v!==Object){var w=GL(t,v,r);i=tm(tm([],i,!0),w,!0)}return i}function KL(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var n=(0,p_.getFunctionName)(r),i=VL(t,n,r,!0),s=i.map(function(u){return u.metadata.filter(function(c){return c.key===qp.UNMANAGED_TAG})}),o=[].concat.apply([],s).length,a=i.length-o;return a>0?a:KL(t,r)}else return 0}hr.getBaseClassDependencyCount=KL;function XL(t){var e={};return t.forEach(function(r){e[r.key.toString()]=r.value}),{inject:e[qp.INJECT_TAG],multiInject:e[qp.MULTI_INJECT_TAG],targetName:e[qp.NAME_TAG],unmanaged:e[qp.UNMANAGED_TAG]}}});var JL=b(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.Request=void 0;var O6=ro(),N6=function(){function t(e,r,n,i,s){this.id=(0,O6.id)(),this.serviceIdentifier=e,this.parentContext=r,this.parentRequest=n,this.target=s,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return t.prototype.addChildRequest=function(e,r,n){var i=new t(e,this.parentContext,this,r,n);return this.childRequests.push(i),i},t}();rm.Request=N6});var g_=b(Nr=>{"use strict";var B6=Nr&&Nr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F6=Nr&&Nr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZL=Nr&&Nr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B6(e,t,r);return F6(e,t),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getBindingDictionary=Nr.createMockRequest=Nr.plan=void 0;var nm=TL(),h_=ZL(fr()),eP=Vn(),YL=ZL(Pt()),U6=a_(),rc=tc(),tP=NL(),d_=Gn(),j6=BL(),f_=zL(),m_=JL(),rP=c_();function nP(t){return t._bindingDictionary}Nr.getBindingDictionary=nP;function q6(t,e,r,n,i,s){var o=t?YL.MULTI_INJECT_TAG:YL.INJECT_TAG,a=new d_.Metadata(o,r),u=new rP.Target(e,n,r,a);if(i!==void 0){var c=new d_.Metadata(i,s);u.metadata.push(c)}return u}function QL(t,e,r,n,i){var s=Wp(r.container,i.serviceIdentifier),o=[];return s.length===nm.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),s=Wp(r.container,i.serviceIdentifier)),e?o=s:o=s.filter(function(a){var u=new m_.Request(a.serviceIdentifier,r,n,a,i);return a.constraint(u)}),W6(i.serviceIdentifier,o,i,r.container),o}function W6(t,e,r,n){switch(e.length){case nm.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var i=(0,rc.getServiceIdentifierAsString)(t),s=h_.NOT_REGISTERED;throw s+=(0,rc.listMetadataForTarget)(i,r),s+=(0,rc.listRegisteredBindingsForServiceIdentifier)(n,i,Wp),new Error(s);case nm.BindingCount.OnlyOneBindingAvailable:return e;case nm.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var i=(0,rc.getServiceIdentifierAsString)(t),s=h_.AMBIGUOUS_MATCH+" "+i;throw s+=(0,rc.listRegisteredBindingsForServiceIdentifier)(n,i,Wp),new Error(s)}}function iP(t,e,r,n,i,s){var o,a;if(i===null){o=QL(t,e,n,null,s),a=new m_.Request(r,n,null,o,s);var u=new j6.Plan(n,a);n.addPlan(u)}else o=QL(t,e,n,i,s),a=i.addChildRequest(s.serviceIdentifier,o,s);o.forEach(function(c){var l=null;if(s.isArray())l=a.addChildRequest(c.serviceIdentifier,c,s);else{if(c.cache)return;l=a}if(c.type===eP.BindingTypeEnum.Instance&&c.implementationType!==null){var p=(0,f_.getDependencies)(t,c.implementationType);if(!n.container.options.skipBaseClassChecks){var f=(0,f_.getBaseClassDependencyCount)(t,c.implementationType);if(p.length<f){var m=h_.ARGUMENTS_LENGTH_MISMATCH((0,f_.getFunctionName)(c.implementationType));throw new Error(m)}}p.forEach(function(g){iP(t,!1,g.serviceIdentifier,n,l,g)})}})}function Wp(t,e){var r=[],n=nP(t);return n.hasKey(e)?r=n.get(e):t.parent!==null&&(r=Wp(t.parent,e)),r}function V6(t,e,r,n,i,s,o,a){a===void 0&&(a=!1);var u=new tP.Context(e),c=q6(r,n,i,"",s,o);try{return iP(t,a,i,u,null,c),u}catch(l){throw(0,U6.isStackOverflowExeption)(l)&&(0,rc.circularDependencyToException)(u.plan.rootRequest),l}}Nr.plan=V6;function G6(t,e,r,n){var i=new rP.Target(eP.TargetTypeEnum.Variable,"",e,new d_.Metadata(r,n)),s=new tP.Context(t),o=new m_.Request(e,s,null,[],i);return o}Nr.createMockRequest=G6});var Vp=b(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.isPromiseOrContainsPromise=nc.isPromise=void 0;function H_(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}nc.isPromise=H_;function K6(t){return H_(t)?!0:Array.isArray(t)&&t.some(H_)}nc.isPromiseOrContainsPromise=K6});var sP=b(_i=>{"use strict";var X6=_i&&_i.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},z6=_i&&_i.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(_i,"__esModule",{value:!0});_i.saveToScope=_i.tryGetFromScope=void 0;var im=ce(),J6=Vp(),Y6=function(t,e){return e.scope===im.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===im.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};_i.tryGetFromScope=Y6;var Q6=function(t,e,r){e.scope===im.BindingScopeEnum.Singleton&&e9(e,r),e.scope===im.BindingScopeEnum.Request&&Z6(t,e,r)};_i.saveToScope=Q6;var Z6=function(t,e,r){t.has(e.id)||t.set(e.id,r)},e9=function(t,e){t.cache=e,t.activated=!0,(0,J6.isPromise)(e)&&t9(t,e)},t9=function(t,e){return X6(void 0,void 0,void 0,function(){var r,n;return z6(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return r=i.sent(),t.cache=r,[3,3];case 2:throw n=i.sent(),t.cache=null,t.activated=!1,n;case 3:return[2]}})})}});var oP=b(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.FactoryType=void 0;var r9;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(r9=Gp.FactoryType||(Gp.FactoryType={}))});var v_=b(Br=>{"use strict";var n9=Br&&Br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i9=Br&&Br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s9=Br&&Br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n9(e,t,r);return i9(e,t),e};Object.defineProperty(Br,"__esModule",{value:!0});Br.getFactoryDetails=Br.ensureFullyBound=Br.multiBindToService=void 0;var o9=ce(),a9=s9(fr()),wi=Vn(),y_=oP(),u9=function(t){return function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(i){return t.bind(i).toService(e)})}}};Br.multiBindToService=u9;var c9=function(t){var e=null;switch(t.type){case wi.BindingTypeEnum.ConstantValue:case wi.BindingTypeEnum.Function:e=t.cache;break;case wi.BindingTypeEnum.Constructor:case wi.BindingTypeEnum.Instance:e=t.implementationType;break;case wi.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case wi.BindingTypeEnum.Provider:e=t.provider;break;case wi.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var r=(0,o9.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(a9.INVALID_BINDING_TYPE+" "+r)}};Br.ensureFullyBound=c9;var l9=function(t){switch(t.type){case wi.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:y_.FactoryType.Factory};case wi.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:y_.FactoryType.Provider};case wi.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:y_.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};Br.getFactoryDetails=l9});var fP=b(Kt=>{"use strict";var ic=Kt&&Kt.__assign||function(){return ic=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ic.apply(this,arguments)},p9=Kt&&Kt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f9=Kt&&Kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h9=Kt&&Kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&p9(e,t,r);return f9(e,t),e},cP=Kt&&Kt.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},lP=Kt&&Kt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},d9=Kt&&Kt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.resolveInstance=void 0;var b_=fr(),w_=Vn(),__=h9(Pt()),A_=Vp();function m9(t,e){return t.reduce(function(r,n){var i=e(n),s=n.target.type;return s===w_.TargetTypeEnum.ConstructorArgument?r.constructorInjections.push(i):(r.propertyRequests.push(n),r.propertyInjections.push(i)),r.isAsync||(r.isAsync=(0,A_.isPromiseOrContainsPromise)(i)),r},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function g9(t,e,r){var n;if(e.length>0){var i=m9(e,r),s=ic(ic({},i),{constr:t});i.isAsync?n=H9(s):n=pP(s)}else n=new t;return n}function pP(t){var e,r=new((e=t.constr).bind.apply(e,d9([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(n,i){var s=n.target.identifier,o=t.propertyInjections[i];r[s]=o}),r}function H9(t){return cP(this,void 0,void 0,function(){var e,r;return lP(this,function(n){switch(n.label){case 0:return[4,aP(t.constructorInjections)];case 1:return e=n.sent(),[4,aP(t.propertyInjections)];case 2:return r=n.sent(),[2,pP(ic(ic({},t),{constructorInjections:e,propertyInjections:r}))]}})})}function aP(t){return cP(this,void 0,void 0,function(){var e,r,n,i;return lP(this,function(s){for(e=[],r=0,n=t;r<n.length;r++)i=n[r],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function uP(t,e){var r=y9(t,e);return(0,A_.isPromise)(r)?r.then(function(){return e}):e}function y9(t,e){var r,n;if(Reflect.hasMetadata(__.POST_CONSTRUCT,t)){var i=Reflect.getMetadata(__.POST_CONSTRUCT,t);try{return(n=(r=e)[i.value])===null||n===void 0?void 0:n.call(r)}catch(s){throw new Error((0,b_.POST_CONSTRUCT_ERROR)(t.name,s.message))}}}function v9(t,e){t.scope!==w_.BindingScopeEnum.Singleton&&b9(t,e)}function b9(t,e){var r="Class cannot be instantiated in "+(t.scope===w_.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,b_.ON_DEACTIVATION_ERROR)(e.name,r));if(Reflect.hasMetadata(__.PRE_DESTROY,e))throw new Error((0,b_.PRE_DESTROY_ERROR)(e.name,r))}function _9(t,e,r,n){v9(t,e);var i=g9(e,r,n);return(0,A_.isPromise)(i)?i.then(function(s){return uP(e,s)}):uP(e,i)}Kt.resolveInstance=_9});var HP=b(Fr=>{"use strict";var w9=Fr&&Fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A9=Fr&&Fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I9=Fr&&Fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&w9(e,t,r);return A9(e,t),e},S9=Fr&&Fr.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},E9=Fr&&Fr.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.resolve=void 0;var x9=I9(fr()),sm=Vn(),C9=g_(),hP=sP(),I_=Vp(),mP=v_(),L9=a_(),P9=fP(),S_=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),s=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&s)return n.map(function(a){var u=S_(t);return u(a)});if(e.target.isOptional()&&r.length===0)return;var o=r[0];return M9(t,e,o)}},D9=function(t,e){var r=(0,mP.getFactoryDetails)(t);return(0,L9.tryAndThrowErrorIfStackOverflow)(function(){return r.factory.bind(t)(e)},function(){return new Error(x9.CIRCULAR_DEPENDENCY_IN_FACTORY(r.factoryType,e.currentRequest.serviceIdentifier.toString()))})},T9=function(t,e,r){var n,i=e.childRequests;switch((0,mP.ensureFullyBound)(r),r.type){case sm.BindingTypeEnum.ConstantValue:case sm.BindingTypeEnum.Function:n=r.cache;break;case sm.BindingTypeEnum.Constructor:n=r.implementationType;break;case sm.BindingTypeEnum.Instance:n=(0,P9.resolveInstance)(r,r.implementationType,i,S_(t));break;default:n=D9(r,e.parentContext)}return n},$9=function(t,e,r){var n=(0,hP.tryGetFromScope)(t,e);return n!==null||(n=r(),(0,hP.saveToScope)(t,e,n)),n},M9=function(t,e,r){return $9(t,r,function(){var n=T9(t,e,r);return(0,I_.isPromise)(n)?n=n.then(function(i){return dP(e,r,i)}):n=dP(e,r,n),n})};function dP(t,e,r){var n=R9(t.parentContext,e,r),i=N9(t.parentContext.container),s,o=i.next();do{s=o.value;var a=t.parentContext,u=t.serviceIdentifier,c=O9(s,u);(0,I_.isPromise)(n)?n=gP(c,a,n):n=k9(c,a,n),o=i.next()}while(o.done!==!0&&!(0,C9.getBindingDictionary)(s).hasKey(t.serviceIdentifier));return n}var R9=function(t,e,r){var n;return typeof e.onActivation=="function"?n=e.onActivation(t,r):n=r,n},k9=function(t,e,r){for(var n=t.next();!n.done;){if(r=n.value(e,r),(0,I_.isPromise)(r))return gP(t,e,r);n=t.next()}return r},gP=function(t,e,r){return S9(void 0,void 0,void 0,function(){var n,i;return E9(this,function(s){switch(s.label){case 0:return[4,r];case 1:n=s.sent(),i=t.next(),s.label=2;case 2:return i.done?[3,4]:[4,i.value(e,n)];case 3:return n=s.sent(),i=t.next(),[3,2];case 4:return[2,n]}})})},O9=function(t,e){var r=t._activations;return r.hasKey(e)?r.get(e).values():[].values()},N9=function(t){for(var e=[t],r=t.parent;r!==null;)e.push(r),r=r.parent;var n=function(){var s=e.pop();return s!==void 0?{done:!1,value:s}:{done:!0,value:void 0}},i={next:n};return i};function B9(t){var e=S_(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}Fr.resolve=B9});var E_=b(dr=>{"use strict";var F9=dr&&dr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U9=dr&&dr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),j9=dr&&dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F9(e,t,r);return U9(e,t),e};Object.defineProperty(dr,"__esModule",{value:!0});dr.typeConstraint=dr.namedConstraint=dr.taggedConstraint=dr.traverseAncerstors=void 0;var q9=j9(Pt()),W9=Gn(),yP=function(t,e){var r=t.parentRequest;return r!==null?e(r)?!0:yP(r,e):!1};dr.traverseAncerstors=yP;var vP=function(t){return function(e){var r=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(t)(e)};return r.metaData=new W9.Metadata(t,e),r}};dr.taggedConstraint=vP;var V9=vP(q9.NAMED_TAG);dr.namedConstraint=V9;var G9=function(t){return function(e){var r=null;if(e!==null)if(r=e.bindings[0],typeof t=="string"){var n=r.serviceIdentifier;return n===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};dr.typeConstraint=G9});var am=b(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.BindingWhenSyntax=void 0;var Sr=um(),Ot=E_(),K9=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new Sr.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,Ot.namedConstraint)(e),new Sr.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var r=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return r},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,r){return this._binding.constraint=(0,Ot.taggedConstraint)(e)(r),new Sr.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Ot.typeConstraint)(e)(r.parentRequest)},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Ot.namedConstraint)(e)(r.parentRequest)},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,Ot.taggedConstraint)(e)(r)(n.parentRequest)},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Ot.traverseAncerstors)(r,(0,Ot.typeConstraint)(e))},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Ot.traverseAncerstors)(r,(0,Ot.typeConstraint)(e))},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Ot.traverseAncerstors)(r,(0,Ot.namedConstraint)(e))},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Ot.traverseAncerstors)(r,(0,Ot.namedConstraint)(e))},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,Ot.traverseAncerstors)(n,(0,Ot.taggedConstraint)(e)(r))},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&!(0,Ot.traverseAncerstors)(n,(0,Ot.taggedConstraint)(e)(r))},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Ot.traverseAncerstors)(r,e)},new Sr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Ot.traverseAncerstors)(r,e)},new Sr.BindingOnSyntax(this._binding)},t}();om.BindingWhenSyntax=K9});var um=b(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.BindingOnSyntax=void 0;var bP=am(),X9=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new bP.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new bP.BindingWhenSyntax(this._binding)},t}();cm.BindingOnSyntax=X9});var x_=b(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.BindingWhenOnSyntax=void 0;var z9=um(),J9=am(),Y9=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new J9.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new z9.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();lm.BindingWhenOnSyntax=Y9});var _P=b(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.BindingInSyntax=void 0;var C_=Vn(),L_=x_(),Q9=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=C_.BindingScopeEnum.Request,new L_.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=C_.BindingScopeEnum.Singleton,new L_.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=C_.BindingScopeEnum.Transient,new L_.BindingWhenOnSyntax(this._binding)},t}();pm.BindingInSyntax=Q9});var wP=b(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.BindingInWhenOnSyntax=void 0;var Z9=_P(),eK=um(),tK=am(),rK=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new tK.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new eK.BindingOnSyntax(this._binding),this._bindingInSyntax=new Z9.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();fm.BindingInWhenOnSyntax=rK});var SP=b(Ai=>{"use strict";var nK=Ai&&Ai.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iK=Ai&&Ai.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sK=Ai&&Ai.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nK(e,t,r);return iK(e,t),e};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.BindingToSyntax=void 0;var AP=sK(fr()),Er=Vn(),IP=wP(),sc=x_(),oK=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=Er.BindingTypeEnum.Instance,this._binding.implementationType=e,new IP.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+AP.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=Er.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Er.BindingScopeEnum.Singleton,new sc.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=Er.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new IP.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=Er.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=Er.BindingScopeEnum.Singleton,new sc.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=Er.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=Er.BindingScopeEnum.Singleton,new sc.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(AP.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(e);return this._binding.type=Er.BindingTypeEnum.Function,this._binding.scope=Er.BindingScopeEnum.Singleton,r},t.prototype.toAutoFactory=function(e){return this._binding.type=Er.BindingTypeEnum.Factory,this._binding.factory=function(r){var n=function(){return r.container.get(e)};return n},this._binding.scope=Er.BindingScopeEnum.Singleton,new sc.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=Er.BindingTypeEnum.Factory,this._binding.factory=function(r){return function(n){return r.container.getNamed(e,n)}},new sc.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=Er.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=Er.BindingScopeEnum.Singleton,new sc.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(r){return r.container.get(e)})},t}();Ai.BindingToSyntax=oK});var EP=b(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.ContainerSnapshot=void 0;var aK=function(){function t(){}return t.of=function(e,r,n,i,s){var o=new t;return o.bindings=e,o.middleware=r,o.deactivations=i,o.activations=n,o.moduleActivationStore=s,o},t}();hm.ContainerSnapshot=aK});var xP=b(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.isClonable=void 0;function uK(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}dm.isClonable=uK});var P_=b(Ii=>{"use strict";var cK=Ii&&Ii.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lK=Ii&&Ii.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pK=Ii&&Ii.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cK(e,t,r);return lK(e,t),e};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.Lookup=void 0;var La=pK(fr()),fK=xP(),hK=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,r){if(e==null)throw new Error(La.NULL_ARGUMENT);if(r==null)throw new Error(La.NULL_ARGUMENT);var n=this._map.get(e);n!==void 0?n.push(r):this._map.set(e,[r])},t.prototype.get=function(e){if(e==null)throw new Error(La.NULL_ARGUMENT);var r=this._map.get(e);if(r!==void 0)return r;throw new Error(La.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(La.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(La.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var r=this;this.traverse(function(n,i){var s=e.hasKey(n)?e.get(n):void 0;if(s!==void 0){var o=i.filter(function(a){return!s.some(function(u){return a===u})});r._setValue(n,o)}})},t.prototype.removeByCondition=function(e){var r=this,n=[];return this._map.forEach(function(i,s){for(var o=[],a=0,u=i;a<u.length;a++){var c=u[a],l=e(c);l?n.push(c):o.push(c)}r._setValue(s,o)}),n},t.prototype.hasKey=function(e){if(e==null)throw new Error(La.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){r.forEach(function(i){return e.add(n,(0,fK.isClonable)(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(r,n){e(n,r)})},t.prototype._setValue=function(e,r){r.length>0?this._map.set(e,r):this._map.delete(e)},t}();Ii.Lookup=hK});var LP=b(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.ModuleActivationStore=void 0;var CP=P_(),dK=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var r=this._map.get(e);return this._map.delete(e),r}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,r,n){this._getModuleActivationHandlers(e).onDeactivations.add(r,n)},t.prototype.addActivation=function(e,r,n){this._getModuleActivationHandlers(e).onActivations.add(r,n)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){e._map.set(n,{onActivations:r.onActivations.clone(),onDeactivations:r.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var r=this._map.get(e);return r===void 0&&(r=this._getEmptyHandlersStore(),this._map.set(e,r)),r},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new CP.Lookup,onDeactivations:new CP.Lookup};return e},t}();mm.ModuleActivationStore=dK});var DP=b(Xt=>{"use strict";var Hm=Xt&&Xt.__assign||function(){return Hm=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hm.apply(this,arguments)},mK=Xt&&Xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gK=Xt&&Xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PP=Xt&&Xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mK(e,t,r);return gK(e,t),e},vn=Xt&&Xt.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(p){o(p)}}function u(l){try{c(n.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},bn=Xt&&Xt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},HK=Xt&&Xt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Container=void 0;var yK=DL(),Kn=PP(fr()),oc=Vn(),Pa=PP(Pt()),vK=o_(),gm=g_(),bK=HP(),_K=SP(),Da=Vp(),wK=ro(),AK=tc(),IK=EP(),Kp=P_(),SK=LP(),EK=function(){function t(e){var r=e||{};if(typeof r!="object")throw new Error(""+Kn.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(r.defaultScope===void 0)r.defaultScope=oc.BindingScopeEnum.Transient;else if(r.defaultScope!==oc.BindingScopeEnum.Singleton&&r.defaultScope!==oc.BindingScopeEnum.Transient&&r.defaultScope!==oc.BindingScopeEnum.Request)throw new Error(""+Kn.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+Kn.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+Kn.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=(0,wK.id)(),this._bindingDictionary=new Kp.Lookup,this._snapshots=[],this._middleware=null,this._activations=new Kp.Lookup,this._deactivations=new Kp.Lookup,this.parent=null,this._metadataReader=new vK.MetadataReader,this._moduleActivationStore=new SK.ModuleActivationStore}return t.merge=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var s=new t,o=HK([e,r],n,!0).map(function(c){return(0,gm.getBindingDictionary)(c)}),a=(0,gm.getBindingDictionary)(s);function u(c,l){c.traverse(function(p,f){f.forEach(function(m){l.add(m.serviceIdentifier,m.clone())})})}return o.forEach(function(c){u(c,a)}),s},t.prototype.load=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=this._getContainerModuleHelpersFactory(),i=0,s=e;i<s.length;i++){var o=s[i],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vn(this,void 0,void 0,function(){var n,i,s,o,a;return bn(this,function(u){switch(u.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,s=e,u.label=1;case 1:return i<s.length?(o=s[i],a=n(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var s=e._removeModuleBindings(i.id);e._deactivateSingletons(s),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vn(this,void 0,void 0,function(){var n,i,s,o;return bn(this,function(a){switch(a.label){case 0:n=0,i=e,a.label=1;case 1:return n<i.length?(s=i[n],o=this._removeModuleBindings(s.id),[4,this._deactivateSingletonsAsync(o)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(s.id),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var r=this.options.defaultScope||oc.BindingScopeEnum.Transient,n=new yK.Binding(e,r);return this._bindingDictionary.add(e,n),new _K.BindingToSyntax(n)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return vn(this,void 0,void 0,function(){return bn(this,function(r){switch(r.label){case 0:return[4,this.unbindAsync(e)];case 1:return r.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e);this._deactivateSingletons(r)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return vn(this,void 0,void 0,function(){var r;return bn(this,function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(r=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(r)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(r,n){e._deactivateSingletons(n)}),this._bindingDictionary=new Kp.Lookup},t.prototype.unbindAllAsync=function(){return vn(this,void 0,void 0,function(){var e,r=this;return bn(this,function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,s){e.push(r._deactivateSingletonsAsync(s))}),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new Kp.Lookup,[2]}})})},t.prototype.onActivation=function(e,r){this._activations.add(e,r)},t.prototype.onDeactivation=function(e,r){this._deactivations.add(e,r)},t.prototype.isBound=function(e){var r=this._bindingDictionary.hasKey(e);return!r&&this.parent&&(r=this.parent.isBound(e)),r},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,r){return this.isBoundTagged(e,Pa.NAMED_TAG,r)},t.prototype.isBoundTagged=function(e,r,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var s=this._bindingDictionary.get(e),o=(0,gm.createMockRequest)(this,e,r,n);i=s.some(function(a){return a.constraint(o)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,r,n)),i},t.prototype.snapshot=function(){this._snapshots.push(IK.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(Kn.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var r=new t(e||this.options);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,s){return s(i)},n)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var r=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(r)},t.prototype.getAsync=function(e){return vn(this,void 0,void 0,function(){var r;return bn(this,function(n){return r=this._getNotAllArgs(e,!1),[2,this._get(r)]})})},t.prototype.getTagged=function(e,r,n){var i=this._getNotAllArgs(e,!1,r,n);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,r,n){return vn(this,void 0,void 0,function(){var i;return bn(this,function(s){return i=this._getNotAllArgs(e,!1,r,n),[2,this._get(i)]})})},t.prototype.getNamed=function(e,r){return this.getTagged(e,Pa.NAMED_TAG,r)},t.prototype.getNamedAsync=function(e,r){return this.getTaggedAsync(e,Pa.NAMED_TAG,r)},t.prototype.getAll=function(e){var r=this._getAllArgs(e);return this._getButThrowIfAsync(r)},t.prototype.getAllAsync=function(e){var r=this._getAllArgs(e);return this._getAll(r)},t.prototype.getAllTagged=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getAll(i)},t.prototype.getAllNamed=function(e,r){return this.getAllTagged(e,Pa.NAMED_TAG,r)},t.prototype.getAllNamedAsync=function(e,r){return this.getAllTaggedAsync(e,Pa.NAMED_TAG,r)},t.prototype.resolve=function(e){var r=this.isBound(e);r||this.bind(e).toSelf();var n=this.get(e);return r||this.unbind(e),n},t.prototype._preDestroy=function(e,r){if(Reflect.hasMetadata(Pa.PRE_DESTROY,e)){var n=Reflect.getMetadata(Pa.PRE_DESTROY,e);return r[n.value]()}},t.prototype._removeModuleHandlers=function(e){var r=this._moduleActivationStore.remove(e);this._activations.removeIntersection(r.onActivations),this._deactivations.removeIntersection(r.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(r){return r.moduleId===e})},t.prototype._deactivate=function(e,r){var n=this,i=Object.getPrototypeOf(r).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var s=this._deactivateContainer(r,this._deactivations.get(e.serviceIdentifier).values());if((0,Da.isPromise)(s))return this._handleDeactivationError(s.then(function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,r,i)}),i)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,r,i);if((0,Da.isPromise)(o))return this._handleDeactivationError(o,i)}catch(a){throw new Error(Kn.ON_DEACTIVATION_ERROR(i.name,a.message))}},t.prototype._handleDeactivationError=function(e,r){return vn(this,void 0,void 0,function(){var n;return bn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),new Error(Kn.ON_DEACTIVATION_ERROR(r.name,n.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,r){for(var n=this,i=r.next();i.value;){var s=i.value(e);if((0,Da.isPromise)(s))return s.then(function(){return n._deactivateContainerAsync(e,r)});i=r.next()}},t.prototype._deactivateContainerAsync=function(e,r){return vn(this,void 0,void 0,function(){var n;return bn(this,function(i){switch(i.label){case 0:n=r.next(),i.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return i.sent(),n=r.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,r=function(l,p){l._binding.moduleId=p},n=function(l){return function(p){var f=e.bind(p);return r(f,l),f}},i=function(){return function(l){return e.unbind(l)}},s=function(){return function(l){return e.unbindAsync(l)}},o=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var f=e.rebind(p);return r(f,l),f}},u=function(l){return function(p,f){e._moduleActivationStore.addActivation(l,p,f),e.onActivation(p,f)}},c=function(l){return function(p,f){e._moduleActivationStore.addDeactivation(l,p,f),e.onDeactivation(p,f)}};return function(l){return{bindFunction:n(l),isboundFunction:o(),onActivationFunction:u(l),onDeactivationFunction:c(l),rebindFunction:a(l),unbindFunction:i(),unbindAsyncFunction:s()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var r=Hm(Hm({},e),{contextInterceptor:function(i){return i},targetType:oc.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(r);if(n==null)throw new Error(Kn.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(r)},t.prototype._getButThrowIfAsync=function(e){var r=this._get(e);if((0,Da.isPromiseOrContainsPromise)(r))throw new Error(Kn.LAZY_IN_SYNC(e.serviceIdentifier));return r},t.prototype._getAllArgs=function(e){var r={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return r},t.prototype._getNotAllArgs=function(e,r,n,i){var s={avoidConstraints:!1,isMultiInject:r,serviceIdentifier:e,key:n,value:i};return s},t.prototype._planAndResolve=function(){var e=this;return function(r){var n=(0,gm.plan)(e._metadataReader,e,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);n=r.contextInterceptor(n);var i=(0,bK.resolve)(n);return i}},t.prototype._deactivateIfSingleton=function(e){var r=this;if(e.activated)return(0,Da.isPromise)(e.cache)?e.cache.then(function(n){return r._deactivate(e,n)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var r=0,n=e;r<n.length;r++){var i=n[r],s=this._deactivateIfSingleton(i);if((0,Da.isPromise)(s))throw new Error(Kn.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return vn(this,void 0,void 0,function(){var r=this;return bn(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return r._deactivateIfSingleton(i)}))];case 1:return n.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,r,n){return this.parent?this._deactivate.bind(this.parent)(e,r):this._bindingDeactivationAndPreDestroy(e,r,n)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,r,n){return vn(this,void 0,void 0,function(){return bn(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,r)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,r,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(Kn.CANNOT_UNBIND+" "+(0,AK.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,r,n){var i=this;if(typeof e.onDeactivation=="function"){var s=e.onDeactivation(r);if((0,Da.isPromise)(s))return s.then(function(){return i._preDestroy(n,r)})}return this._preDestroy(n,r)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,r,n){return vn(this,void 0,void 0,function(){return bn(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(r)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,r)];case 3:return i.sent(),[2]}})})},t}();Xt.Container=EK});var $P=b(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.AsyncContainerModule=ac.ContainerModule=void 0;var TP=ro(),xK=function(){function t(e){this.id=(0,TP.id)(),this.registry=e}return t}();ac.ContainerModule=xK;var CK=function(){function t(e){this.id=(0,TP.id)(),this.registry=e}return t}();ac.AsyncContainerModule=CK});var MP=b(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.getFirstArrayDuplicate=void 0;function LK(t){for(var e=new Set,r=0,n=t;r<n.length;r++){var i=n[r];if(e.has(i))return i;e.add(i)}}ym.getFirstArrayDuplicate=LK});var gs=b(mr=>{"use strict";var PK=mr&&mr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DK=mr&&mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kP=mr&&mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PK(e,t,r);return DK(e,t),e};Object.defineProperty(mr,"__esModule",{value:!0});mr.createTaggedDecorator=mr.tagProperty=mr.tagParameter=mr.decorate=void 0;var vm=kP(fr()),OP=kP(Pt()),TK=MP();function $K(t){return t.prototype!==void 0}function MK(t){if(t!==void 0)throw new Error(vm.INVALID_DECORATOR_OPERATION)}function NP(t,e,r,n){MK(e),FP(OP.TAGGED,t,r.toString(),n)}mr.tagParameter=NP;function BP(t,e,r){if($K(t))throw new Error(vm.INVALID_DECORATOR_OPERATION);FP(OP.TAGGED_PROP,t.constructor,e,r)}mr.tagProperty=BP;function RK(t){var e=[];if(Array.isArray(t)){e=t;var r=(0,TK.getFirstArrayDuplicate)(e.map(function(n){return n.key}));if(r!==void 0)throw new Error(vm.DUPLICATED_METADATA+" "+r.toString())}else e=[t];return e}function FP(t,e,r,n){var i=RK(n),s={};Reflect.hasOwnMetadata(t,e)&&(s=Reflect.getMetadata(t,e));var o=s[r];if(o===void 0)o=[];else for(var a=function(p){if(i.some(function(f){return f.key===p.key}))throw new Error(vm.DUPLICATED_METADATA+" "+p.key.toString())},u=0,c=o;u<c.length;u++){var l=c[u];a(l)}o.push.apply(o,i),s[r]=o,Reflect.defineMetadata(t,s,e)}function kK(t){return function(e,r,n){typeof n=="number"?NP(e,r,n,t):BP(e,r,t)}}mr.createTaggedDecorator=kK;function RP(t,e){Reflect.decorate(t,e)}function OK(t,e){return function(r,n){e(r,n,t)}}function NK(t,e,r){typeof r=="number"?RP([OK(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):RP([t],e)}mr.decorate=NK});var jP=b(Si=>{"use strict";var BK=Si&&Si.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FK=Si&&Si.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UP=Si&&Si.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BK(e,t,r);return FK(e,t),e};Object.defineProperty(Si,"__esModule",{value:!0});Si.injectable=void 0;var UK=UP(fr()),D_=UP(Pt());function jK(){return function(t){if(Reflect.hasOwnMetadata(D_.PARAM_TYPES,t))throw new Error(UK.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(D_.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(D_.PARAM_TYPES,e,t),t}}Si.injectable=jK});var qP=b(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.tagged=void 0;var qK=Gn(),WK=gs();function VK(t,e){return(0,WK.createTaggedDecorator)(new qK.Metadata(t,e))}bm.tagged=VK});var WP=b(Ei=>{"use strict";var GK=Ei&&Ei.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KK=Ei&&Ei.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XK=Ei&&Ei.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GK(e,t,r);return KK(e,t),e};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.named=void 0;var zK=XK(Pt()),JK=Gn(),YK=gs();function QK(t){return(0,YK.createTaggedDecorator)(new JK.Metadata(zK.NAMED_TAG,t))}Ei.named=QK});var T_=b(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.injectBase=void 0;var ZK=fr(),eX=Gn(),tX=gs();function rX(t){return function(e){return function(r,n,i){if(e===void 0){var s=typeof r=="function"?r.name:r.constructor.name;throw new Error((0,ZK.UNDEFINED_INJECT_ANNOTATION)(s))}return(0,tX.createTaggedDecorator)(new eX.Metadata(t,e))(r,n,i)}}}_m.injectBase=rX});var VP=b(xi=>{"use strict";var nX=xi&&xi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iX=xi&&xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sX=xi&&xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nX(e,t,r);return iX(e,t),e};Object.defineProperty(xi,"__esModule",{value:!0});xi.inject=void 0;var oX=sX(Pt()),aX=T_(),uX=(0,aX.injectBase)(oX.INJECT_TAG);xi.inject=uX});var GP=b(Ci=>{"use strict";var cX=Ci&&Ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lX=Ci&&Ci.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pX=Ci&&Ci.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cX(e,t,r);return lX(e,t),e};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.optional=void 0;var fX=pX(Pt()),hX=Gn(),dX=gs();function mX(){return(0,dX.createTaggedDecorator)(new hX.Metadata(fX.OPTIONAL_TAG,!0))}Ci.optional=mX});var KP=b(Li=>{"use strict";var gX=Li&&Li.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HX=Li&&Li.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yX=Li&&Li.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gX(e,t,r);return HX(e,t),e};Object.defineProperty(Li,"__esModule",{value:!0});Li.unmanaged=void 0;var vX=yX(Pt()),bX=Gn(),_X=gs();function wX(){return function(t,e,r){var n=new bX.Metadata(vX.UNMANAGED_TAG,!0);(0,_X.tagParameter)(t,e,r,n)}}Li.unmanaged=wX});var XP=b(Pi=>{"use strict";var AX=Pi&&Pi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IX=Pi&&Pi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SX=Pi&&Pi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AX(e,t,r);return IX(e,t),e};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.multiInject=void 0;var EX=SX(Pt()),xX=T_(),CX=(0,xX.injectBase)(EX.MULTI_INJECT_TAG);Pi.multiInject=CX});var zP=b(Di=>{"use strict";var LX=Di&&Di.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PX=Di&&Di.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DX=Di&&Di.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LX(e,t,r);return PX(e,t),e};Object.defineProperty(Di,"__esModule",{value:!0});Di.targetName=void 0;var TX=DX(Pt()),$X=Gn(),MX=gs();function RX(t){return function(e,r,n){var i=new $X.Metadata(TX.NAME_TAG,t);(0,MX.tagParameter)(e,r,n,i)}}Di.targetName=RX});var $_=b(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.propertyEventDecorator=void 0;var kX=Gn();function OX(t,e){return function(){return function(r,n){var i=new kX.Metadata(t,n);if(Reflect.hasOwnMetadata(t,r.constructor))throw new Error(e);Reflect.defineMetadata(t,i,r.constructor)}}}wm.propertyEventDecorator=OX});var YP=b(Ti=>{"use strict";var NX=Ti&&Ti.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BX=Ti&&Ti.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JP=Ti&&Ti.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&NX(e,t,r);return BX(e,t),e};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.postConstruct=void 0;var FX=JP(fr()),UX=JP(Pt()),jX=$_(),qX=(0,jX.propertyEventDecorator)(UX.POST_CONSTRUCT,FX.MULTIPLE_POST_CONSTRUCT_METHODS);Ti.postConstruct=qX});var ZP=b($i=>{"use strict";var WX=$i&&$i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VX=$i&&$i.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QP=$i&&$i.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WX(e,t,r);return VX(e,t),e};Object.defineProperty($i,"__esModule",{value:!0});$i.preDestroy=void 0;var GX=QP(fr()),KX=QP(Pt()),XX=$_(),zX=(0,XX.propertyEventDecorator)(KX.PRE_DESTROY,GX.MULTIPLE_PRE_DESTROY_METHODS);$i.preDestroy=zX});var eD=b(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.interfaces=void 0;var M_;(function(t){})(M_||(M_={}));Am.interfaces=M_});var ce=b(ae=>{"use strict";var JX=ae&&ae.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YX=ae&&ae.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QX=ae&&ae.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JX(e,t,r);return YX(e,t),e};Object.defineProperty(ae,"__esModule",{value:!0});ae.multiBindToService=ae.getServiceIdentifierAsString=ae.typeConstraint=ae.namedConstraint=ae.taggedConstraint=ae.traverseAncerstors=ae.decorate=ae.interfaces=ae.id=ae.MetadataReader=ae.preDestroy=ae.postConstruct=ae.targetName=ae.multiInject=ae.unmanaged=ae.optional=ae.LazyServiceIdentifer=ae.inject=ae.named=ae.tagged=ae.injectable=ae.createTaggedDecorator=ae.ContainerModule=ae.AsyncContainerModule=ae.TargetTypeEnum=ae.BindingTypeEnum=ae.BindingScopeEnum=ae.Container=ae.METADATA_KEY=void 0;var ZX=QX(Pt());ae.METADATA_KEY=ZX;var ez=DP();Object.defineProperty(ae,"Container",{enumerable:!0,get:function(){return ez.Container}});var R_=Vn();Object.defineProperty(ae,"BindingScopeEnum",{enumerable:!0,get:function(){return R_.BindingScopeEnum}});Object.defineProperty(ae,"BindingTypeEnum",{enumerable:!0,get:function(){return R_.BindingTypeEnum}});Object.defineProperty(ae,"TargetTypeEnum",{enumerable:!0,get:function(){return R_.TargetTypeEnum}});var tD=$P();Object.defineProperty(ae,"AsyncContainerModule",{enumerable:!0,get:function(){return tD.AsyncContainerModule}});Object.defineProperty(ae,"ContainerModule",{enumerable:!0,get:function(){return tD.ContainerModule}});var tz=gs();Object.defineProperty(ae,"createTaggedDecorator",{enumerable:!0,get:function(){return tz.createTaggedDecorator}});var rz=jP();Object.defineProperty(ae,"injectable",{enumerable:!0,get:function(){return rz.injectable}});var nz=qP();Object.defineProperty(ae,"tagged",{enumerable:!0,get:function(){return nz.tagged}});var iz=WP();Object.defineProperty(ae,"named",{enumerable:!0,get:function(){return iz.named}});var sz=VP();Object.defineProperty(ae,"inject",{enumerable:!0,get:function(){return sz.inject}});var oz=u_();Object.defineProperty(ae,"LazyServiceIdentifer",{enumerable:!0,get:function(){return oz.LazyServiceIdentifer}});var az=GP();Object.defineProperty(ae,"optional",{enumerable:!0,get:function(){return az.optional}});var uz=KP();Object.defineProperty(ae,"unmanaged",{enumerable:!0,get:function(){return uz.unmanaged}});var cz=XP();Object.defineProperty(ae,"multiInject",{enumerable:!0,get:function(){return cz.multiInject}});var lz=zP();Object.defineProperty(ae,"targetName",{enumerable:!0,get:function(){return lz.targetName}});var pz=YP();Object.defineProperty(ae,"postConstruct",{enumerable:!0,get:function(){return pz.postConstruct}});var fz=ZP();Object.defineProperty(ae,"preDestroy",{enumerable:!0,get:function(){return fz.preDestroy}});var hz=o_();Object.defineProperty(ae,"MetadataReader",{enumerable:!0,get:function(){return hz.MetadataReader}});var dz=ro();Object.defineProperty(ae,"id",{enumerable:!0,get:function(){return dz.id}});var mz=eD();Object.defineProperty(ae,"interfaces",{enumerable:!0,get:function(){return mz.interfaces}});var gz=gs();Object.defineProperty(ae,"decorate",{enumerable:!0,get:function(){return gz.decorate}});var Im=E_();Object.defineProperty(ae,"traverseAncerstors",{enumerable:!0,get:function(){return Im.traverseAncerstors}});Object.defineProperty(ae,"taggedConstraint",{enumerable:!0,get:function(){return Im.taggedConstraint}});Object.defineProperty(ae,"namedConstraint",{enumerable:!0,get:function(){return Im.namedConstraint}});Object.defineProperty(ae,"typeConstraint",{enumerable:!0,get:function(){return Im.typeConstraint}});var Hz=tc();Object.defineProperty(ae,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return Hz.getServiceIdentifierAsString}});var yz=v_();Object.defineProperty(ae,"multiBindToService",{enumerable:!0,get:function(){return yz.multiBindToService}})});var $D=b(TD=>{var DD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");TD.encode=function(t){if(0<=t&&t<DD.length)return DD[t];throw new TypeError("Must be between 0 and 63: "+t)}});var q_=b(kD=>{var Uz=$D(),MD=5,RD=1<<MD,jz=RD-1,qz=RD;function Wz(t){return t<0?(-t<<1)+1:(t<<1)+0}kD.encode=function(e){let r="",n,i=Wz(e);do n=i&jz,i>>>=MD,i>0&&(n|=qz),r+=Uz.encode(n);while(i>0);return r}});var ND=b((yme,OD)=>{"use strict";OD.exports=typeof URL=="function"?URL:require("url").URL});var of=b(ki=>{var oo=ND();function Vz(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}ki.getArg=Vz;var FD=function(){return!("__proto__"in Object.create(null))}();function UD(t){return t}function Gz(t){return jD(t)?"$"+t:t}ki.toSetString=FD?UD:Gz;function Kz(t){return jD(t)?t.slice(1):t}ki.fromSetString=FD?UD:Kz;function jD(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function BD(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function Xz(t,e){let r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=BD(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:BD(t.name,e.name)}ki.compareByGeneratedPositionsInflated=Xz;function zz(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}ki.parseSourceMapInput=zz;var V_="http:",nf=`${V_}//host`;function G_(t){return e=>{let r=fc(e),n=K_(e),i=new oo(e,n);t(i);let s=i.toString();return r==="absolute"?s:r==="scheme-relative"?s.slice(V_.length):r==="path-absolute"?s.slice(nf.length):X_(n,s)}}function so(t,e){return new oo(t,e).toString()}function Jz(t,e){let r=0;do{let n=t+r++;if(e.indexOf(n)===-1)return n}while(!0)}function K_(t){let e=t.split("..").length-1,r=Jz("p",t),n=`${nf}/`;for(let i=0;i<e;i++)n+=`${r}/`;return n}var Yz=/^[A-Za-z0-9\+\-\.]+:/;function fc(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":Yz.test(t)?"absolute":"path-relative"}function X_(t,e){typeof t=="string"&&(t=new oo(t)),typeof e=="string"&&(e=new oo(e));let r=e.pathname.split("/"),n=t.pathname.split("/");for(n.length>0&&!n[n.length-1]&&n.pop();r.length>0&&n.length>0&&r[0]===n[0];)r.shift(),n.shift();return n.map(()=>"..").concat(r).join("/")+e.search+e.hash}var Qz=G_(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),Zz=G_(t=>{t.href=new oo(".",t.toString()).toString()}),sf=G_(t=>{});ki.normalize=sf;function W_(t,e){let r=fc(e),n=fc(t);if(t=Qz(t),r==="absolute")return so(e,void 0);if(n==="absolute")return so(e,t);if(r==="scheme-relative")return sf(e);if(n==="scheme-relative")return so(e,so(t,nf)).slice(V_.length);if(r==="path-absolute")return sf(e);if(n==="path-absolute")return so(e,so(t,nf)).slice(nf.length);let i=K_(e+t),s=so(e,so(t,i));return X_(i,s)}ki.join=W_;function e7(t,e){let r=t7(t,e);return typeof r=="string"?r:sf(e)}ki.relative=e7;function t7(t,e){if(fc(t)!==fc(e))return null;let n=K_(t+e),i=new oo(t,n),s=new oo(e,n);try{new oo("",s.toString())}catch{return null}return s.protocol!==i.protocol||s.user!==i.user||s.password!==i.password||s.hostname!==i.hostname||s.port!==i.port?null:X_(i,s)}function r7(t,e,r){t&&fc(e)==="path-absolute"&&(e=e.replace(/^\//,""));let n=sf(e||"");return t&&(n=W_(t,n)),r&&(n=W_(Zz(r),n)),n}ki.computeSourceURL=r7});var z_=b(qD=>{var af=class{constructor(){this._array=[],this._set=new Map}static fromArray(e,r){let n=new af;for(let i=0,s=e.length;i<s;i++)n.add(e[i],r);return n}size(){return this._set.size}add(e,r){let n=this.has(e),i=this._array.length;(!n||r)&&this._array.push(e),n||this._set.set(e,i)}has(e){return this._set.has(e)}indexOf(e){let r=this._set.get(e);if(r>=0)return r;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};qD.ArraySet=af});var GD=b(VD=>{var WD=of();function n7(t,e){let r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,s=e.generatedColumn;return n>r||n==r&&s>=i||WD.compareByGeneratedPositionsInflated(t,e)<=0}var J_=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,r){this._array.forEach(e,r)}add(e){n7(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(WD.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};VD.MappingList=J_});var Y_=b(KD=>{var uf=q_(),Tt=of(),Rm=z_().ArraySet,i7=GD().MappingList,hc=class{constructor(e){e||(e={}),this._file=Tt.getArg(e,"file",null),this._sourceRoot=Tt.getArg(e,"sourceRoot",null),this._skipValidation=Tt.getArg(e,"skipValidation",!1),this._sources=new Rm,this._names=new Rm,this._mappings=new i7,this._sourcesContents=null}static fromSourceMap(e){let r=e.sourceRoot,n=new hc({file:e.file,sourceRoot:r});return e.eachMapping(function(i){let s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=Tt.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),e.sources.forEach(function(i){let s=i;r!==null&&(s=Tt.relative(r,i)),n._sources.has(s)||n._sources.add(s);let o=e.sourceContentFor(i);o!=null&&n.setSourceContent(i,o)}),n}addMapping(e){let r=Tt.getArg(e,"generated"),n=Tt.getArg(e,"original",null),i=Tt.getArg(e,"source",null),s=Tt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})}setSourceContent(e,r){let n=e;this._sourceRoot!=null&&(n=Tt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Tt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Tt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,r,n){let i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}let s=this._sourceRoot;s!=null&&(i=Tt.relative(s,i));let o=this._mappings.toArray().length>0?new Rm:this._sources,a=new Rm;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){let p=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});p.source!=null&&(u.source=p.source,n!=null&&(u.source=Tt.join(n,u.source)),s!=null&&(u.source=Tt.relative(s,u.source)),u.originalLine=p.line,u.originalColumn=p.column,p.name!=null&&(u.name=p.name))}let c=u.source;c!=null&&!o.has(c)&&o.add(c);let l=u.name;l!=null&&!a.has(l)&&a.add(l)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){let c=e.sourceContentFor(u);c!=null&&(n!=null&&(u=Tt.join(n,u)),s!=null&&(u=Tt.relative(s,u)),this.setSourceContent(u,c))},this)}_validateMapping(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(!(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}}_serializeMappings(){let e=0,r=1,n=0,i=0,s=0,o=0,a="",u,c,l,p,f=this._mappings.toArray();for(let m=0,g=f.length;m<g;m++){if(c=f[m],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(m>0){if(!Tt.compareByGeneratedPositionsInflated(c,f[m-1]))continue;u+=","}u+=uf.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),u+=uf.encode(p-o),o=p,u+=uf.encode(c.originalLine-1-i),i=c.originalLine-1,u+=uf.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=uf.encode(l-s),s=l)),a+=u}return a}_generateSourcesContent(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Tt.relative(r,n));let i=Tt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};hc.prototype._version=3;KD.SourceMapGenerator=hc});var XD=b(Ra=>{Ra.GREATEST_LOWER_BOUND=1;Ra.LEAST_UPPER_BOUND=2;function Q_(t,e,r,n,i,s){let o=Math.floor((e-t)/2)+t,a=i(r,n[o],!0);return a===0?o:a>0?e-o>1?Q_(o,e,r,n,i,s):s==Ra.LEAST_UPPER_BOUND?e<n.length?e:-1:o:o-t>1?Q_(t,o,r,n,i,s):s==Ra.LEAST_UPPER_BOUND?o:t<0?-1:t}Ra.search=function(e,r,n,i){if(r.length===0)return-1;let s=Q_(-1,r.length,e,r,n,i||Ra.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var e0=b((Ime,Z_)=>{"use strict";var s7=require("fs"),o7=require("path");Z_.exports=function(){return new Promise((e,r)=>{let n=o7.join(__dirname,"mappings.wasm");s7.readFile(n,null,(i,s)=>{if(i){r(i);return}e(s.buffer)})})};Z_.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var JD=b((Sme,zD)=>{var a7=e0();function u7(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var cf=null;zD.exports=function(){if(cf)return cf;let e=[];return cf=a7().then(r=>WebAssembly.instantiate(r,{env:{mapping_callback(n,i,s,o,a,u,c,l,p,f){let m=new u7;m.generatedLine=n+1,m.generatedColumn=i,s&&(m.lastGeneratedColumn=o-1),a&&(m.source=u,m.originalLine=c+1,m.originalColumn=l,p&&(m.name=f)),e[e.length-1](m)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(r=>({exports:r.instance.exports,withMappingCallback:(n,i)=>{e.push(n);try{i()}finally{e.pop()}}})).then(null,r=>{throw cf=null,r}),cf}});var YD=b(Om=>{var Ie=of(),c7=XD(),t0=z_().ArraySet,Eme=q_(),l7=e0(),p7=JD(),r0=Symbol("smcInternal"),wt=class{constructor(e,r){return e==r0?Promise.resolve(this):f7(e,r)}static initialize(e){l7.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,r){return h7(e,r)}static async with(e,r,n){let i=await new wt(e,r);try{return await n(i)}finally{i.destroy()}}eachMapping(e,r,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};wt.prototype._version=3;wt.GENERATED_ORDER=1;wt.ORIGINAL_ORDER=2;wt.GREATEST_LOWER_BOUND=1;wt.LEAST_UPPER_BOUND=2;Om.SourceMapConsumer=wt;var ao=class extends wt{constructor(e,r){return super(r0).then(n=>{let i=e;typeof e=="string"&&(i=Ie.parseSourceMapInput(e));let s=Ie.getArg(i,"version"),o=Ie.getArg(i,"sources").map(String),a=Ie.getArg(i,"names",[]),u=Ie.getArg(i,"sourceRoot",null),c=Ie.getArg(i,"sourcesContent",null),l=Ie.getArg(i,"mappings"),p=Ie.getArg(i,"file",null);if(s!=n._version)throw new Error("Unsupported version: "+s);return n._sourceLookupCache=new Map,n._names=t0.fromArray(a.map(String),!0),n._sources=t0.fromArray(o,!0),n._absoluteSources=t0.fromArray(n._sources.toArray().map(function(f){return Ie.computeSourceURL(u,f,r)}),!0),n.sourceRoot=u,n.sourcesContent=c,n._mappings=l,n._sourceMapURL=r,n.file=p,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,p7().then(f=>(n._wasm=f,n))})}_findSourceIndex(e){let r=this._sourceLookupCache.get(e);if(typeof r=="number")return r;let n=Ie.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(n)){let s=this._absoluteSources.indexOf(n);return this._sourceLookupCache.set(e,s),s}let i=Ie.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let s=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,s),s}return-1}static fromSourceMap(e,r){return new ao(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,r=e.length,n=this._wasm.exports.allocate_mappings(r),i=new Uint8Array(this._wasm.exports.memory.buffer,n,r);for(let o=0;o<r;o++)i[o]=e.charCodeAt(o);let s=this._wasm.exports.parse_mappings(n);if(!s){let o=this._wasm.exports.get_last_error(),a=`Error parsing mappings (code ${o}): `;switch(o){case 1:a+="the mappings contained a negative line, column, source index, or name index";break;case 2:a+="the mappings contained a number larger than 2**32";break;case 3:a+="reached EOF while in the middle of parsing a VLQ";break;case 4:a+="invalid base 64 character while parsing a VLQ";break;default:a+="unknown error code";break}throw new Error(a)}this._mappingsPtr=s}eachMapping(e,r,n){let i=r||null,s=n||wt.GENERATED_ORDER;this._wasm.withMappingCallback(o=>{o.source!==null&&(o.source=this._absoluteSources.at(o.source),o.name!==null&&(o.name=this._names.at(o.name))),this._computedColumnSpans&&o.lastGeneratedColumn===null&&(o.lastGeneratedColumn=1/0),e.call(i,o)},()=>{switch(s){case wt.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case wt.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let r=Ie.getArg(e,"source"),n=Ie.getArg(e,"line"),i=e.column||0;if(r=this._findSourceIndex(r),r<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");let s=[];return this._wasm.withMappingCallback(o=>{let a=o.lastGeneratedColumn;this._computedColumnSpans&&a===null&&(a=1/0),s.push({line:o.generatedLine,column:o.generatedColumn,lastColumn:a})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),r,n-1,"column"in e,i)}),s}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let r={generatedLine:Ie.getArg(e,"line"),generatedColumn:Ie.getArg(e,"column")};if(r.generatedLine<1)throw new Error("Line numbers must be >= 1");if(r.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n=Ie.getArg(e,"bias",wt.GREATEST_LOWER_BOUND);n==null&&(n=wt.GREATEST_LOWER_BOUND);let i;if(this._wasm.withMappingCallback(s=>i=s,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),r.generatedLine-1,r.generatedColumn,n)}),i&&i.generatedLine===r.generatedLine){let s=Ie.getArg(i,"source",null);s!==null&&(s=this._absoluteSources.at(s));let o=Ie.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:Ie.getArg(i,"originalLine",null),column:Ie.getArg(i,"originalColumn",null),name:o}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,r){if(!this.sourcesContent)return null;let n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let r=Ie.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};let n={source:r,originalLine:Ie.getArg(e,"line"),originalColumn:Ie.getArg(e,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let i=Ie.getArg(e,"bias",wt.GREATEST_LOWER_BOUND);i==null&&(i=wt.GREATEST_LOWER_BOUND);let s;if(this._wasm.withMappingCallback(o=>s=o,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,i)}),s&&s.source===n.source){let o=s.lastGeneratedColumn;return this._computedColumnSpans&&o===null&&(o=1/0),{line:Ie.getArg(s,"generatedLine",null),column:Ie.getArg(s,"generatedColumn",null),lastColumn:o}}return{line:null,column:null,lastColumn:null}}};ao.prototype.consumer=wt;Om.BasicSourceMapConsumer=ao;var km=class extends wt{constructor(e,r){return super(r0).then(n=>{let i=e;typeof e=="string"&&(i=Ie.parseSourceMapInput(e));let s=Ie.getArg(i,"version"),o=Ie.getArg(i,"sections");if(s!=n._version)throw new Error("Unsupported version: "+s);let a={line:-1,column:0};return Promise.all(o.map(u=>{if(u.url)throw new Error("Support for url field in sections not implemented.");let c=Ie.getArg(u,"offset"),l=Ie.getArg(c,"line"),p=Ie.getArg(c,"column");if(l<a.line||l===a.line&&p<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=c,new wt(Ie.getArg(u,"map"),r).then(m=>({generatedOffset:{generatedLine:l+1,generatedColumn:p+1},consumer:m}))})).then(u=>(n._sections=u,n))})}get sources(){let e=[];for(let r=0;r<this._sections.length;r++)for(let n=0;n<this._sections[r].consumer.sources.length;n++)e.push(this._sections[r].consumer.sources[n]);return e}originalPositionFor(e){let r={generatedLine:Ie.getArg(e,"line"),generatedColumn:Ie.getArg(e,"column")},n=c7.search(r,this._sections,function(s,o){let a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,r){for(let n=0;n<this._sections.length;n++){let s=this._sections[n].consumer.sourceContentFor(e,!0);if(s)return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let r=0;r<this._sections.length;r++){let{consumer:n}=this._sections[r];if(n._findSourceIndex(e)!==-1)return r}return-1}generatedPositionFor(e){let r=this._findSectionIndex(Ie.getArg(e,"source")),n=r>=0?this._sections[r]:null,i=r>=0&&r+1<this._sections.length?this._sections[r+1]:null,s=n&&n.consumer.generatedPositionFor(e);if(s&&s.line!==null){let o=n.generatedOffset.generatedLine-1,a=n.generatedOffset.generatedColumn-1;return s.line===1&&(s.column+=a,typeof s.lastColumn=="number"&&(s.lastColumn+=a)),s.lastColumn===1/0&&i&&s.line===i.generatedOffset.generatedLine&&(s.lastColumn=i.generatedOffset.generatedColumn-2),s.line+=o,s}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let r=this._findSectionIndex(Ie.getArg(e,"source")),n=r>=0?this._sections[r]:null,i=r>=0&&r+1<this._sections.length?this._sections[r+1]:null;return n?n.consumer.allGeneratedPositionsFor(e).map(s=>{let o=n.generatedOffset.generatedLine-1,a=n.generatedOffset.generatedColumn-1;return s.line===1&&(s.column+=a,typeof s.lastColumn=="number"&&(s.lastColumn+=a)),s.lastColumn===1/0&&i&&s.line===i.generatedOffset.generatedLine&&(s.lastColumn=i.generatedOffset.generatedColumn-2),s.line+=o,s}):[]}eachMapping(e,r,n){this._sections.forEach((i,s)=>{let o=s+1<this._sections.length?this._sections[s+1]:null,{generatedOffset:a}=i,u=a.generatedLine-1,c=a.generatedColumn-1;i.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=c,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=c)),l.lastGeneratedColumn===1/0&&o&&l.generatedLine===o.generatedOffset.generatedLine&&(l.lastGeneratedColumn=o.generatedOffset.generatedColumn-2),l.generatedLine+=u,e.call(this,l)},r,n)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};Om.IndexedSourceMapConsumer=km;function f7(t,e){let r=t;typeof t=="string"&&(r=Ie.parseSourceMapInput(t));let n=r.sections!=null?new km(r,e):new ao(r,e);return Promise.resolve(n)}function h7(t,e){return ao.fromSourceMap(t,e)}});var ZD=b(QD=>{var d7=Y_().SourceMapGenerator,Nm=of(),m7=/(\r?\n)/,g7=10,dc="$$$isSourceNode$$$",mc=class{constructor(e,r,n,i,s){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=n??null,this.name=s??null,this[dc]=!0,i!=null&&this.add(i)}static fromStringWithSourceMap(e,r,n){let i=new mc,s=e.split(m7),o=0,a=function(){let m=y(),g=y()||"";return m+g;function y(){return o<s.length?s[o++]:void 0}},u=1,c=0,l=null,p;return r.eachMapping(function(m){if(l!==null)if(u<m.generatedLine)f(l,a()),u++,c=0;else{p=s[o]||"";let g=p.substr(0,m.generatedColumn-c);s[o]=p.substr(m.generatedColumn-c),c=m.generatedColumn,f(l,g),l=m;return}for(;u<m.generatedLine;)i.add(a()),u++;c<m.generatedColumn&&(p=s[o]||"",i.add(p.substr(0,m.generatedColumn)),s[o]=p.substr(m.generatedColumn),c=m.generatedColumn),l=m},this),o<s.length&&(l&&f(l,a()),i.add(s.splice(o).join(""))),r.sources.forEach(function(m){let g=r.sourceContentFor(m);g!=null&&(n!=null&&(m=Nm.join(n,m)),i.setSourceContent(m,g))}),i;function f(m,g){if(m===null||m.source===void 0)i.add(g);else{let y=n?Nm.join(n,m.source):m.source;i.add(new mc(m.originalLine,m.originalColumn,y,g,m.name))}}}add(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[dc]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[dc]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let r;for(let n=0,i=this.children.length;n<i;n++)r=this.children[n],r[dc]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this}replaceRight(e,r){let n=this.children[this.children.length-1];return n[dc]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this}setSourceContent(e,r){this.sourceContents[Nm.toSetString(e)]=r}walkSourceContents(e){for(let n=0,i=this.children.length;n<i;n++)this.children[n][dc]&&this.children[n].walkSourceContents(e);let r=Object.keys(this.sourceContents);for(let n=0,i=r.length;n<i;n++)e(Nm.fromSetString(r[n]),this.sourceContents[r[n]])}toString(){let e="";return this.walk(function(r){e+=r}),e}toStringWithSourceMap(e){let r={code:"",line:1,column:0},n=new d7(e),i=!1,s=null,o=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((s!==l.source||o!==l.line||a!==l.column||u!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),s=l.source,o=l.line,a=l.column,u=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(let p=0,f=c.length;p<f;p++)c.charCodeAt(p)===g7?(r.line++,r.column=0,p+1===f?(s=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){n.setSourceContent(c,l)}),{code:r.code,map:n}}};QD.SourceNode=mc});var Fm=b(Bm=>{Bm.SourceMapGenerator=Y_().SourceMapGenerator;Bm.SourceMapConsumer=YD().SourceMapConsumer;Bm.SourceNode=ZD().SourceNode});var ig=b(u$=>{(function t(e){"use strict";var r,n,i,s,o,a;function u(x){var P={},V,q;for(V in x)x.hasOwnProperty(V)&&(q=x[V],typeof q=="object"&&q!==null?P[V]=u(q):P[V]=q);return P}function c(x,P){var V,q,N,$;for(q=x.length,N=0;q;)V=q>>>1,$=N+V,P(x[$])?q=V:(N=$+1,q-=V+1);return N}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},i={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},s={},o={},a={},n={Break:s,Skip:o,Remove:a};function l(x,P){this.parent=x,this.key=P}l.prototype.replace=function(P){this.parent[this.key]=P},l.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function p(x,P,V,q){this.node=x,this.path=P,this.wrap=V,this.ref=q}function f(){}f.prototype.path=function(){var P,V,q,N,$,O;function I(T,k){if(Array.isArray(k))for(q=0,N=k.length;q<N;++q)T.push(k[q]);else T.push(k)}if(!this.__current.path)return null;for($=[],P=2,V=this.__leavelist.length;P<V;++P)O=this.__leavelist[P],I($,O.path);return I($,this.__current.path),$},f.prototype.type=function(){var x=this.current();return x.type||this.__current.wrap},f.prototype.parents=function(){var P,V,q;for(q=[],P=1,V=this.__leavelist.length;P<V;++P)q.push(this.__leavelist[P].node);return q},f.prototype.current=function(){return this.__current.node},f.prototype.__execute=function(P,V){var q,N;return N=void 0,q=this.__current,this.__current=V,this.__state=null,P&&(N=P.call(this,V.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=q,N},f.prototype.notify=function(P){this.__state=P},f.prototype.skip=function(){this.notify(o)},f.prototype.break=function(){this.notify(s)},f.prototype.remove=function(){this.notify(a)},f.prototype.__initialize=function(x,P){this.visitor=P,this.root=x,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,P.fallback==="iteration"?this.__fallback=Object.keys:typeof P.fallback=="function"&&(this.__fallback=P.fallback),this.__keys=i,P.keys&&(this.__keys=Object.assign(Object.create(this.__keys),P.keys))};function m(x){return x==null?!1:typeof x=="object"&&typeof x.type=="string"}function g(x,P){return(x===r.ObjectExpression||x===r.ObjectPattern)&&P==="properties"}function y(x,P){for(var V=x.length-1;V>=0;--V)if(x[V].node===P)return!0;return!1}f.prototype.traverse=function(P,V){var q,N,$,O,I,T,k,X,C,L,Z,te;for(this.__initialize(P,V),te={},q=this.__worklist,N=this.__leavelist,q.push(new p(P,null,null,null)),N.push(new p(null,null,null,null));q.length;){if($=q.pop(),$===te){if($=N.pop(),T=this.__execute(V.leave,$),this.__state===s||T===s)return;continue}if($.node){if(T=this.__execute(V.enter,$),this.__state===s||T===s)return;if(q.push(te),N.push($),this.__state===o||T===o)continue;if(O=$.node,I=O.type||$.wrap,L=this.__keys[I],!L)if(this.__fallback)L=this.__fallback(O);else throw new Error("Unknown node type "+I+".");for(X=L.length;(X-=1)>=0;)if(k=L[X],Z=O[k],!!Z){if(Array.isArray(Z)){for(C=Z.length;(C-=1)>=0;)if(Z[C]&&!y(N,Z[C])){if(g(I,L[X]))$=new p(Z[C],[k,C],"Property",null);else if(m(Z[C]))$=new p(Z[C],[k,C],null,null);else continue;q.push($)}}else if(m(Z)){if(y(N,Z))continue;q.push(new p(Z,k,null,null))}}}}},f.prototype.replace=function(P,V){var q,N,$,O,I,T,k,X,C,L,Z,te,ie;function se(re){var he,we,ge,Ct;if(re.ref.remove()){for(we=re.ref.key,Ct=re.ref.parent,he=q.length;he--;)if(ge=q[he],ge.ref&&ge.ref.parent===Ct){if(ge.ref.key<we)break;--ge.ref.key}}}for(this.__initialize(P,V),Z={},q=this.__worklist,N=this.__leavelist,te={root:P},T=new p(P,null,null,new l(te,"root")),q.push(T),N.push(T);q.length;){if(T=q.pop(),T===Z){if(T=N.pop(),I=this.__execute(V.leave,T),I!==void 0&&I!==s&&I!==o&&I!==a&&T.ref.replace(I),(this.__state===a||I===a)&&se(T),this.__state===s||I===s)return te.root;continue}if(I=this.__execute(V.enter,T),I!==void 0&&I!==s&&I!==o&&I!==a&&(T.ref.replace(I),T.node=I),(this.__state===a||I===a)&&(se(T),T.node=null),this.__state===s||I===s)return te.root;if($=T.node,!!$&&(q.push(Z),N.push(T),!(this.__state===o||I===o))){if(O=$.type||T.wrap,C=this.__keys[O],!C)if(this.__fallback)C=this.__fallback($);else throw new Error("Unknown node type "+O+".");for(k=C.length;(k-=1)>=0;)if(ie=C[k],L=$[ie],!!L)if(Array.isArray(L)){for(X=L.length;(X-=1)>=0;)if(L[X]){if(g(O,C[k]))T=new p(L[X],[ie,X],"Property",new l(L,X));else if(m(L[X]))T=new p(L[X],[ie,X],null,new l(L,X));else continue;q.push(T)}}else m(L)&&q.push(new p(L,ie,null,new l($,ie)))}}return te.root};function v(x,P){var V=new f;return V.traverse(x,P)}function w(x,P){var V=new f;return V.replace(x,P)}function R(x,P){var V;return V=c(P,function(N){return N.range[0]>x.range[0]}),x.extendedRange=[x.range[0],x.range[1]],V!==P.length&&(x.extendedRange[1]=P[V].range[0]),V-=1,V>=0&&(x.extendedRange[0]=P[V].range[1]),x}function U(x,P,V){var q=[],N,$,O,I;if(!x.range)throw new Error("attachComments needs range information");if(!V.length){if(P.length){for(O=0,$=P.length;O<$;O+=1)N=u(P[O]),N.extendedRange=[0,x.range[0]],q.push(N);x.leadingComments=q}return x}for(O=0,$=P.length;O<$;O+=1)q.push(R(u(P[O]),V));return I=0,v(x,{enter:function(T){for(var k;I<q.length&&(k=q[I],!(k.extendedRange[1]>T.range[0]));)k.extendedRange[1]===T.range[0]?(T.leadingComments||(T.leadingComments=[]),T.leadingComments.push(k),q.splice(I,1)):I+=1;if(I===q.length)return n.Break;if(q[I].extendedRange[0]>T.range[1])return n.Skip}}),I=0,v(x,{leave:function(T){for(var k;I<q.length&&(k=q[I],!(T.range[1]<k.extendedRange[0]));)T.range[1]===k.extendedRange[0]?(T.trailingComments||(T.trailingComments=[]),T.trailingComments.push(k),q.splice(I,1)):I+=1;if(I===q.length)return n.Break;if(q[I].extendedRange[0]>T.range[1])return n.Skip}}),x}return e.Syntax=r,e.traverse=v,e.replace=w,e.attachComments=U,e.VisitorKeys=i,e.VisitorOption=n,e.Controller=f,e.cloneEnvironment=function(){return t({})},e})(u$)});var M$=b(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});function dJ(t){let e=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],s=[0,128,128,128];for(let o of t){let a=r,u=o.codePointAt(0),c=0-(-(u&4294967168)>>31)-(-(u&4294965248)>>31)-(-(u&4294901760)>>31),l=i[c],p=s[c];a[3]=p|u&l,a[2]=p|u>>>6&l,a[1]=p|u>>>12&l,a[0]=p|u>>>18&l;let f=3-c;a[f]|=n[c],Array.prototype.push.apply(e,a.slice(f))}return new Uint8Array(e)}_o.toUtf8_1=dJ;function mJ(t){let e=[];for(let r of t){let n=r.codePointAt(0);n<128?e.push(n):n<2048?e.push(192|n>>6&31,128|n&63):n<65536?e.push(224|n>>12&15,128|n>>6&63,128|n&63):e.push(240|n>>18&7,128|n>>12&63,128|n>>6&63,128|n&63)}return new Uint8Array(e)}_o.toUtf8_2=mJ;function $$(t){let e=[];for(let r=0,n=t.length;r<n;++r){let i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(192|i>>6,128|i&63);else if(i<55296||i>=57344)e.push(224|i>>12,128|i>>6&63,128|i&63);else{let s=65536+((i&1023)<<10|t.charCodeAt(++r)&1023);e.push(240|s>>18&7,128|s>>12&63,128|s>>6&63,128|s&63)}}return new Uint8Array(e)}_o.toUtf8_3=$$;_o.toUtf8=$$;_o.default=_o.toUtf8});var O$=b(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0});var gJ=M$(),Dc=2654435761,Tc=2246822519,Hg=3266489917,R$=668265263,k$=374761393;function HJ(t,e=0){t=typeof t=="string"?gJ.default(t):t;let r=t,n=e+k$&4294967295,i=0;if(r.length>=16){let o=[e+Dc+Tc&4294967295,e+Tc&4294967295,e+0&4294967295,e-Dc&4294967295],a=t,u=a.length-16,c=0;for(i=0;(i&4294967280)<=u;i+=4){let l=i,p=a[l+0]+(a[l+1]<<8),f=a[l+2]+(a[l+3]<<8),m=p*Tc+(f*Tc<<16),g=o[c]+m&4294967295;g=g<<13|g>>>19;let y=g&65535,v=g>>>16;o[c]=y*Dc+(v*Dc<<16)&4294967295,c=c+1&3}n=(o[0]<<1|o[0]>>>31)+(o[1]<<7|o[1]>>>25)+(o[2]<<12|o[2]>>>20)+(o[3]<<18|o[3]>>>14)&4294967295}n=n+t.length&4294967295;let s=t.length-4;for(;i<=s;i+=4){let o=i,a=r[o+0]+(r[o+1]<<8),u=r[o+2]+(r[o+3]<<8),c=a*Hg+(u*Hg<<16);n=n+c&4294967295,n=n<<17|n>>>15,n=(n&65535)*R$+((n>>>16)*R$<<16)&4294967295}for(;i<r.length;++i){let o=r[i];n=n+o*k$,n=n<<11|n>>>21,n=(n&65535)*Dc+((n>>>16)*Dc<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*Tc&4294967295)+((n>>>16)*Tc<<16),n=n^n>>>13,n=((n&65535)*Hg&4294967295)+((n>>>16)*Hg<<16),n=n^n>>>16,n<0?n+4294967296:n}R0.xxHash32=HJ});var k0=b(yg=>{"use strict";function yJ(t){for(var e in t)yg.hasOwnProperty(e)||(yg[e]=t[e])}Object.defineProperty(yg,"__esModule",{value:!0});yJ(O$())});var W$=b((gHe,Ef)=>{var j$={};j$.__wbindgen_placeholder__=Ef.exports;var ei,{TextDecoder:wJ}=require("util"),q$=new wJ("utf-8",{ignoreBOM:!0,fatal:!0});q$.decode();var Ig=null;function B0(){return(Ig===null||Ig.buffer!==ei.memory.buffer)&&(Ig=new Uint8Array(ei.memory.buffer)),Ig}function AJ(t,e){return q$.decode(B0().subarray(t,t+e))}var N0=0;function U$(t,e){let r=e(t.length*1);return B0().set(t,r/1),N0=t.length,r}var kc=class{static __wrap(e){let r=Object.create(kc.prototype);return r.ptr=e,r}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();ei.__wbg_hasher_free(e)}constructor(){var e=ei.hasher_new();return kc.__wrap(e)}update(e){var r=U$(e,ei.__wbindgen_malloc),n=N0;ei.hasher_update(this.ptr,r,n)}digest(e){try{var r=U$(e,ei.__wbindgen_malloc),n=N0;ei.hasher_digest(this.ptr,r,n)}finally{e.set(B0().subarray(r/1,r/1+n)),ei.__wbindgen_free(r,n*1)}}};Ef.exports.Hasher=kc;Ef.exports.__wbindgen_throw=function(t,e){throw new Error(AJ(t,e))};var IJ=require("path").join(__dirname,"chromehash_bg.wasm"),SJ=require("fs").readFileSync(IJ),EJ=new WebAssembly.Module(SJ),xJ=new WebAssembly.Instance(EJ,j$);ei=xJ.exports;Ef.exports.__wasm=ei});var J$=b(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.shaHashFile=ji.hashFile=ji.shaHash=ji.hash=void 0;var K$=W$(),X$=require("fs"),V$=require("string_decoder"),z$=require("crypto"),Eg=Buffer.alloc(4*5),CJ=t=>{let e=new K$.Hasher;return e.update(TJ(t)),e.digest(Eg),e.free(),Eg.toString("hex")};ji.hash=CJ;var LJ=t=>{let e=(0,z$.createHash)("sha256");return e.update($J(t)),e.digest("hex")};ji.shaHash=LJ;var PJ=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=new K$.Hasher,i;try{i=await X$.promises.open(t,"r");let s=await i.read(r,0,r.length,null),o=r.slice(0,s.bytesRead);if(Cg(o))for(n.update(o.slice(2));s.bytesRead===r.length;)s=await i.read(r,0,r.length,null),n.update(r.slice(0,s.bytesRead));else if(Lg(o))for(n.update(o.slice(2).swap16());s.bytesRead===r.length;)s=await i.read(r,0,r.length,null),n.update(r.slice(0,s.bytesRead).swap16());else if(xg(o)){let a=new V$.StringDecoder("utf8");for(n.update(Buffer.from(a.write(o.slice(3)),"utf16le"));s.bytesRead===r.length;)s=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,s.bytesRead)),"utf16le"))}else{let a=new V$.StringDecoder("utf8");for(n.update(Buffer.from(a.write(o),"utf16le"));s.bytesRead===r.length;)s=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,s.bytesRead)),"utf16le"))}return n.digest(Eg),Eg.toString("hex")}finally{n.free(),i!==void 0&&await i.close()}};ji.hashFile=PJ;var Sg={stream:!0},DJ=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=(0,z$.createHash)("sha256"),i;try{i=await X$.promises.open(t,"r");let s=await i.read(r,0,r.length,null),o=r.slice(0,s.bytesRead);if(Cg(o)){let a=new TextDecoder("utf-16le");for(n.update(a.decode(o.slice(2),Sg));s.bytesRead>0;)s=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,s.bytesRead),Sg))}else if(Lg(o)){let a=new TextDecoder("utf-16be");for(n.update(a.decode(o.slice(2),Sg));s.bytesRead>0;)s=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,s.bytesRead),Sg))}else if(xg(o))for(n.update(o.slice(3));s.bytesRead>0;)s=await i.read(r,0,r.length,null),n.update(r.slice(0,s.bytesRead));else for(n.update(o);s.bytesRead>0;)s=await i.read(r,0,r.length,null),n.update(r.slice(0,s.bytesRead));return n.digest("hex")}finally{await(i==null?void 0:i.close())}};ji.shaHashFile=DJ;var xg=t=>t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191,Cg=t=>t.length>=2&&t[0]===255&&t[1]===254,Lg=t=>t.length>=2&&t[0]===254&&t[1]===255,TJ=t=>xg(t)?G$(t.slice(3)):Cg(t)?t.slice(2):Lg(t)?t.slice(2).swap16():G$(t),$J=t=>xg(t)?t.slice(3):Cg(t)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(t.slice(2))):Lg(t)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(t.slice(2))):t,G$=t=>Buffer.from(t.toString("utf8"),"utf16le")});var jg=b(xn=>{"use strict";xn.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;xn.find=(t,e)=>t.nodes.find(r=>r.type===e);xn.exceedsLimit=(t,e,r=1,n)=>n===!1||!xn.isInteger(t)||!xn.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;xn.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};xn.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);xn.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;xn.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;xn.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);xn.flatten=(...t)=>{let e=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,e):s!==void 0&&e.push(s)}return e};return r(t),e}});var qg=b((Pve,xM)=>{"use strict";var EM=jg();xM.exports=(t,e={})=>{let r=(n,i={})=>{let s=e.escapeInvalid&&EM.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(s||o)&&EM.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(t)}});var LM=b((Dve,CM)=>{"use strict";CM.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var NM=b((Tve,OM)=>{"use strict";var PM=LM(),Ja=(t,e,r)=>{if(PM(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(PM(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=t+":"+e+"="+i+s+o+a;if(Ja.cache.hasOwnProperty(u))return Ja.cache[u].result;let c=Math.min(t,e),l=Math.max(t,e);if(Math.abs(c-l)===1){let y=t+"|"+e;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let p=kM(t)||kM(e),f={min:t,max:e,a:c,b:l},m=[],g=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let y=l<0?Math.abs(l):1;g=DM(y,Math.abs(c),f,n),c=f.a=0}return l>=0&&(m=DM(c,l,f,n)),f.negatives=g,f.positives=m,f.result=YJ(g,m,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&m.length+g.length>1&&(f.result=`(?:${f.result})`),Ja.cache[u]=f,f.result};function YJ(t,e,r){let n=z0(t,e,"-",!1,r)||[],i=z0(e,t,"",!1,r)||[],s=z0(t,e,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function QJ(t,e){let r=1,n=1,i=$M(t,r),s=new Set([e]);for(;t<=i&&i<=e;)s.add(i),r+=1,i=$M(t,r);for(i=MM(e+1,n)-1;t<i&&i<=e;)s.add(i),n+=1,i=MM(e+1,n)-1;return s=[...s],s.sort(tY),s}function ZJ(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=eY(t,e),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?s+=u:u!=="0"||c!=="9"?s+=rY(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function DM(t,e,r,n){let i=QJ(t,e),s=[],o=t,a;for(let u=0;u<i.length;u++){let c=i[u],l=ZJ(String(o),String(c),n),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+RM(a.count),o=c+1;continue}r.isPadded&&(p=nY(c,r,n)),l.string=p+l.pattern+RM(l.count),s.push(l),o=c+1,a=l}return s}function z0(t,e,r,n,i){let s=[];for(let o of t){let{string:a}=o;!n&&!TM(e,"string",a)&&s.push(r+a),n&&TM(e,"string",a)&&s.push(r+a)}return s}function eY(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function tY(t,e){return t>e?1:e>t?-1:0}function TM(t,e,r){return t.some(n=>n[e]===r)}function $M(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function MM(t,e){return t-t%Math.pow(10,e)}function RM(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function rY(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function kM(t){return/^-?(0+)\d/.test(t)}function nY(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Ja.cache={};Ja.clearCache=()=>Ja.cache={};OM.exports=Ja});var Q0=b(($ve,GM)=>{"use strict";var iY=require("util"),UM=NM(),BM=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),sY=t=>e=>t===!0?Number(e):String(e),J0=t=>typeof t=="number"||typeof t=="string"&&t!=="",Tf=t=>Number.isInteger(+t),Y0=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},oY=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,aY=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},FM=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},uY=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",n="",i="",s;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,e.wrap?`(${r}${s})`:s},jM=(t,e,r,n)=>{if(r)return UM(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);if(t===e)return i;let s=String.fromCharCode(e);return`[${i}-${s}]`},qM=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${t.join("|")})`:t.join("|")}return UM(t,e,r)},WM=(...t)=>new RangeError("Invalid range arguments: "+iY.inspect(...t)),VM=(t,e,r)=>{if(r.strictRanges===!0)throw WM([t,e]);return[]},cY=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},lY=(t,e,r=1,n={})=>{let i=Number(t),s=Number(e);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw WM([t,e]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(t),u=String(e),c=String(r);r=Math.max(Math.abs(r),1);let l=Y0(a)||Y0(u)||Y0(c),p=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&oY(t,e,n)===!1,m=n.transform||sY(f);if(n.toRegex&&r===1)return jM(FM(t,p),FM(e,p),!0,n);let g={negatives:[],positives:[]},y=R=>g[R<0?"negatives":"positives"].push(Math.abs(R)),v=[],w=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?y(i):v.push(aY(m(i,w),p,f)),i=o?i-r:i+r,w++;return n.toRegex===!0?r>1?uY(g,n):qM(v,null,{wrap:!1,...n}):v},pY=(t,e,r=1,n={})=>{if(!Tf(t)&&t.length>1||!Tf(e)&&e.length>1)return VM(t,e,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(n.toRegex&&r===1)return jM(u,c,!1,n);let l=[],p=0;for(;a?s>=o:s<=o;)l.push(i(s,p)),s=a?s-r:s+r,p++;return n.toRegex===!0?qM(l,null,{wrap:!1,options:n}):l},Wg=(t,e,r,n={})=>{if(e==null&&J0(t))return[t];if(!J0(t)||!J0(e))return VM(t,e,n);if(typeof r=="function")return Wg(t,e,1,{transform:r});if(BM(r))return Wg(t,e,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Tf(r)?Tf(t)&&Tf(e)?lY(t,e,r,i):pY(t,e,Math.max(Math.abs(r),1),i):r!=null&&!BM(r)?cY(r,i):Wg(t,e,1,r)};GM.exports=Wg});var zM=b((Mve,XM)=>{"use strict";var fY=Q0(),KM=jg(),hY=(t,e={})=>{let r=(n,i={})=>{let s=KM.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,u=e.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=KM.reduce(n.nodes),p=fY(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(t)};XM.exports=hY});var QM=b((Rve,YM)=>{"use strict";var dY=Q0(),JM=qg(),Xc=jg(),Ya=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Xc.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let s of i)n.push(Ya(s,e,r));else for(let s of e)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Ya(i,s,r):i+s);return Xc.flatten(n)},mY=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Ya(a.pop(),JM(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Ya(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=Xc.reduce(i.nodes);if(Xc.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=dY(...p,e);f.length===0&&(f=JM(i,e)),a.push(Ya(a.pop(),f)),i.nodes=[];return}let u=Xc.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let p=0;p<i.nodes.length;p++){let f=i.nodes[p];if(f.type==="comma"&&i.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Ya(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Ya(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return Xc.flatten(n(t))};YM.exports=mY});var e1=b((kve,ZM)=>{"use strict";ZM.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var s1=b((Ove,i1)=>{"use strict";var gY=qg(),{MAX_LENGTH:t1,CHAR_BACKSLASH:Z0,CHAR_BACKTICK:HY,CHAR_COMMA:yY,CHAR_DOT:vY,CHAR_LEFT_PARENTHESES:bY,CHAR_RIGHT_PARENTHESES:_Y,CHAR_LEFT_CURLY_BRACE:wY,CHAR_RIGHT_CURLY_BRACE:AY,CHAR_LEFT_SQUARE_BRACKET:r1,CHAR_RIGHT_SQUARE_BRACKET:n1,CHAR_DOUBLE_QUOTE:IY,CHAR_SINGLE_QUOTE:SY,CHAR_NO_BREAK_SPACE:EY,CHAR_ZERO_WIDTH_NOBREAK_SPACE:xY}=e1(),CY=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(t1,r.maxLength):t1;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i={type:"root",input:t,nodes:[]},s=[i],o=i,a=i,u=0,c=t.length,l=0,p=0,f,m={},g=()=>t[l++],y=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return o.nodes.push(v),v.parent=o,v.prev=a,a=v,v};for(y({type:"bos"});l<c;)if(o=s[s.length-1],f=g(),!(f===xY||f===EY)){if(f===Z0){y({type:"text",value:(e.keepEscaping?f:"")+g()});continue}if(f===n1){y({type:"text",value:"\\"+f});continue}if(f===r1){u++;let v=!0,w;for(;l<c&&(w=g());){if(f+=w,w===r1){u++;continue}if(w===Z0){f+=g();continue}if(w===n1&&(u--,u===0))break}y({type:"text",value:f});continue}if(f===bY){o=y({type:"paren",nodes:[]}),s.push(o),y({type:"text",value:f});continue}if(f===_Y){if(o.type!=="paren"){y({type:"text",value:f});continue}o=s.pop(),y({type:"text",value:f}),o=s[s.length-1];continue}if(f===IY||f===SY||f===HY){let v=f,w;for(e.keepQuotes!==!0&&(f="");l<c&&(w=g());){if(w===Z0){f+=w+g();continue}if(w===v){e.keepQuotes===!0&&(f+=w);break}f+=w}y({type:"text",value:f});continue}if(f===wY){p++;let w={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};o=y(w),s.push(o),y({type:"open",value:f});continue}if(f===AY){if(o.type!=="brace"){y({type:"text",value:f});continue}let v="close";o=s.pop(),o.close=!0,y({type:v,value:f}),p--,o=s[s.length-1];continue}if(f===yY&&p>0){if(o.ranges>0){o.ranges=0;let v=o.nodes.shift();o.nodes=[v,{type:"text",value:gY(o)}]}y({type:"comma",value:f}),o.commas++;continue}if(f===vY&&p>0&&o.commas===0){let v=o.nodes;if(p===0||v.length===0){y({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){v.pop();let w=v[v.length-1];w.value+=a.value+f,a=w,o.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(R=>{R.nodes||(R.type==="open"&&(R.isOpen=!0),R.type==="close"&&(R.isClose=!0),R.nodes||(R.type="text"),R.invalid=!0)});let v=s[s.length-1],w=v.nodes.indexOf(o);v.nodes.splice(w,1,...o.nodes)}while(s.length>0);return y({type:"eos"}),i};i1.exports=CY});var u1=b((Nve,a1)=>{"use strict";var o1=qg(),LY=zM(),PY=QM(),DY=s1(),sn=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let i=sn.create(n,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(sn.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};sn.parse=(t,e={})=>DY(t,e);sn.stringify=(t,e={})=>o1(typeof t=="string"?sn.parse(t,e):t,e);sn.compile=(t,e={})=>(typeof t=="string"&&(t=sn.parse(t,e)),LY(t,e));sn.expand=(t,e={})=>{typeof t=="string"&&(t=sn.parse(t,e));let r=PY(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};sn.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?sn.compile(t,e):sn.expand(t,e);a1.exports=sn});var $f=b((Bve,h1)=>{"use strict";var TY=require("path"),Vi="\\\\/",c1=`[^${Vi}]`,Es="\\.",$Y="\\+",MY="\\?",Vg="\\/",RY="(?=.)",l1="[^/]",ew=`(?:${Vg}|$)`,p1=`(?:^|${Vg})`,tw=`${Es}{1,2}${ew}`,kY=`(?!${Es})`,OY=`(?!${p1}${tw})`,NY=`(?!${Es}{0,1}${ew})`,BY=`(?!${tw})`,FY=`[^.${Vg}]`,UY=`${l1}*?`,f1={DOT_LITERAL:Es,PLUS_LITERAL:$Y,QMARK_LITERAL:MY,SLASH_LITERAL:Vg,ONE_CHAR:RY,QMARK:l1,END_ANCHOR:ew,DOTS_SLASH:tw,NO_DOT:kY,NO_DOTS:OY,NO_DOT_SLASH:NY,NO_DOTS_SLASH:BY,QMARK_NO_DOT:FY,STAR:UY,START_ANCHOR:p1},jY={...f1,SLASH_LITERAL:`[${Vi}]`,QMARK:c1,STAR:`${c1}*?`,DOTS_SLASH:`${Es}{1,2}(?:[${Vi}]|$)`,NO_DOT:`(?!${Es})`,NO_DOTS:`(?!(?:^|[${Vi}])${Es}{1,2}(?:[${Vi}]|$))`,NO_DOT_SLASH:`(?!${Es}{0,1}(?:[${Vi}]|$))`,NO_DOTS_SLASH:`(?!${Es}{1,2}(?:[${Vi}]|$))`,QMARK_NO_DOT:`[^.${Vi}]`,START_ANCHOR:`(?:^|[${Vi}])`,END_ANCHOR:`(?:[${Vi}]|$)`},qY={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};h1.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:qY,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:TY.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?jY:f1}}});var Mf=b(Gr=>{"use strict";var WY=require("path"),VY=process.platform==="win32",{REGEX_BACKSLASH:GY,REGEX_REMOVE_BACKSLASH:KY,REGEX_SPECIAL_CHARS:XY,REGEX_SPECIAL_CHARS_GLOBAL:zY}=$f();Gr.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Gr.hasRegexChars=t=>XY.test(t);Gr.isRegexChar=t=>t.length===1&&Gr.hasRegexChars(t);Gr.escapeRegex=t=>t.replace(zY,"\\$1");Gr.toPosixSlashes=t=>t.replace(GY,"/");Gr.removeBackslashes=t=>t.replace(KY,e=>e==="\\"?"":e);Gr.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Gr.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:VY===!0||WY.sep==="\\";Gr.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?Gr.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};Gr.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Gr.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${t})${i}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var _1=b((Uve,b1)=>{"use strict";var d1=Mf(),{CHAR_ASTERISK:rw,CHAR_AT:JY,CHAR_BACKWARD_SLASH:Rf,CHAR_COMMA:YY,CHAR_DOT:nw,CHAR_EXCLAMATION_MARK:iw,CHAR_FORWARD_SLASH:v1,CHAR_LEFT_CURLY_BRACE:sw,CHAR_LEFT_PARENTHESES:ow,CHAR_LEFT_SQUARE_BRACKET:QY,CHAR_PLUS:ZY,CHAR_QUESTION_MARK:m1,CHAR_RIGHT_CURLY_BRACE:eQ,CHAR_RIGHT_PARENTHESES:g1,CHAR_RIGHT_SQUARE_BRACKET:tQ}=$f(),H1=t=>t===v1||t===Rf,y1=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},rQ=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=t,c=-1,l=0,p=0,f=!1,m=!1,g=!1,y=!1,v=!1,w=!1,R=!1,U=!1,x=!1,P=!1,V=0,q,N,$={value:"",depth:0,isGlob:!1},O=()=>c>=n,I=()=>u.charCodeAt(c+1),T=()=>(q=N,u.charCodeAt(++c));for(;c<n;){N=T();let Z;if(N===Rf){R=$.backslashes=!0,N=T(),N===sw&&(w=!0);continue}if(w===!0||N===sw){for(V++;O()!==!0&&(N=T());){if(N===Rf){R=$.backslashes=!0,T();continue}if(N===sw){V++;continue}if(w!==!0&&N===nw&&(N=T())===nw){if(f=$.isBrace=!0,g=$.isGlob=!0,P=!0,i===!0)continue;break}if(w!==!0&&N===YY){if(f=$.isBrace=!0,g=$.isGlob=!0,P=!0,i===!0)continue;break}if(N===eQ&&(V--,V===0)){w=!1,f=$.isBrace=!0,P=!0;break}}if(i===!0)continue;break}if(N===v1){if(s.push(c),o.push($),$={value:"",depth:0,isGlob:!1},P===!0)continue;if(q===nw&&c===l+1){l+=2;continue}p=c+1;continue}if(r.noext!==!0&&(N===ZY||N===JY||N===rw||N===m1||N===iw)===!0&&I()===ow){if(g=$.isGlob=!0,y=$.isExtglob=!0,P=!0,N===iw&&c===l&&(x=!0),i===!0){for(;O()!==!0&&(N=T());){if(N===Rf){R=$.backslashes=!0,N=T();continue}if(N===g1){g=$.isGlob=!0,P=!0;break}}continue}break}if(N===rw){if(q===rw&&(v=$.isGlobstar=!0),g=$.isGlob=!0,P=!0,i===!0)continue;break}if(N===m1){if(g=$.isGlob=!0,P=!0,i===!0)continue;break}if(N===QY){for(;O()!==!0&&(Z=T());){if(Z===Rf){R=$.backslashes=!0,T();continue}if(Z===tQ){m=$.isBracket=!0,g=$.isGlob=!0,P=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&N===iw&&c===l){U=$.negated=!0,l++;continue}if(r.noparen!==!0&&N===ow){if(g=$.isGlob=!0,i===!0){for(;O()!==!0&&(N=T());){if(N===ow){R=$.backslashes=!0,N=T();continue}if(N===g1){P=!0;break}}continue}break}if(g===!0){if(P=!0,i===!0)continue;break}}r.noext===!0&&(y=!1,g=!1);let k=u,X="",C="";l>0&&(X=u.slice(0,l),u=u.slice(l),p-=l),k&&g===!0&&p>0?(k=u.slice(0,p),C=u.slice(p)):g===!0?(k="",C=u):k=u,k&&k!==""&&k!=="/"&&k!==u&&H1(k.charCodeAt(k.length-1))&&(k=k.slice(0,-1)),r.unescape===!0&&(C&&(C=d1.removeBackslashes(C)),k&&R===!0&&(k=d1.removeBackslashes(k)));let L={prefix:X,input:t,start:l,base:k,glob:C,isBrace:f,isBracket:m,isGlob:g,isExtglob:y,isGlobstar:v,negated:U,negatedExtglob:x};if(r.tokens===!0&&(L.maxDepth=0,H1(N)||o.push($),L.tokens=o),r.parts===!0||r.tokens===!0){let Z;for(let te=0;te<s.length;te++){let ie=Z?Z+1:l,se=s[te],re=t.slice(ie,se);r.tokens&&(te===0&&l!==0?(o[te].isPrefix=!0,o[te].value=X):o[te].value=re,y1(o[te]),L.maxDepth+=o[te].depth),(te!==0||re!=="")&&a.push(re),Z=se}if(Z&&Z+1<t.length){let te=t.slice(Z+1);a.push(te),r.tokens&&(o[o.length-1].value=te,y1(o[o.length-1]),L.maxDepth+=o[o.length-1].depth)}L.slashes=s,L.parts=a}return L};b1.exports=rQ});var I1=b((jve,A1)=>{"use strict";var Gg=$f(),on=Mf(),{MAX_LENGTH:Kg,POSIX_REGEX_SOURCE:nQ,REGEX_NON_SPECIAL_CHARS:iQ,REGEX_SPECIAL_CHARS_BACKREF:sQ,REPLACEMENTS:w1}=Gg,oQ=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>on.escapeRegex(i)).join("..")}return r},zc=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,aw=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=w1[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Kg,r.maxLength):Kg,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=on.isWindows(e),c=Gg.globChars(u),l=Gg.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:m,ONE_CHAR:g,DOTS_SLASH:y,NO_DOT:v,NO_DOT_SLASH:w,NO_DOTS_SLASH:R,QMARK:U,QMARK_NO_DOT:x,STAR:P,START_ANCHOR:V}=c,q=Y=>`(${a}(?:(?!${V}${Y.dot?y:p}).)*?)`,N=r.dot?"":v,$=r.dot?U:x,O=r.bash===!0?q(r):P;r.capture&&(O=`(${O})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let I={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=on.removePrefix(t,I),i=t.length;let T=[],k=[],X=[],C=s,L,Z=()=>I.index===i-1,te=I.peek=(Y=1)=>t[I.index+Y],ie=I.advance=()=>t[++I.index]||"",se=()=>t.slice(I.index+1),re=(Y="",Le=0)=>{I.consumed+=Y,I.index+=Le},he=Y=>{I.output+=Y.output!=null?Y.output:Y.value,re(Y.value)},we=()=>{let Y=1;for(;te()==="!"&&(te(2)!=="("||te(3)==="?");)ie(),I.start++,Y++;return Y%2===0?!1:(I.negated=!0,I.start++,!0)},ge=Y=>{I[Y]++,X.push(Y)},Ct=Y=>{I[Y]--,X.pop()},ve=Y=>{if(C.type==="globstar"){let Le=I.braces>0&&(Y.type==="comma"||Y.type==="brace"),J=Y.extglob===!0||T.length&&(Y.type==="pipe"||Y.type==="paren");Y.type!=="slash"&&Y.type!=="paren"&&!Le&&!J&&(I.output=I.output.slice(0,-C.output.length),C.type="star",C.value="*",C.output=O,I.output+=C.output)}if(T.length&&Y.type!=="paren"&&(T[T.length-1].inner+=Y.value),(Y.value||Y.output)&&he(Y),C&&C.type==="text"&&Y.type==="text"){C.value+=Y.value,C.output=(C.output||"")+Y.value;return}Y.prev=C,o.push(Y),C=Y},Ir=(Y,Le)=>{let J={...l[Le],conditions:1,inner:""};J.prev=C,J.parens=I.parens,J.output=I.output;let He=(r.capture?"(":"")+J.open;ge("parens"),ve({type:Y,value:Le,output:I.output?"":g}),ve({type:"paren",extglob:!0,value:ie(),output:He}),T.push(J)},Yr=Y=>{let Le=Y.close+(r.capture?")":""),J;if(Y.type==="negate"){let He=O;if(Y.inner&&Y.inner.length>1&&Y.inner.includes("/")&&(He=q(r)),(He!==O||Z()||/^\)+$/.test(se()))&&(Le=Y.close=`)$))${He}`),Y.inner.includes("*")&&(J=se())&&/^\.[^\\/.]+$/.test(J)){let Be=aw(J,{...e,fastpaths:!1}).output;Le=Y.close=`)${Be})${He})`}Y.prev.type==="bos"&&(I.negatedExtglob=!0)}ve({type:"paren",extglob:!0,value:L,output:Le}),Ct("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let Y=!1,Le=t.replace(sQ,(J,He,Be,pt,gt,Zs)=>pt==="\\"?(Y=!0,J):pt==="?"?He?He+pt+(gt?U.repeat(gt.length):""):Zs===0?$+(gt?U.repeat(gt.length):""):U.repeat(Be.length):pt==="."?p.repeat(Be.length):pt==="*"?He?He+pt+(gt?O:""):O:He?J:`\\${J}`);return Y===!0&&(r.unescape===!0?Le=Le.replace(/\\/g,""):Le=Le.replace(/\\+/g,J=>J.length%2===0?"\\\\":J?"\\":"")),Le===t&&r.contains===!0?(I.output=t,I):(I.output=on.wrapOutput(Le,I,e),I)}for(;!Z();){if(L=ie(),L==="\0")continue;if(L==="\\"){let J=te();if(J==="/"&&r.bash!==!0||J==="."||J===";")continue;if(!J){L+="\\",ve({type:"text",value:L});continue}let He=/^\\+/.exec(se()),Be=0;if(He&&He[0].length>2&&(Be=He[0].length,I.index+=Be,Be%2!==0&&(L+="\\")),r.unescape===!0?L=ie():L+=ie(),I.brackets===0){ve({type:"text",value:L});continue}}if(I.brackets>0&&(L!=="]"||C.value==="["||C.value==="[^")){if(r.posix!==!1&&L===":"){let J=C.value.slice(1);if(J.includes("[")&&(C.posix=!0,J.includes(":"))){let He=C.value.lastIndexOf("["),Be=C.value.slice(0,He),pt=C.value.slice(He+2),gt=nQ[pt];if(gt){C.value=Be+gt,I.backtrack=!0,ie(),!s.output&&o.indexOf(C)===1&&(s.output=g);continue}}}(L==="["&&te()!==":"||L==="-"&&te()==="]")&&(L=`\\${L}`),L==="]"&&(C.value==="["||C.value==="[^")&&(L=`\\${L}`),r.posix===!0&&L==="!"&&C.value==="["&&(L="^"),C.value+=L,he({value:L});continue}if(I.quotes===1&&L!=='"'){L=on.escapeRegex(L),C.value+=L,he({value:L});continue}if(L==='"'){I.quotes=I.quotes===1?0:1,r.keepQuotes===!0&&ve({type:"text",value:L});continue}if(L==="("){ge("parens"),ve({type:"paren",value:L});continue}if(L===")"){if(I.parens===0&&r.strictBrackets===!0)throw new SyntaxError(zc("opening","("));let J=T[T.length-1];if(J&&I.parens===J.parens+1){Yr(T.pop());continue}ve({type:"paren",value:L,output:I.parens?")":"\\)"}),Ct("parens");continue}if(L==="["){if(r.nobracket===!0||!se().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(zc("closing","]"));L=`\\${L}`}else ge("brackets");ve({type:"bracket",value:L});continue}if(L==="]"){if(r.nobracket===!0||C&&C.type==="bracket"&&C.value.length===1){ve({type:"text",value:L,output:`\\${L}`});continue}if(I.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(zc("opening","["));ve({type:"text",value:L,output:`\\${L}`});continue}Ct("brackets");let J=C.value.slice(1);if(C.posix!==!0&&J[0]==="^"&&!J.includes("/")&&(L=`/${L}`),C.value+=L,he({value:L}),r.literalBrackets===!1||on.hasRegexChars(J))continue;let He=on.escapeRegex(C.value);if(I.output=I.output.slice(0,-C.value.length),r.literalBrackets===!0){I.output+=He,C.value=He;continue}C.value=`(${a}${He}|${C.value})`,I.output+=C.value;continue}if(L==="{"&&r.nobrace!==!0){ge("braces");let J={type:"brace",value:L,output:"(",outputIndex:I.output.length,tokensIndex:I.tokens.length};k.push(J),ve(J);continue}if(L==="}"){let J=k[k.length-1];if(r.nobrace===!0||!J){ve({type:"text",value:L,output:L});continue}let He=")";if(J.dots===!0){let Be=o.slice(),pt=[];for(let gt=Be.length-1;gt>=0&&(o.pop(),Be[gt].type!=="brace");gt--)Be[gt].type!=="dots"&&pt.unshift(Be[gt].value);He=oQ(pt,r),I.backtrack=!0}if(J.comma!==!0&&J.dots!==!0){let Be=I.output.slice(0,J.outputIndex),pt=I.tokens.slice(J.tokensIndex);J.value=J.output="\\{",L=He="\\}",I.output=Be;for(let gt of pt)I.output+=gt.output||gt.value}ve({type:"brace",value:L,output:He}),Ct("braces"),k.pop();continue}if(L==="|"){T.length>0&&T[T.length-1].conditions++,ve({type:"text",value:L});continue}if(L===","){let J=L,He=k[k.length-1];He&&X[X.length-1]==="braces"&&(He.comma=!0,J="|"),ve({type:"comma",value:L,output:J});continue}if(L==="/"){if(C.type==="dot"&&I.index===I.start+1){I.start=I.index+1,I.consumed="",I.output="",o.pop(),C=s;continue}ve({type:"slash",value:L,output:m});continue}if(L==="."){if(I.braces>0&&C.type==="dot"){C.value==="."&&(C.output=p);let J=k[k.length-1];C.type="dots",C.output+=L,C.value+=L,J.dots=!0;continue}if(I.braces+I.parens===0&&C.type!=="bos"&&C.type!=="slash"){ve({type:"text",value:L,output:p});continue}ve({type:"dot",value:L,output:p});continue}if(L==="?"){if(!(C&&C.value==="(")&&r.noextglob!==!0&&te()==="("&&te(2)!=="?"){Ir("qmark",L);continue}if(C&&C.type==="paren"){let He=te(),Be=L;if(He==="<"&&!on.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(C.value==="("&&!/[!=<:]/.test(He)||He==="<"&&!/<([!=]|\w+>)/.test(se()))&&(Be=`\\${L}`),ve({type:"text",value:L,output:Be});continue}if(r.dot!==!0&&(C.type==="slash"||C.type==="bos")){ve({type:"qmark",value:L,output:x});continue}ve({type:"qmark",value:L,output:U});continue}if(L==="!"){if(r.noextglob!==!0&&te()==="("&&(te(2)!=="?"||!/[!=<:]/.test(te(3)))){Ir("negate",L);continue}if(r.nonegate!==!0&&I.index===0){we();continue}}if(L==="+"){if(r.noextglob!==!0&&te()==="("&&te(2)!=="?"){Ir("plus",L);continue}if(C&&C.value==="("||r.regex===!1){ve({type:"plus",value:L,output:f});continue}if(C&&(C.type==="bracket"||C.type==="paren"||C.type==="brace")||I.parens>0){ve({type:"plus",value:L});continue}ve({type:"plus",value:f});continue}if(L==="@"){if(r.noextglob!==!0&&te()==="("&&te(2)!=="?"){ve({type:"at",extglob:!0,value:L,output:""});continue}ve({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);let J=iQ.exec(se());J&&(L+=J[0],I.index+=J[0].length),ve({type:"text",value:L});continue}if(C&&(C.type==="globstar"||C.star===!0)){C.type="star",C.star=!0,C.value+=L,C.output=O,I.backtrack=!0,I.globstar=!0,re(L);continue}let Y=se();if(r.noextglob!==!0&&/^\([^?]/.test(Y)){Ir("star",L);continue}if(C.type==="star"){if(r.noglobstar===!0){re(L);continue}let J=C.prev,He=J.prev,Be=J.type==="slash"||J.type==="bos",pt=He&&(He.type==="star"||He.type==="globstar");if(r.bash===!0&&(!Be||Y[0]&&Y[0]!=="/")){ve({type:"star",value:L,output:""});continue}let gt=I.braces>0&&(J.type==="comma"||J.type==="brace"),Zs=T.length&&(J.type==="pipe"||J.type==="paren");if(!Be&&J.type!=="paren"&&!gt&&!Zs){ve({type:"star",value:L,output:""});continue}for(;Y.slice(0,3)==="/**";){let eo=t[I.index+4];if(eo&&eo!=="/")break;Y=Y.slice(3),re("/**",3)}if(J.type==="bos"&&Z()){C.type="globstar",C.value+=L,C.output=q(r),I.output=C.output,I.globstar=!0,re(L);continue}if(J.type==="slash"&&J.prev.type!=="bos"&&!pt&&Z()){I.output=I.output.slice(0,-(J.output+C.output).length),J.output=`(?:${J.output}`,C.type="globstar",C.output=q(r)+(r.strictSlashes?")":"|$)"),C.value+=L,I.globstar=!0,I.output+=J.output+C.output,re(L);continue}if(J.type==="slash"&&J.prev.type!=="bos"&&Y[0]==="/"){let eo=Y[1]!==void 0?"|$":"";I.output=I.output.slice(0,-(J.output+C.output).length),J.output=`(?:${J.output}`,C.type="globstar",C.output=`${q(r)}${m}|${m}${eo})`,C.value+=L,I.output+=J.output+C.output,I.globstar=!0,re(L+ie()),ve({type:"slash",value:"/",output:""});continue}if(J.type==="bos"&&Y[0]==="/"){C.type="globstar",C.value+=L,C.output=`(?:^|${m}|${q(r)}${m})`,I.output=C.output,I.globstar=!0,re(L+ie()),ve({type:"slash",value:"/",output:""});continue}I.output=I.output.slice(0,-C.output.length),C.type="globstar",C.output=q(r),C.value+=L,I.output+=C.output,I.globstar=!0,re(L);continue}let Le={type:"star",value:L,output:O};if(r.bash===!0){Le.output=".*?",(C.type==="bos"||C.type==="slash")&&(Le.output=N+Le.output),ve(Le);continue}if(C&&(C.type==="bracket"||C.type==="paren")&&r.regex===!0){Le.output=L,ve(Le);continue}(I.index===I.start||C.type==="slash"||C.type==="dot")&&(C.type==="dot"?(I.output+=w,C.output+=w):r.dot===!0?(I.output+=R,C.output+=R):(I.output+=N,C.output+=N),te()!=="*"&&(I.output+=g,C.output+=g)),ve(Le)}for(;I.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(zc("closing","]"));I.output=on.escapeLast(I.output,"["),Ct("brackets")}for(;I.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(zc("closing",")"));I.output=on.escapeLast(I.output,"("),Ct("parens")}for(;I.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(zc("closing","}"));I.output=on.escapeLast(I.output,"{"),Ct("braces")}if(r.strictSlashes!==!0&&(C.type==="star"||C.type==="bracket")&&ve({type:"maybe_slash",value:"",output:`${m}?`}),I.backtrack===!0){I.output="";for(let Y of I.tokens)I.output+=Y.output!=null?Y.output:Y.value,Y.suffix&&(I.output+=Y.suffix)}return I};aw.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Kg,r.maxLength):Kg,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=w1[t]||t;let s=on.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:m,START_ANCHOR:g}=Gg.globChars(s),y=r.dot?p:l,v=r.dot?f:l,w=r.capture?"":"?:",R={negated:!1,prefix:""},U=r.bash===!0?".*?":m;r.capture&&(U=`(${U})`);let x=N=>N.noglobstar===!0?U:`(${w}(?:(?!${g}${N.dot?c:o}).)*?)`,P=N=>{switch(N){case"*":return`${y}${u}${U}`;case".*":return`${o}${u}${U}`;case"*.*":return`${y}${U}${o}${u}${U}`;case"*/*":return`${y}${U}${a}${u}${v}${U}`;case"**":return y+x(r);case"**/*":return`(?:${y}${x(r)}${a})?${v}${u}${U}`;case"**/*.*":return`(?:${y}${x(r)}${a})?${v}${U}${o}${u}${U}`;case"**/.*":return`(?:${y}${x(r)}${a})?${o}${u}${U}`;default:{let $=/^(.*?)\.(\w+)$/.exec(N);if(!$)return;let O=P($[1]);return O?O+o+$[2]:void 0}}},V=on.removePrefix(t,R),q=P(V);return q&&r.strictSlashes!==!0&&(q+=`${a}?`),q};A1.exports=aw});var E1=b((qve,S1)=>{"use strict";var aQ=require("path"),uQ=_1(),uw=I1(),cw=Mf(),cQ=$f(),lQ=t=>t&&typeof t=="object"&&!Array.isArray(t),At=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(f=>At(f,e,r));return f=>{for(let m of l){let g=m(f);if(g)return g}return!1}}let n=lQ(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},s=cw.isWindows(e),o=n?At.compileRe(t,e):At.makeRe(t,e,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};u=At(i.ignore,l,r)}let c=(l,p=!1)=>{let{isMatch:f,match:m,output:g}=At.test(l,o,e,{glob:t,posix:s}),y={glob:t,state:a,regex:o,posix:s,input:l,output:g,match:m,isMatch:f};return typeof i.onResult=="function"&&i.onResult(y),f===!1?(y.isMatch=!1,p?y:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(y),y.isMatch=!1,p?y:!1):(typeof i.onMatch=="function"&&i.onMatch(y),p?y:!0)};return r&&(c.state=a),c};At.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?cw.toPosixSlashes:null),a=t===n,u=a&&o?o(t):t;return a===!1&&(u=o?o(t):t,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=At.matchBase(t,e,r,i):a=e.exec(u)),{isMatch:Boolean(a),match:a,output:u}};At.matchBase=(t,e,r,n=cw.isWindows(r))=>(e instanceof RegExp?e:At.makeRe(e,r)).test(aQ.basename(t));At.isMatch=(t,e,r)=>At(e,r)(t);At.parse=(t,e)=>Array.isArray(t)?t.map(r=>At.parse(r,e)):uw(t,{...e,fastpaths:!1});At.scan=(t,e)=>uQ(t,e);At.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let u=At.toRegex(a,e);return n===!0&&(u.state=t),u};At.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=uw.fastpaths(t,e)),i.output||(i=uw(t,e)),At.compileRe(i,e,r,n)};At.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};At.constants=cQ;S1.exports=At});var C1=b((Wve,x1)=>{"use strict";x1.exports=E1()});var kf=b((Vve,T1)=>{"use strict";var P1=require("util"),D1=u1(),Gi=C1(),lw=Mf(),L1=t=>t===""||t==="./",dt=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=Gi(String(e[l]),{...r,onResult:a},!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let m of t){let g=p(m,!0);(f?!g.isMatch:g.isMatch)&&(f?n.add(g.output):(n.delete(g.output),i.add(g.output)))}}let c=(o===e.length?[...s]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return c};dt.match=dt;dt.matcher=(t,e)=>Gi(t,e);dt.isMatch=(t,e,r)=>Gi(e,r)(t);dt.any=dt.isMatch;dt.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=new Set(dt(t,e,{...r,onResult:s}));for(let a of i)o.has(a)||n.add(a);return[...n]};dt.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${P1.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>dt.contains(t,n,r));if(typeof e=="string"){if(L1(t)||L1(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return dt.isMatch(t,e,{...r,contains:!0})};dt.matchKeys=(t,e,r)=>{if(!lw.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=dt(Object.keys(t),e,r),i={};for(let s of n)i[s]=t[s];return i};dt.some=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let s=Gi(String(i),r);if(n.some(o=>s(o)))return!0}return!1};dt.every=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let s=Gi(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};dt.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${P1.inspect(t)}"`);return[].concat(e).every(n=>Gi(n,r)(t))};dt.capture=(t,e,r)=>{let n=lw.isWindows(r),s=Gi.makeRe(String(t),{...r,capture:!0}).exec(n?lw.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};dt.makeRe=(...t)=>Gi.makeRe(...t);dt.scan=(...t)=>Gi.scan(...t);dt.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let i of D1(String(n),e))r.push(Gi.parse(i,e));return r};dt.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:D1(t,e)};dt.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return dt.braces(t,{...e,expand:!0})};T1.exports=dt});var q1=b((Nbe,j1)=>{"use strict";var{Duplex:gQ}=require("stream");function F1(t){t.emit("close")}function HQ(){!this.destroyed&&this._writableState.finished&&this.destroy()}function U1(t){this.removeListener("error",U1),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function yQ(t,e){let r=!0,n=new gQ({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(s,o){let a=!o&&n._readableState.objectMode?s.toString():s;n.push(a)||t.pause()}),t.once("error",function(s){n.destroyed||(r=!1,n.destroy(s))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,s){if(t.readyState===t.CLOSED){s(i),process.nextTick(F1,n);return}let o=!1;t.once("error",function(u){o=!0,s(u)}),t.once("close",function(){o||s(i),process.nextTick(F1,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,s,o){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,s,o)});return}t.send(i,o)},n.on("end",HQ),n.on("error",U1),n}j1.exports=yQ});var Lo=b((Bbe,W1)=>{"use strict";W1.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Bf=b((Fbe,pw)=>{"use strict";var{EMPTY_BUFFER:vQ}=Lo();function V1(t,e){if(t.length===0)return vQ;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length}return n<e?r.slice(0,n):r}function G1(t,e,r,n,i){for(let s=0;s<i;s++)r[n+s]=t[s]^e[s&3]}function K1(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function X1(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function zg(t){if(zg.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),zg.readOnly=!1),e}try{let t=require("bufferutil");pw.exports={concat:V1,mask(e,r,n,i,s){s<48?G1(e,r,n,i,s):t.mask(e,r,n,i,s)},toArrayBuffer:X1,toBuffer:zg,unmask(e,r){e.length<32?K1(e,r):t.unmask(e,r)}}}catch{pw.exports={concat:V1,mask:G1,toArrayBuffer:X1,toBuffer:zg,unmask:K1}}});var Y1=b((Ube,J1)=>{"use strict";var z1=Symbol("kDone"),fw=Symbol("kRun"),hw=class{constructor(e){this[z1]=()=>{this.pending--,this[fw]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[fw]()}[fw](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[z1])}}};J1.exports=hw});var jf=b((jbe,tR)=>{"use strict";var Ff=require("zlib"),Q1=Bf(),bQ=Y1(),{kStatusCode:Z1}=Lo(),_Q=Buffer.from([0,0,255,255]),Qg=Symbol("permessage-deflate"),xs=Symbol("total-length"),Uf=Symbol("callback"),Po=Symbol("buffers"),Yg=Symbol("error"),Jg,dw=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Jg){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Jg=new bQ(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Uf];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=s}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){Jg.add(i=>{this._decompress(e,r,(s,o)=>{i(),n(s,o)})})}compress(e,r,n){Jg.add(i=>{this._compress(e,r,(s,o)=>{i(),n(s,o)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let s=`${i}_max_window_bits`,o=typeof this.params[s]!="number"?Ff.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Ff.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[Qg]=this,this._inflate[xs]=0,this._inflate[Po]=[],this._inflate.on("error",AQ),this._inflate.on("data",eR)}this._inflate[Uf]=n,this._inflate.write(e),r&&this._inflate.write(_Q),this._inflate.flush(()=>{let s=this._inflate[Yg];if(s){this._inflate.close(),this._inflate=null,n(s);return}let o=Q1.concat(this._inflate[Po],this._inflate[xs]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[xs]=0,this._inflate[Po]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,o)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let s=`${i}_max_window_bits`,o=typeof this.params[s]!="number"?Ff.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Ff.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[xs]=0,this._deflate[Po]=[],this._deflate.on("data",wQ)}this._deflate[Uf]=n,this._deflate.write(e),this._deflate.flush(Ff.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Q1.concat(this._deflate[Po],this._deflate[xs]);r&&(s=s.slice(0,s.length-4)),this._deflate[Uf]=null,this._deflate[xs]=0,this._deflate[Po]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,s)})}};tR.exports=dw;function wQ(t){this[Po].push(t),this[xs]+=t.length}function eR(t){if(this[xs]+=t.length,this[Qg]._maxPayload<1||this[xs]<=this[Qg]._maxPayload){this[Po].push(t);return}this[Yg]=new RangeError("Max payload size exceeded"),this[Yg].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Yg][Z1]=1009,this.removeListener("data",eR),this.reset()}function AQ(t){this[Qg]._inflate=null,t[Z1]=1007,this[Uf](t)}});var qf=b((qbe,mw)=>{"use strict";var rR=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function nR(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function iR(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}try{let t=require("utf-8-validate");mw.exports={isValidStatusCode:nR,isValidUTF8(e){return e.length<150?iR(e):t(e)},tokenChars:rR}}catch{mw.exports={isValidStatusCode:nR,isValidUTF8:iR,tokenChars:rR}}});var vw=b((Wbe,pR)=>{"use strict";var{Writable:IQ}=require("stream"),sR=jf(),{BINARY_TYPES:SQ,EMPTY_BUFFER:oR,kStatusCode:EQ,kWebSocket:xQ}=Lo(),{concat:gw,toArrayBuffer:CQ,unmask:LQ}=Bf(),{isValidStatusCode:PQ,isValidUTF8:aR}=qf(),Wf=0,uR=1,cR=2,lR=3,Hw=4,DQ=5,yw=class extends IQ{constructor(e={}){super(),this._binaryType=e.binaryType||SQ[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[xQ]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Wf,this._loop=!1}_write(e,r,n){if(this._opcode===8&&this._state==Wf)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=n.slice(e),n.slice(0,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case Wf:r=this.getInfo();break;case uR:r=this.getPayloadLength16();break;case cR:r=this.getPayloadLength64();break;case lR:this.getMask();break;case Hw:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,Ft(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[sR.extensionName])return this._loop=!1,Ft(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,Ft(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Ft(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Ft(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Ft(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,Ft(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Ft(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Ft(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Ft(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Ft(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=uR;else if(this._payloadLength===127)this._state=cR;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,Ft(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Ft(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=lR:this._state=Hw}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Hw}getData(e){let r=oR;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&LQ(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=DQ,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[sR.extensionName].decompress(e,this._fin,(i,s)=>{if(i)return r(i);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(Ft(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=gw(r,e):this._binaryType==="arraybuffer"?n=CQ(gw(r,e)):n=r,this.emit("message",n,!0)}else{let n=gw(r,e);if(!this._skipUTF8Validation&&!aR(n))return this._loop=!1,Ft(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=Wf}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,oR),this.end();else{if(e.length===1)return Ft(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let r=e.readUInt16BE(0);if(!PQ(r))return Ft(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=e.slice(2);if(!this._skipUTF8Validation&&!aR(n))return Ft(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=Wf}};pR.exports=yw;function Ft(t,e,r,n,i){let s=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,Ft),s.code=i,s[EQ]=n,s}});var bw=b((Kbe,dR)=>{"use strict";var Vbe=require("net"),Gbe=require("tls"),{randomFillSync:TQ}=require("crypto"),fR=jf(),{EMPTY_BUFFER:$Q}=Lo(),{isValidStatusCode:MQ}=qf(),{mask:hR,toBuffer:el}=Bf(),ii=Symbol("kByteLength"),RQ=Buffer.alloc(4),Ji=class{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,i=!1,s=2,o=!1;r.mask&&(n=r.maskBuffer||RQ,r.generateMask?r.generateMask(n):TQ(n,0,4),o=(n[0]|n[1]|n[2]|n[3])===0,s=6);let a;typeof e=="string"?(!r.mask||o)&&r[ii]!==void 0?a=r[ii]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!o);let u=a;a>=65536?(s+=8,u=127):a>125&&(s+=2,u=126);let c=Buffer.allocUnsafe(i?a+s:s);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=u,u===126?c.writeUInt16BE(a,2):u===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[s-4]=n[0],c[s-3]=n[1],c[s-2]=n[2],c[s-1]=n[3],o?[c,e]:i?(hR(e,n,c,s,a),[c]):(hR(e,n,e,0,a),[c,e])):[c,e]}close(e,r,n,i){let s;if(e===void 0)s=$Q;else{if(typeof e!="number"||!MQ(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(e,0),typeof r=="string"?s.write(r,2):s.set(r,2)}}let o={[ii]:s.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,o,i]):this.sendFrame(Ji.frame(s,o),i)}ping(e,r,n){let i,s;if(typeof e=="string"?(i=Buffer.byteLength(e),s=!1):(e=el(e),i=e.length,s=el.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ii]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,n]):this.sendFrame(Ji.frame(e,o),n)}pong(e,r,n){let i,s;if(typeof e=="string"?(i=Buffer.byteLength(e),s=!1):(e=el(e),i=e.length,s=el.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ii]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,n]):this.sendFrame(Ji.frame(e,o),n)}send(e,r,n){let i=this._extensions[fR.extensionName],s=r.binary?2:1,o=r.compress,a,u;if(typeof e=="string"?(a=Buffer.byteLength(e),u=!1):(e=el(e),a=e.length,u=el.readOnly),this._firstFragment?(this._firstFragment=!1,o&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=i._threshold),this._compress=o):(o=!1,s=0),r.fin&&(this._firstFragment=!0),i){let c={[ii]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:u,rsv1:o};this._deflating?this.enqueue([this.dispatch,e,this._compress,c,n]):this.dispatch(e,this._compress,c,n)}else this.sendFrame(Ji.frame(e,{[ii]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:u,rsv1:!1}),n)}dispatch(e,r,n,i){if(!r){this.sendFrame(Ji.frame(e,n),i);return}let s=this._extensions[fR.extensionName];this._bufferedBytes+=n[ii],this._deflating=!0,s.compress(e,n.fin,(o,a)=>{if(this._socket.destroyed){let u=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(u);for(let c=0;c<this._queue.length;c++){let l=this._queue[c],p=l[l.length-1];typeof p=="function"&&p(u)}return}this._bufferedBytes-=n[ii],this._deflating=!1,n.readOnly=!1,this.sendFrame(Ji.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ii],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ii],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};dR.exports=Ji});var IR=b((Xbe,AR)=>{"use strict";var{kForOnEventAttribute:_w,kListener:mR}=Lo(),gR=Symbol("kCode"),HR=Symbol("kData"),yR=Symbol("kError"),vR=Symbol("kMessage"),bR=Symbol("kReason"),tl=Symbol("kTarget"),_R=Symbol("kType"),wR=Symbol("kWasClean"),Cs=class{constructor(e){this[tl]=null,this[_R]=e}get target(){return this[tl]}get type(){return this[_R]}};Object.defineProperty(Cs.prototype,"target",{enumerable:!0});Object.defineProperty(Cs.prototype,"type",{enumerable:!0});var Qa=class extends Cs{constructor(e,r={}){super(e),this[gR]=r.code===void 0?0:r.code,this[bR]=r.reason===void 0?"":r.reason,this[wR]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[gR]}get reason(){return this[bR]}get wasClean(){return this[wR]}};Object.defineProperty(Qa.prototype,"code",{enumerable:!0});Object.defineProperty(Qa.prototype,"reason",{enumerable:!0});Object.defineProperty(Qa.prototype,"wasClean",{enumerable:!0});var rl=class extends Cs{constructor(e,r={}){super(e),this[yR]=r.error===void 0?null:r.error,this[vR]=r.message===void 0?"":r.message}get error(){return this[yR]}get message(){return this[vR]}};Object.defineProperty(rl.prototype,"error",{enumerable:!0});Object.defineProperty(rl.prototype,"message",{enumerable:!0});var Vf=class extends Cs{constructor(e,r={}){super(e),this[HR]=r.data===void 0?null:r.data}get data(){return this[HR]}};Object.defineProperty(Vf.prototype,"data",{enumerable:!0});var kQ={addEventListener(t,e,r={}){let n;if(t==="message")n=function(s,o){let a=new Vf("message",{data:o?s:s.toString()});a[tl]=this,e.call(this,a)};else if(t==="close")n=function(s,o){let a=new Qa("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[tl]=this,e.call(this,a)};else if(t==="error")n=function(s){let o=new rl("error",{error:s,message:s.message});o[tl]=this,e.call(this,o)};else if(t==="open")n=function(){let s=new Cs("open");s[tl]=this,e.call(this,s)};else return;n[_w]=!!r[_w],n[mR]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[mR]===e&&!r[_w]){this.removeListener(t,r);break}}};AR.exports={CloseEvent:Qa,ErrorEvent:rl,Event:Cs,EventTarget:kQ,MessageEvent:Vf}});var ww=b((zbe,SR)=>{"use strict";var{tokenChars:Gf}=qf();function Yi(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function OQ(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,s=!1,o,a,u=-1,c=-1,l=-1,p=0;for(;p<t.length;p++)if(c=t.charCodeAt(p),o===void 0)if(l===-1&&Gf[c]===1)u===-1&&(u=p);else if(p!==0&&(c===32||c===9))l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(u,l);c===44?(Yi(e,m,r),r=Object.create(null)):o=m,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&Gf[c]===1)u===-1&&(u=p);else if(c===32||c===9)l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Yi(r,t.slice(u,l),!0),c===44&&(Yi(e,o,r),r=Object.create(null),o=void 0),u=l=-1}else if(c===61&&u!==-1&&l===-1)a=t.slice(u,p),u=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(i){if(Gf[c]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1?u=p:n||(n=!0),i=!1}else if(s)if(Gf[c]===1)u===-1&&(u=p);else if(c===34&&u!==-1)s=!1,l=p;else if(c===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(c===34&&t.charCodeAt(p-1)===61)s=!0;else if(l===-1&&Gf[c]===1)u===-1&&(u=p);else if(u!==-1&&(c===32||c===9))l===-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(u,l);n&&(m=m.replace(/\\/g,""),n=!1),Yi(r,a,m),c===44&&(Yi(e,o,r),r=Object.create(null),o=void 0),a=void 0,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(u===-1||s||c===32||c===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let f=t.slice(u,l);return o===void 0?Yi(e,f,r):(a===void 0?Yi(r,f,!0):n?Yi(r,a,f.replace(/\\/g,"")):Yi(r,a,f),Yi(e,o,r)),e}function NQ(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let s=n[i];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?i:`${i}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}SR.exports={format:NQ,parse:OQ}});var Cw=b((Ybe,RR)=>{"use strict";var BQ=require("events"),FQ=require("https"),UQ=require("http"),CR=require("net"),jQ=require("tls"),{randomBytes:qQ,createHash:WQ}=require("crypto"),{Readable:Jbe}=require("stream"),{URL:Aw}=require("url"),Do=jf(),VQ=vw(),GQ=bw(),{BINARY_TYPES:ER,EMPTY_BUFFER:Zg,GUID:KQ,kForOnEventAttribute:Iw,kListener:XQ,kStatusCode:zQ,kWebSocket:br,NOOP:LR}=Lo(),{EventTarget:{addEventListener:JQ,removeEventListener:YQ}}=IR(),{format:QQ,parse:ZQ}=ww(),{toBuffer:eZ}=Bf(),Ls=["CONNECTING","OPEN","CLOSING","CLOSED"],tZ=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Sw=[8,13],rZ=30*1e3,_e=class extends BQ{constructor(e,r,n){super(),this._binaryType=ER[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Zg,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=_e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),PR(this,e,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){ER.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new VQ({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new GQ(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[br]=this,e[br]=this,i.on("conclude",sZ),i.on("drain",oZ),i.on("error",aZ),i.on("message",uZ),i.on("ping",cZ),i.on("pong",lZ),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",TR),e.on("data",eH),e.on("end",$R),e.on("error",MR),this._readyState=_e.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=_e.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Do.extensionName]&&this._extensions[Do.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=_e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==_e.CLOSED){if(this.readyState===_e.CONNECTING){let n="WebSocket was closed before the connection was established";return Ln(this,this._req,n)}if(this.readyState===_e.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=_e.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),rZ)}}pause(){this.readyState===_e.CONNECTING||this.readyState===_e.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){xw(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Zg,r,n)}pong(e,r,n){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){xw(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Zg,r,n)}resume(){this.readyState===_e.CONNECTING||this.readyState===_e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){xw(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Do.extensionName]||(i.compress=!1),this._sender.send(e||Zg,i,n)}terminate(){if(this.readyState!==_e.CLOSED){if(this.readyState===_e.CONNECTING){let e="WebSocket was closed before the connection was established";return Ln(this,this._req,e)}this._socket&&(this._readyState=_e.CLOSING,this._socket.destroy())}}};Object.defineProperty(_e,"CONNECTING",{enumerable:!0,value:Ls.indexOf("CONNECTING")});Object.defineProperty(_e.prototype,"CONNECTING",{enumerable:!0,value:Ls.indexOf("CONNECTING")});Object.defineProperty(_e,"OPEN",{enumerable:!0,value:Ls.indexOf("OPEN")});Object.defineProperty(_e.prototype,"OPEN",{enumerable:!0,value:Ls.indexOf("OPEN")});Object.defineProperty(_e,"CLOSING",{enumerable:!0,value:Ls.indexOf("CLOSING")});Object.defineProperty(_e.prototype,"CLOSING",{enumerable:!0,value:Ls.indexOf("CLOSING")});Object.defineProperty(_e,"CLOSED",{enumerable:!0,value:Ls.indexOf("CLOSED")});Object.defineProperty(_e.prototype,"CLOSED",{enumerable:!0,value:Ls.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(_e.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(_e.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[Iw])return e[XQ];return null},set(e){for(let r of this.listeners(t))if(r[Iw]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[Iw]:!0})}})});_e.prototype.addEventListener=JQ;_e.prototype.removeEventListener=YQ;RR.exports=_e;function PR(t,e,r,n){let i={protocolVersion:Sw[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!Sw.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Sw.join(", ")})`);let s;if(e instanceof Aw)s=e,t._url=e.href;else{try{s=new Aw(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}t._url=e}let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",u;if(s.protocol!=="ws:"&&!o&&!a?u=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:a&&!s.pathname?u="The URL's pathname is empty":s.hash&&(u="The URL contains a fragment identifier"),u){let y=new SyntaxError(u);if(t._redirects===0)throw y;Ew(t,y);return}let c=o?443:80,l=qQ(16).toString("base64"),p=o?FQ.get:UQ.get,f=new Set,m;if(i.createConnection=o?iZ:nZ,i.defaultPort=i.defaultPort||c,i.port=s.port||c,i.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,i.headers={"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket",...i.headers},i.path=s.pathname+s.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(m=new Do(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=QQ({[Do.extensionName]:m.offer()})),r.length){for(let y of r){if(typeof y!="string"||!tZ.test(y)||f.has(y))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(y)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(s.username||s.password)&&(i.auth=`${s.username}:${s.password}`),a){let y=i.path.split(":");i.socketPath=y[0],i.path=y[1]}if(i.followRedirects){if(t._redirects===0){t._originalHost=s.host;let y=n&&n.headers;if(n={...n,headers:{}},y)for(let[v,w]of Object.entries(y))n.headers[v.toLowerCase()]=w}else s.host!==t._originalHost&&(delete i.headers.authorization,delete i.headers.cookie,delete i.headers.host,i.auth=void 0);i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64"))}let g=t._req=p(i);i.timeout&&g.on("timeout",()=>{Ln(t,g,"Opening handshake has timed out")}),g.on("error",y=>{g===null||g.aborted||(g=t._req=null,Ew(t,y))}),g.on("response",y=>{let v=y.headers.location,w=y.statusCode;if(v&&i.followRedirects&&w>=300&&w<400){if(++t._redirects>i.maxRedirects){Ln(t,g,"Maximum redirects exceeded");return}g.abort();let R;try{R=new Aw(v,e)}catch{let x=new SyntaxError(`Invalid URL: ${v}`);Ew(t,x);return}PR(t,R,r,n)}else t.emit("unexpected-response",g,y)||Ln(t,g,`Unexpected server response: ${y.statusCode}`)}),g.on("upgrade",(y,v,w)=>{if(t.emit("upgrade",y),t.readyState!==_e.CONNECTING)return;g=t._req=null;let R=WQ("sha1").update(l+KQ).digest("base64");if(y.headers["sec-websocket-accept"]!==R){Ln(t,v,"Invalid Sec-WebSocket-Accept header");return}let U=y.headers["sec-websocket-protocol"],x;if(U!==void 0?f.size?f.has(U)||(x="Server sent an invalid subprotocol"):x="Server sent a subprotocol but none was requested":f.size&&(x="Server sent no subprotocol"),x){Ln(t,v,x);return}U&&(t._protocol=U);let P=y.headers["sec-websocket-extensions"];if(P!==void 0){if(!m){Ln(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let V;try{V=ZQ(P)}catch{Ln(t,v,"Invalid Sec-WebSocket-Extensions header");return}let q=Object.keys(V);if(q.length!==1||q[0]!==Do.extensionName){Ln(t,v,"Server indicated an extension that was not requested");return}try{m.accept(V[Do.extensionName])}catch{Ln(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Do.extensionName]=m}t.setSocket(v,w,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})})}function Ew(t,e){t._readyState=_e.CLOSING,t.emit("error",e),t.emitClose()}function nZ(t){return t.path=t.socketPath,CR.connect(t)}function iZ(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=CR.isIP(t.host)?"":t.host),jQ.connect(t)}function Ln(t,e,r){t._readyState=_e.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Ln),e.setHeader?(e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),e.once("abort",t.emitClose.bind(t)),t.emit("error",n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function xw(t,e,r){if(e){let n=eZ(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Ls[t.readyState]})`);r(n)}}function sZ(t,e){let r=this[br];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[br]!==void 0&&(r._socket.removeListener("data",eH),process.nextTick(DR,r._socket),t===1005?r.close():r.close(t,e))}function oZ(){let t=this[br];t.isPaused||t._socket.resume()}function aZ(t){let e=this[br];e._socket[br]!==void 0&&(e._socket.removeListener("data",eH),process.nextTick(DR,e._socket),e.close(t[zQ])),e.emit("error",t)}function xR(){this[br].emitClose()}function uZ(t,e){this[br].emit("message",t,e)}function cZ(t){let e=this[br];e.pong(t,!e._isServer,LR),e.emit("ping",t)}function lZ(t){this[br].emit("pong",t)}function DR(t){t.resume()}function TR(){let t=this[br];this.removeListener("close",TR),this.removeListener("data",eH),this.removeListener("end",$R),t._readyState=_e.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[br]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",xR),t._receiver.on("finish",xR))}function eH(t){this[br]._receiver.write(t)||this.pause()}function $R(){let t=this[br];t._readyState=_e.CLOSING,t._receiver.end(),this.end()}function MR(){let t=this[br];this.removeListener("error",MR),this.on("error",LR),t&&(t._readyState=_e.CLOSING,this.destroy())}});var OR=b((Qbe,kR)=>{"use strict";var{tokenChars:pZ}=qf();function fZ(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let o=t.charCodeAt(i);if(n===-1&&pZ[o]===1)r===-1&&(r=i);else if(i!==0&&(o===32||o===9))n===-1&&r!==-1&&(n=i);else if(o===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let s=t.slice(r,i);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}kR.exports={parse:fZ}});var qR=b((r_e,jR)=>{"use strict";var hZ=require("events"),tH=require("http"),Zbe=require("https"),e_e=require("net"),t_e=require("tls"),{createHash:dZ}=require("crypto"),NR=ww(),Za=jf(),mZ=OR(),gZ=Cw(),{GUID:HZ,kWebSocket:yZ}=Lo(),vZ=/^[+/0-9A-Za-z]{22}==$/,BR=0,FR=1,UR=2,Lw=class extends hZ{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:gZ,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=tH.createServer((n,i)=>{let s=tH.STATUS_CODES[426];i.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),i.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=bZ(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,s,o)=>{this.handleUpgrade(i,s,o,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=BR}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===UR){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Kf,this);return}if(e&&this.once("close",e),this._state!==FR)if(this._state=FR,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Kf,this):process.nextTick(Kf,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Kf(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",Pw);let s=e.headers["sec-websocket-key"]!==void 0?e.headers["sec-websocket-key"]:!1,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!s||!vZ.test(s)||o!==8&&o!==13||!this.shouldHandle(e))return nl(r,400);let a=e.headers["sec-websocket-protocol"],u=new Set;if(a!==void 0)try{u=mZ.parse(a)}catch{return nl(r,400)}let c=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&c!==void 0){let p=new Za(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=NR.parse(c);f[Za.extensionName]&&(p.accept(f[Za.extensionName]),l[Za.extensionName]=p)}catch{return nl(r,400)}}if(this.options.verifyClient){let p={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,m,g,y)=>{if(!f)return nl(r,m||401,g,y);this.completeUpgrade(l,s,u,e,r,n,i)});return}if(!this.options.verifyClient(p))return nl(r,401)}this.completeUpgrade(l,s,u,e,r,n,i)}completeUpgrade(e,r,n,i,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[yZ])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>BR)return nl(s,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${dZ("sha1").update(r+HZ).digest("base64")}`],l=new this.options.WebSocket(null);if(n.size){let p=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;p&&(c.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[Za.extensionName]){let p=e[Za.extensionName].params,f=NR.format({[Za.extensionName]:[p]});c.push(`Sec-WebSocket-Extensions: ${f}`),l._extensions=e}this.emit("headers",c,i),s.write(c.concat(`\r
`).join(`\r
`)),s.removeListener("error",Pw),l.setSocket(s,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Kf,this)})),a(l,i)}};jR.exports=Lw;function bZ(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function Kf(t){t._state=UR,t.emit("close")}function Pw(){this.destroy()}function nl(t,e,r,n){t.writable&&(r=r||tH.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.write(`HTTP/1.1 ${e} ${tH.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)),t.removeListener("error",Pw),t.destroy()}});var rk=b((O_e,tk)=>{"use strict";tk.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var ik=b((N_e,nk)=>{nk.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var ak=b((B_e,ok)=>{"use strict";var LZ=ik(),PZ=Array.prototype.concat,DZ=Array.prototype.slice,sk=ok.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];LZ(s)?r=PZ.call(r,DZ.call(s)):r.push(s)}return r};sk.wrap=function(t){return function(){return t(sk(arguments))}}});var pk=b((F_e,lk)=>{var Jf=rk(),Yf=ak(),uk=Object.hasOwnProperty,ck={};for(aH in Jf)uk.call(Jf,aH)&&(ck[Jf[aH]]=aH);var aH,an=lk.exports={to:{},get:{}};an.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=an.get.hsl(t),n="hsl";break;case"hwb":r=an.get.hwb(t),n="hwb";break;default:r=an.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};an.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){var l=u*2;o[u]=parseInt(a.slice(l,l+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(a=t.match(n)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:uk.call(Jf,a[1])?(o=Jf[a[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=To(o[u],0,255);return o[3]=To(o[3],0,1),o};an.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=To(parseFloat(r[2]),0,100),o=To(parseFloat(r[3]),0,100),a=To(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};an.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=To(parseFloat(r[2]),0,100),o=To(parseFloat(r[3]),0,100),a=To(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};an.to.hex=function(){var t=Yf(arguments);return"#"+uH(t[0])+uH(t[1])+uH(t[2])+(t[3]<1?uH(Math.round(t[3]*255)):"")};an.to.rgb=function(){var t=Yf(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};an.to.rgb.percent=function(){var t=Yf(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};an.to.hsl=function(){var t=Yf(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};an.to.hwb=function(){var t=Yf(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};an.to.keyword=function(t){return ck[t.slice(0,3)]};function To(t,e,r){return Math.min(Math.max(e,t),r)}function uH(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var hk=b((U_e,fk)=>{"use strict";fk.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var kw=b((j_e,mk)=>{var Qf=hk(),dk={};for(let t of Object.keys(Qf))dk[Qf[t]]=t;var fe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};mk.exports=fe;for(let t of Object.keys(fe)){if(!("channels"in fe[t]))throw new Error("missing channels property: "+t);if(!("labels"in fe[t]))throw new Error("missing channel labels property: "+t);if(fe[t].labels.length!==fe[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=fe[t];delete fe[t].channels,delete fe[t].labels,Object.defineProperty(fe[t],"channels",{value:e}),Object.defineProperty(fe[t],"labels",{value:r})}fe.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};fe.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),l=c-Math.min(o,a,u),p=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,s=0):(s=l/c,e=p(o),r=p(a),n=p(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};fe.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=fe.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};fe.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function TZ(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}fe.rgb.keyword=function(t){let e=dk[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(Qf)){let s=Qf[i],o=TZ(t,s);o<r&&(r=o,n=i)}return n};fe.keyword.rgb=function(t){return Qf[t]};fe.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};fe.rgb.lab=function(t){let e=fe.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};fe.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};fe.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};fe.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};fe.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};fe.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),a=1-n;s=6*e-o,o&1&&(s=1-s);let u=r+s*(a-r),c,l,p;switch(o){default:case 6:case 0:c=a,l=u,p=r;break;case 1:c=u,l=a,p=r;break;case 2:c=r,l=a,p=u;break;case 3:c=r,l=u,p=a;break;case 4:c=u,l=r,p=a;break;case 5:c=a,l=r,p=u;break}return[c*255,l*255,p*255]};fe.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};fe.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};fe.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};fe.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};fe.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};fe.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};fe.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?fe.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};fe.hsv.ansi16=function(t){return fe.rgb.ansi16(fe.hsv.rgb(t),t[2])};fe.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};fe.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};fe.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};fe.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};fe.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};fe.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};fe.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};fe.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};fe.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};fe.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};fe.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};fe.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};fe.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};fe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};fe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};fe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};fe.gray.hsl=function(t){return[0,0,t[0]]};fe.gray.hsv=fe.gray.hsl;fe.gray.hwb=function(t){return[0,100,t[0]]};fe.gray.cmyk=function(t){return[0,0,0,t[0]]};fe.gray.lab=function(t){return[t[0],0,0]};fe.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};fe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Hk=b((q_e,gk)=>{var cH=kw();function $Z(){let t={},e=Object.keys(cH);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function MZ(t){let e=$Z(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(cH[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function RZ(t,e){return function(r){return e(t(r))}}function kZ(t,e){let r=[e[t].parent,t],n=cH[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=RZ(cH[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}gk.exports=function(t){let e=MZ(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=kZ(o,e))}return r}});var vk=b((W_e,yk)=>{var Ow=kw(),OZ=Hk(),cl={},NZ=Object.keys(Ow);function BZ(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function FZ(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}NZ.forEach(t=>{cl[t]={},Object.defineProperty(cl[t],"channels",{value:Ow[t].channels}),Object.defineProperty(cl[t],"labels",{value:Ow[t].labels});let e=OZ(t);Object.keys(e).forEach(n=>{let i=e[n];cl[t][n]=FZ(i),cl[t][n].raw=BZ(i)})});yk.exports=cl});var wk=b((V_e,_k)=>{var ll=pk(),un=vk(),Fw=[].slice,bk=["keyword","gray","hex"],Nw={};for(let t of Object.keys(un))Nw[Fw.call(un[t].labels).sort().join("")]=t;var lH={};function Qt(t,e){if(!(this instanceof Qt))return new Qt(t,e);if(e&&e in bk&&(e=null),e&&!(e in un))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Qt)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){let i=ll.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=un[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=un[this.model].channels;let i=Fw.call(t,0,n);this.color=Bw(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let s=i.sort().join("");if(!(s in Nw))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Nw[s];let o=un[this.model].labels,a=[];for(r=0;r<o.length;r++)a.push(t[o[r]]);this.color=Bw(a)}if(lH[this.model])for(n=un[this.model].channels,r=0;r<n;r++){let i=lH[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Qt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in ll.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:e.color.concat(this.valpha);return ll.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return ll.to.rgb.percent(r)},array(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object(){let t={},e=un[this.model].channels,r=un[this.model].labels;for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Qt(this.color.map(jZ(t)).concat(this.valpha),this.model)},alpha(t){return arguments.length>0?new Qt(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:vt("rgb",0,Ut(255)),green:vt("rgb",1,Ut(255)),blue:vt("rgb",2,Ut(255)),hue:vt(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:vt("hsl",1,Ut(100)),lightness:vt("hsl",2,Ut(100)),saturationv:vt("hsv",1,Ut(100)),value:vt("hsv",2,Ut(100)),chroma:vt("hcg",1,Ut(100)),gray:vt("hcg",2,Ut(100)),white:vt("hwb",1,Ut(100)),wblack:vt("hwb",2,Ut(100)),cyan:vt("cmyk",0,Ut(100)),magenta:vt("cmyk",1,Ut(100)),yellow:vt("cmyk",2,Ut(100)),black:vt("cmyk",3,Ut(100)),x:vt("xyz",0,Ut(100)),y:vt("xyz",1,Ut(100)),z:vt("xyz",2,Ut(100)),l:vt("lab",0,Ut(100)),a:vt("lab",1),b:vt("lab",2),keyword(t){return arguments.length>0?new Qt(t):un[this.model].keyword(this.color)},hex(t){return arguments.length>0?new Qt(t):ll.to.hex(this.rgb().round().color)},hexa(t){if(arguments.length>0)return new Qt(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),ll.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.03928?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*299+t[1]*587+t[2]*114)/1e3<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Qt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-a;return Qt.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(un)){if(bk.includes(t))continue;let e=un[t].channels;Qt.prototype[t]=function(){if(this.model===t)return new Qt(this);if(arguments.length>0)return new Qt(arguments,t);let r=typeof arguments[e]=="number"?e:this.valpha;return new Qt(qZ(un[this.model][t].raw(this.color)).concat(r),t)},Qt[t]=function(r){return typeof r=="number"&&(r=Bw(Fw.call(arguments),e)),new Qt(r,t)}}function UZ(t,e){return Number(t.toFixed(e))}function jZ(t){return function(e){return UZ(e,t)}}function vt(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(lH[n]||(lH[n]=[]))[e]=r;return t=t[0],function(n){let i;return arguments.length>0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Ut(t){return function(e){return Math.max(0,Math.min(t,e))}}function qZ(t){return Array.isArray(t)?t:[t]}function Bw(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}_k.exports=Qt});var vO=b((iSe,yO)=>{"use strict";function vee(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,s=r[0]||"text/plain",o=s;for(let l=1;l<r.length;l++)r[l]==="base64"?i=!0:(o+=`;${r[l]}`,r[l].indexOf("charset=")===0&&(n=r[l].substring(8)));!r[0]&&!n.length&&(o+=";charset=US-ASCII",n="US-ASCII");let a=i?"base64":"ascii",u=unescape(t.substring(e+1)),c=Buffer.from(u,a);return c.type=s,c.typeFull=o,c.charset=n,c}yO.exports=vee});var Ts=b((Ds,BH)=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var bO=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function bee(t){return bO.includes(t)}var _ee=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...bO];function wee(t){return _ee.includes(t)}var Aee=["null","undefined","string","number","bigint","boolean","symbol"];function Iee(t){return Aee.includes(t)}function bl(t){return e=>typeof e===t}var{toString:_O}=Object.prototype,ah=t=>{let e=_O.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&S.domElement(t))return"HTMLElement";if(wee(e))return e},rt=t=>e=>ah(e)===t;function S(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(S.observable(t))return"Observable";if(S.array(t))return"Array";if(S.buffer(t))return"Buffer";let e=ah(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}S.undefined=bl("undefined");S.string=bl("string");var See=bl("number");S.number=t=>See(t)&&!S.nan(t);S.bigint=bl("bigint");S.function_=bl("function");S.null_=t=>t===null;S.class_=t=>S.function_(t)&&t.toString().startsWith("class ");S.boolean=t=>t===!0||t===!1;S.symbol=bl("symbol");S.numericString=t=>S.string(t)&&!S.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));S.array=(t,e)=>Array.isArray(t)?S.function_(e)?t.every(e):!0:!1;S.buffer=t=>{var e,r,n,i;return(i=(n=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,t))!==null&&i!==void 0?i:!1};S.blob=t=>rt("Blob")(t);S.nullOrUndefined=t=>S.null_(t)||S.undefined(t);S.object=t=>!S.null_(t)&&(typeof t=="object"||S.function_(t));S.iterable=t=>{var e;return S.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};S.asyncIterable=t=>{var e;return S.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};S.generator=t=>{var e,r;return S.iterable(t)&&S.function_((e=t)===null||e===void 0?void 0:e.next)&&S.function_((r=t)===null||r===void 0?void 0:r.throw)};S.asyncGenerator=t=>S.asyncIterable(t)&&S.function_(t.next)&&S.function_(t.throw);S.nativePromise=t=>rt("Promise")(t);var Eee=t=>{var e,r;return S.function_((e=t)===null||e===void 0?void 0:e.then)&&S.function_((r=t)===null||r===void 0?void 0:r.catch)};S.promise=t=>S.nativePromise(t)||Eee(t);S.generatorFunction=rt("GeneratorFunction");S.asyncGeneratorFunction=t=>ah(t)==="AsyncGeneratorFunction";S.asyncFunction=t=>ah(t)==="AsyncFunction";S.boundFunction=t=>S.function_(t)&&!t.hasOwnProperty("prototype");S.regExp=rt("RegExp");S.date=rt("Date");S.error=rt("Error");S.map=t=>rt("Map")(t);S.set=t=>rt("Set")(t);S.weakMap=t=>rt("WeakMap")(t);S.weakSet=t=>rt("WeakSet")(t);S.int8Array=rt("Int8Array");S.uint8Array=rt("Uint8Array");S.uint8ClampedArray=rt("Uint8ClampedArray");S.int16Array=rt("Int16Array");S.uint16Array=rt("Uint16Array");S.int32Array=rt("Int32Array");S.uint32Array=rt("Uint32Array");S.float32Array=rt("Float32Array");S.float64Array=rt("Float64Array");S.bigInt64Array=rt("BigInt64Array");S.bigUint64Array=rt("BigUint64Array");S.arrayBuffer=rt("ArrayBuffer");S.sharedArrayBuffer=rt("SharedArrayBuffer");S.dataView=rt("DataView");S.enumCase=(t,e)=>Object.values(e).includes(t);S.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;S.urlInstance=t=>rt("URL")(t);S.urlString=t=>{if(!S.string(t))return!1;try{return new URL(t),!0}catch{return!1}};S.truthy=t=>Boolean(t);S.falsy=t=>!t;S.nan=t=>Number.isNaN(t);S.primitive=t=>S.null_(t)||Iee(typeof t);S.integer=t=>Number.isInteger(t);S.safeInteger=t=>Number.isSafeInteger(t);S.plainObject=t=>{if(_O.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};S.typedArray=t=>bee(ah(t));var xee=t=>S.safeInteger(t)&&t>=0;S.arrayLike=t=>!S.nullOrUndefined(t)&&!S.function_(t)&&xee(t.length);S.inRange=(t,e)=>{if(S.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(S.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var Cee=1,Lee=["innerHTML","ownerDocument","style","attributes","nodeValue"];S.domElement=t=>S.object(t)&&t.nodeType===Cee&&S.string(t.nodeName)&&!S.plainObject(t)&&Lee.every(e=>e in t);S.observable=t=>{var e,r,n,i;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((i=(n=t)["@@observable"])===null||i===void 0?void 0:i.call(n)):!1};S.nodeStream=t=>S.object(t)&&S.function_(t.pipe)&&!S.observable(t);S.infinite=t=>t===1/0||t===-1/0;var wO=t=>e=>S.integer(e)&&Math.abs(e%2)===t;S.evenInteger=wO(0);S.oddInteger=wO(1);S.emptyArray=t=>S.array(t)&&t.length===0;S.nonEmptyArray=t=>S.array(t)&&t.length>0;S.emptyString=t=>S.string(t)&&t.length===0;var Pee=t=>S.string(t)&&!/\S/.test(t);S.emptyStringOrWhitespace=t=>S.emptyString(t)||Pee(t);S.nonEmptyString=t=>S.string(t)&&t.length>0;S.nonEmptyStringAndNotWhitespace=t=>S.string(t)&&!S.emptyStringOrWhitespace(t);S.emptyObject=t=>S.object(t)&&!S.map(t)&&!S.set(t)&&Object.keys(t).length===0;S.nonEmptyObject=t=>S.object(t)&&!S.map(t)&&!S.set(t)&&Object.keys(t).length>0;S.emptySet=t=>S.set(t)&&t.size===0;S.nonEmptySet=t=>S.set(t)&&t.size>0;S.emptyMap=t=>S.map(t)&&t.size===0;S.nonEmptyMap=t=>S.map(t)&&t.size>0;S.propertyKey=t=>S.any([S.string,S.number,S.symbol],t);S.formData=t=>rt("FormData")(t);S.urlSearchParams=t=>rt("URLSearchParams")(t);var AO=(t,e,r)=>{if(!S.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};S.any=(t,...e)=>(S.array(t)?t:[t]).some(n=>AO(Array.prototype.some,n,e));S.all=(t,...e)=>AO(Array.prototype.every,t,e);var Q=(t,e,r,n={})=>{if(!t){let{multipleValues:i}=n,s=i?`received values of types ${[...new Set(r.map(o=>`\`${S(o)}\``))].join(", ")}`:`received value of type \`${S(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${s}.`)}};Ds.assert={undefined:t=>Q(S.undefined(t),"undefined",t),string:t=>Q(S.string(t),"string",t),number:t=>Q(S.number(t),"number",t),bigint:t=>Q(S.bigint(t),"bigint",t),function_:t=>Q(S.function_(t),"Function",t),null_:t=>Q(S.null_(t),"null",t),class_:t=>Q(S.class_(t),"Class",t),boolean:t=>Q(S.boolean(t),"boolean",t),symbol:t=>Q(S.symbol(t),"symbol",t),numericString:t=>Q(S.numericString(t),"string with a number",t),array:(t,e)=>{Q(S.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>Q(S.buffer(t),"Buffer",t),blob:t=>Q(S.blob(t),"Blob",t),nullOrUndefined:t=>Q(S.nullOrUndefined(t),"null or undefined",t),object:t=>Q(S.object(t),"Object",t),iterable:t=>Q(S.iterable(t),"Iterable",t),asyncIterable:t=>Q(S.asyncIterable(t),"AsyncIterable",t),generator:t=>Q(S.generator(t),"Generator",t),asyncGenerator:t=>Q(S.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>Q(S.nativePromise(t),"native Promise",t),promise:t=>Q(S.promise(t),"Promise",t),generatorFunction:t=>Q(S.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>Q(S.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>Q(S.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>Q(S.boundFunction(t),"Function",t),regExp:t=>Q(S.regExp(t),"RegExp",t),date:t=>Q(S.date(t),"Date",t),error:t=>Q(S.error(t),"Error",t),map:t=>Q(S.map(t),"Map",t),set:t=>Q(S.set(t),"Set",t),weakMap:t=>Q(S.weakMap(t),"WeakMap",t),weakSet:t=>Q(S.weakSet(t),"WeakSet",t),int8Array:t=>Q(S.int8Array(t),"Int8Array",t),uint8Array:t=>Q(S.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>Q(S.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>Q(S.int16Array(t),"Int16Array",t),uint16Array:t=>Q(S.uint16Array(t),"Uint16Array",t),int32Array:t=>Q(S.int32Array(t),"Int32Array",t),uint32Array:t=>Q(S.uint32Array(t),"Uint32Array",t),float32Array:t=>Q(S.float32Array(t),"Float32Array",t),float64Array:t=>Q(S.float64Array(t),"Float64Array",t),bigInt64Array:t=>Q(S.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>Q(S.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>Q(S.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>Q(S.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>Q(S.dataView(t),"DataView",t),enumCase:(t,e)=>Q(S.enumCase(t,e),"EnumCase",t),urlInstance:t=>Q(S.urlInstance(t),"URL",t),urlString:t=>Q(S.urlString(t),"string with a URL",t),truthy:t=>Q(S.truthy(t),"truthy",t),falsy:t=>Q(S.falsy(t),"falsy",t),nan:t=>Q(S.nan(t),"NaN",t),primitive:t=>Q(S.primitive(t),"primitive",t),integer:t=>Q(S.integer(t),"integer",t),safeInteger:t=>Q(S.safeInteger(t),"integer",t),plainObject:t=>Q(S.plainObject(t),"plain object",t),typedArray:t=>Q(S.typedArray(t),"TypedArray",t),arrayLike:t=>Q(S.arrayLike(t),"array-like",t),domElement:t=>Q(S.domElement(t),"HTMLElement",t),observable:t=>Q(S.observable(t),"Observable",t),nodeStream:t=>Q(S.nodeStream(t),"Node.js Stream",t),infinite:t=>Q(S.infinite(t),"infinite number",t),emptyArray:t=>Q(S.emptyArray(t),"empty array",t),nonEmptyArray:t=>Q(S.nonEmptyArray(t),"non-empty array",t),emptyString:t=>Q(S.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>Q(S.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>Q(S.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>Q(S.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>Q(S.emptyObject(t),"empty object",t),nonEmptyObject:t=>Q(S.nonEmptyObject(t),"non-empty object",t),emptySet:t=>Q(S.emptySet(t),"empty set",t),nonEmptySet:t=>Q(S.nonEmptySet(t),"non-empty set",t),emptyMap:t=>Q(S.emptyMap(t),"empty map",t),nonEmptyMap:t=>Q(S.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>Q(S.propertyKey(t),"PropertyKey",t),formData:t=>Q(S.formData(t),"FormData",t),urlSearchParams:t=>Q(S.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>Q(S.evenInteger(t),"even integer",t),oddInteger:t=>Q(S.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>Q(S.directInstanceOf(t,e),"T",t),inRange:(t,e)=>Q(S.inRange(t,e),"in range",t),any:(t,...e)=>Q(S.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>Q(S.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(S,{class:{value:S.class_},function:{value:S.function_},null:{value:S.null_}});Object.defineProperties(Ds.assert,{class:{value:Ds.assert.class_},function:{value:Ds.assert.function_},null:{value:Ds.assert.null_}});Ds.default=S;BH.exports=S;BH.exports.default=S;BH.exports.assert=Ds.assert});var IO=b((sSe,vA)=>{"use strict";var FH=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},_l=class{static fn(e){return(...r)=>new _l((n,i,s)=>{r.push(s),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},s=a=>{this._isPending=!1,n(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,s,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new FH(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(_l.prototype,Promise.prototype);vA.exports=_l;vA.exports.CancelError=FH});var SO=b((_A,wA)=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});function Dee(t){return t.encrypted}var bA=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let n=typeof r.connect=="function",i=typeof r.secureConnect=="function",s=typeof r.close=="function",o=()=>{n&&r.connect(),Dee(t)&&i&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),s&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&s&&r.close(t._hadError)};_A.default=bA;wA.exports=bA;wA.exports.default=bA});var EO=b((IA,SA)=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0});var Tee=SO(),$ee=require("util"),Mee=Number(process.versions.node.split(".")[0]),AA=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=a=>{let u=a.emit.bind(a);a.emit=(c,...l)=>(c==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=u),u(c,...l))};r(t);let n=()=>{e.abort=Date.now(),(!e.response||Mee>=13)&&(e.phases.total=Date.now()-e.start)};t.prependOnceListener("abort",n);let i=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,$ee.types.isProxy(a))return;let u=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",u),Tee.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",u),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?i(t.socket):t.prependOnceListener("socket",i);let s=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(()=>typeof t.writableFinished=="boolean"?t.writableFinished:t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0))()?s():t.prependOnceListener("finish",s),t.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,r(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",n)}),e};IA.default=AA;SA.exports=AA;SA.exports.default=AA});var $O=b((oSe,CA)=>{"use strict";var{V4MAPPED:Ree,ADDRCONFIG:kee,ALL:TO,promises:{Resolver:xO},lookup:Oee}=require("dns"),{promisify:EA}=require("util"),Nee=require("os"),wl=Symbol("cacheableLookupCreateConnection"),xA=Symbol("cacheableLookupInstance"),CO=Symbol("expires"),Bee=typeof TO=="number",LO=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Fee=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},PO=()=>{let t=!1,e=!1;for(let r of Object.values(Nee.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},Uee=t=>Symbol.iterator in t,DO={ttl:!0},jee={all:!0},UH=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:s=new xO,lookup:o=Oee}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=e,this._resolver=s,this._dnsLookup=EA(o),this._resolver instanceof xO?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=EA(this._resolver.resolve4.bind(this._resolver)),this._resolve6=EA(this._resolver.resolve6.bind(this._resolver))),this._iface=PO(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl)},n)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(e);if(r.family===6){let i=n.filter(s=>s.family===6);r.hints&Ree&&(Bee&&r.hints&TO||i.length===0)?Fee(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&kee){let{_iface:i}=this;n=n.filter(s=>s.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return r.all?n:n[0]}async query(e){let r=await this._cache.get(e);if(!r){let n=this._pending[e];if(n)r=await n;else{let i=this.queryAndCache(e);this._pending[e]=i;try{r=await i}finally{delete this._pending[e]}}}return r=r.map(n=>({...n})),r}async _resolve(e){let r=async c=>{try{return await c}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[n,i]=await Promise.all([this._resolve4(e,DO),this._resolve6(e,DO)].map(c=>r(c))),s=0,o=0,a=0,u=Date.now();for(let c of n)c.family=4,c.expires=u+c.ttl*1e3,s=Math.max(s,c.ttl);for(let c of i)c.family=6,c.expires=u+c.ttl*1e3,o=Math.max(o,c.ttl);return n.length>0?i.length>0?a=Math.min(s,o):a=s:a=o,{entries:[...n,...i],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[CO]=Date.now()+n;try{await this._cache.set(e,r,n)}catch(i){this.lookupAsync=async()=>{let s=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw s.cause=i,s}}Uee(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,jee);let r=await this._resolve(e);r.entries.length===0&&this._fallback&&(r=await this._lookup(e),r.entries.length!==0&&this._hostnamesToFallback.add(e));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,n),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[s,o]of this._cache){let a=o[CO];i>=a?this._cache.delete(s):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(LO(e),wl in e)throw new Error("CacheableLookup has been already installed");e[wl]=e.createConnection,e[xA]=this,e.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),e[wl](r,n))}uninstall(e){if(LO(e),e[wl]){if(e[xA]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[wl],delete e[wl],delete e[xA]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=PO(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};CA.exports=UH;CA.exports.default=UH});var kO=b((aSe,RO)=>{"use strict";var qee="text/plain",Wee="us-ascii",MO=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),Vee=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:s}=r.groups,o=n.split(";");s=e?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let u=(o.shift()||"").toLowerCase(),l=[...o.map(p=>{let[f,m=""]=p.split("=").map(g=>g.trim());return f==="charset"&&(m=m.toLowerCase(),m===Wee)?"":`${f}${m?`=${m}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||u&&u!==qee)&&l.unshift(u),`data:${l.join(";")},${a?i.trim():i}${s?`#${s}`:""}`},Gee=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return Vee(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=i.pathname.split("/"),a=o[o.length-1];MO(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...i.searchParams.keys()])MO(o,e.removeQueryParameters)&&i.searchParams.delete(o);e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters&&i.searchParams.sort(),e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};RO.exports=Gee});var LA=b((uSe,NO)=>{NO.exports=OO;function OO(t,e){if(t&&e)return OO(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Al=b((cSe,PA)=>{var BO=LA();PA.exports=BO(jH);PA.exports.strict=BO(FO);jH.proto=jH(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return jH(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return FO(this)},configurable:!0})});function jH(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function FO(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var qH=b((lSe,jO)=>{var Kee=Al(),Xee=function(){},zee=function(t){return t.setHeader&&typeof t.abort=="function"},Jee=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},UO=function(t,e,r){if(typeof e=="function")return UO(t,null,e);e||(e={}),r=Kee(r||Xee);var n=t._writableState,i=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||c()},c=function(){o=!1,s||r.call(t)},l=function(){s=!1,o||r.call(t)},p=function(v){r.call(t,v?new Error("exited with error code: "+v):null)},f=function(v){r.call(t,v)},m=function(){process.nextTick(g)},g=function(){if(!a){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},y=function(){t.req.on("finish",c)};return zee(t)?(t.on("complete",c),t.on("abort",m),t.req?y():t.on("request",y)):o&&!n&&(t.on("end",u),t.on("close",u)),Jee(t)&&t.on("exit",p),t.on("end",l),t.on("finish",c),e.error!==!1&&t.on("error",f),t.on("close",m),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",m),t.removeListener("request",y),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("exit",p),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",m)}};jO.exports=UO});var VO=b((pSe,WO)=>{var Yee=Al(),Qee=qH(),DA=require("fs"),uh=function(){},Zee=/^v?\.0/.test(process.version),WH=function(t){return typeof t=="function"},ete=function(t){return!Zee||!DA?!1:(t instanceof(DA.ReadStream||uh)||t instanceof(DA.WriteStream||uh))&&WH(t.close)},tte=function(t){return t.setHeader&&WH(t.abort)},rte=function(t,e,r,n){n=Yee(n);var i=!1;t.on("close",function(){i=!0}),Qee(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,ete(t))return t.close(uh);if(tte(t))return t.abort();if(WH(t.destroy))return t.destroy();n(o||new Error("stream was destroyed"))}}},qO=function(t){t()},nte=function(t,e){return t.pipe(e)},ite=function(){var t=Array.prototype.slice.call(arguments),e=WH(t[t.length-1]||uh)&&t.pop()||uh;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,s){var o=s<t.length-1,a=s>0;return rte(i,o,a,function(u){r||(r=u),u&&n.forEach(qO),!o&&(n.forEach(qO),e(r))})});return t.reduce(nte)};WO.exports=ite});var KO=b((fSe,GO)=>{"use strict";var{PassThrough:ste}=require("stream");GO.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let s=new ste({objectMode:i});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),i?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var XO=b((hSe,Il)=>{"use strict";var{constants:ote}=require("buffer"),ate=VO(),ute=KO(),VH=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function GH(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n;return await new Promise((i,s)=>{let o=a=>{a&&n.getBufferedLength()<=ote.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};n=ate(t,ute(e),a=>{if(a){o(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new VH)})}),n.getBufferedValue()}Il.exports=GH;Il.exports.default=GH;Il.exports.buffer=(t,e)=>GH(t,{...e,encoding:"buffer"});Il.exports.array=(t,e)=>GH(t,{...e,array:!0});Il.exports.MaxBufferError=VH});var JO=b((mSe,zO)=>{"use strict";var cte=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),lte=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),pte=new Set([500,502,503,504]),fte={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},hte={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function pu(t){let e=parseInt(t,10);return isFinite(e)?e:0}function dte(t){return t?pte.has(t.status):!0}function TA(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);e[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return e}function mte(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}zO.exports=class{constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=TA(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=TA(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":mte(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&lte.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||cte.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=TA(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)fte[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return pu(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return pu(this._rescc["s-maxage"])}if(this._rescc["max-age"])return pu(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+pu(this._rescc["stale-if-error"]),n=e+pu(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+pu(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+pu(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&dte(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let o in this._resHeaders)i[o]=o in r.headers&&!hte[o]?r.headers[o]:this._resHeaders[o];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var KH=b((gSe,YO)=>{"use strict";YO.exports=t=>{let e={};for(let[r,n]of Object.entries(t))e[r.toLowerCase()]=n;return e}});var ZO=b((HSe,QO)=>{"use strict";var gte=require("stream").Readable,Hte=KH(),$A=class extends gte{constructor(e,r,n,i){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Hte(r),this.body=n,this.url=i}_read(){this.push(this.body),this.push(null)}};QO.exports=$A});var tN=b((ySe,eN)=>{"use strict";var yte=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];eN.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(yte));for(let n of r)n in e||(e[n]=typeof t[n]=="function"?t[n].bind(t):t[n])}});var nN=b((vSe,rN)=>{"use strict";var vte=require("stream").PassThrough,bte=tN(),_te=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new vte;return bte(t,e),t.pipe(e)};rN.exports=_te});var iN=b(MA=>{MA.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",n=Array.isArray(e);r=n?"[":"{";var i=!0;for(var s in e){var o=typeof e[s]=="function"||!n&&typeof e[s]>"u";Object.hasOwnProperty.call(e,s)&&!o&&(i||(r+=","),i=!1,n?e[s]==null?r+="null":r+=t(e[s]):e[s]!==void 0&&(r+=t(s)+":"+t(e[s])))}return r+=n?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};MA.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var uN=b((_Se,aN)=>{"use strict";var wte=require("events"),sN=iN(),Ate=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},oN=["sqlite","postgres","mysql","mongo","redis","tiered"],RA=class extends wte{constructor(e,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:sN.stringify,deserialize:sN.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let s={...this.opts};this.opts.store=Ate(s)}if(this.opts.compression){let s=this.opts.compression;this.opts.serialize=s.serialize.bind(s),this.opts.deserialize=s.deserialize.bind(s)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",s=>this.emit("error",s)),this.opts.store.namespace=this.opts.namespace;let i=s=>async function*(){for await(let[o,a]of typeof s=="function"?s(this.opts.store.namespace):s){let u=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof u.expires=="number"&&Date.now()>u.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),u.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return oN.includes(this.opts.store.opts.dialect)||oN.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:n}=this.opts,i=Array.isArray(e),s=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let o=[];for(let a of s)o.push(Promise.resolve().then(()=>n.get(a)).then(u=>typeof u=="string"?this.opts.deserialize(u):this.opts.compression?this.opts.deserialize(u):u).then(u=>{if(u!=null)return typeof u.expires=="number"&&Date.now()>u.expires?this.delete(a).then(()=>{}):r&&r.raw?u:u.value}));return Promise.allSettled(o).then(a=>{let u=[];for(let c of a)u.push(c.value);return u})}return Promise.resolve().then(()=>i?n.getMany(s):n.get(s)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(i){let a=[];for(let u of o){if(typeof u=="string"&&(u=this.opts.deserialize(u)),u==null){a.push(void 0);continue}typeof u.expires=="number"&&Date.now()>u.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?u:u.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:s}=this.opts;return Promise.resolve().then(()=>{let o=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>s.set(i,o,n)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let s=[];for(let o of i)s.push(r.delete(o));return Promise.allSettled(s).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};aN.exports=RA});var pN=b((wSe,lN)=>{"use strict";var Ite=require("events"),XH=require("url"),Ste=kO(),Ete=XO(),kA=JO(),cN=ZO(),xte=KH(),Cte=nN(),Lte=uN(),si=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Lte({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,n)=>{let i;if(typeof r=="string")i=OA(XH.parse(r)),r={};else if(r instanceof XH.URL)i=OA(XH.parse(r.toString())),r={};else{let[p,...f]=(r.path||"").split("?"),m=f.length>0?`?${f.join("?")}`:"";i=OA({...r,pathname:p,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Pte(i)},r.headers=xte(r.headers);let s=new Ite,o=Ste(XH.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,u=!1,c=!1,l=p=>{c=!0;let f=!1,m,g=new Promise(v=>{m=()=>{f||(f=!0,v())}}),y=v=>{if(u&&!p.forceRefresh){v.status=v.statusCode;let R=kA.fromObject(u.cachePolicy).revalidatedPolicy(p,v);if(!R.modified){let U=R.policy.responseHeaders();v=new cN(u.statusCode,U,u.body,u.url),v.cachePolicy=R.policy,v.fromCache=!0}}v.fromCache||(v.cachePolicy=new kA(p,v,p),v.fromCache=!1);let w;p.cache&&v.cachePolicy.storable()?(w=Cte(v),(async()=>{try{let R=Ete.buffer(v);if(await Promise.race([g,new Promise(V=>v.once("end",V))]),f)return;let U=await R,x={cachePolicy:v.cachePolicy.toObject(),url:v.url,statusCode:v.fromCache?u.statusCode:v.statusCode,body:U},P=p.strictTtl?v.cachePolicy.timeToLive():void 0;p.maxTtl&&(P=P?Math.min(P,p.maxTtl):p.maxTtl),await this.cache.set(a,x,P)}catch(R){s.emit("error",new si.CacheError(R))}})()):p.cache&&u&&(async()=>{try{await this.cache.delete(a)}catch(R){s.emit("error",new si.CacheError(R))}})(),s.emit("response",w||v),typeof n=="function"&&n(w||v)};try{let v=e(p,y);v.once("error",m),v.once("abort",m),s.emit("request",v)}catch(v){s.emit("error",new si.RequestError(v))}};return(async()=>{let p=async m=>{await Promise.resolve();let g=m.cache?await this.cache.get(a):void 0;if(typeof g>"u")return l(m);let y=kA.fromObject(g.cachePolicy);if(y.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let v=y.responseHeaders(),w=new cN(g.statusCode,v,g.body,g.url);w.cachePolicy=y,w.fromCache=!0,s.emit("response",w),typeof n=="function"&&n(w)}else u=g,m.headers=y.revalidationHeaders(m),l(m)},f=m=>s.emit("error",new si.CacheError(m));this.cache.once("error",f),s.on("response",()=>this.cache.removeListener("error",f));try{await p(r)}catch(m){r.automaticFailover&&!c&&l(r),s.emit("error",new si.CacheError(m))}})(),s}}};function Pte(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function OA(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}si.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};si.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};lN.exports=si});var hN=b((SSe,fN)=>{"use strict";var Dte=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];fN.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(Dte)),n={};for(let i of r)i in e||(n[i]={get(){let s=t[i];return typeof s=="function"?s.bind(t):s},set(s){t[i]=s},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var mN=b((ESe,dN)=>{"use strict";var{Transform:Tte,PassThrough:$te}=require("stream"),NA=require("zlib"),Mte=hN();dN.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof NA.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let n=!0,i=new Tte({transform(a,u,c){n=!1,c(null,a)},flush(a){a()}}),s=new $te({autoDestroy:!1,destroy(a,u){t.destroy(),u(a)}}),o=r?NA.createBrotliDecompress():NA.createUnzip();return o.once("error",a=>{if(n&&!t.readable){s.end();return}s.destroy(a)}),Mte(t,s),t.pipe(i).pipe(o).pipe(s),s}});var FA=b((xSe,gN)=>{"use strict";var BA=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};gN.exports=BA});var jA=b((CSe,bN)=>{"use strict";var Rte=require("events"),kte=require("tls"),Ote=require("http2"),Nte=FA(),$r=Symbol("currentStreamsCount"),HN=Symbol("request"),Pn=Symbol("cachedOriginSet"),Sl=Symbol("gracefullyClosing"),Bte=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],Fte=(t,e,r)=>{let n=0,i=t.length;for(;n<i;){let s=n+i>>>1;r(t[s],e)?n=s+1:i=s}return n},Ute=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,UA=(t,e)=>{for(let r of t)r[Pn].length<e[Pn].length&&r[Pn].every(n=>e[Pn].includes(n))&&r[$r]+e[$r]<=e.remoteSettings.maxConcurrentStreams&&vN(r)},jte=(t,e)=>{for(let r of t)e[Pn].length<r[Pn].length&&e[Pn].every(n=>r[Pn].includes(n))&&e[$r]+r[$r]<=r.remoteSettings.maxConcurrentStreams&&vN(e)},yN=({agent:t,isFree:e})=>{let r={};for(let n in t.sessions){let s=t.sessions[n].filter(o=>{let a=o[Zi.kCurrentStreamsCount]<o.remoteSettings.maxConcurrentStreams;return e?a:!a});s.length!==0&&(r[n]=s)}return r},vN=t=>{t[Sl]=!0,t[$r]===0&&t.close()},Zi=class extends Rte{constructor({timeout:e=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new Nte({maxSize:i})}static normalizeOrigin(e,r){return typeof e=="string"&&(e=new URL(e)),r&&e.hostname!==r&&(e.hostname=r),e.origin}normalizeOptions(e){let r="";if(e)for(let n of Bte)e[n]&&(r+=`:${e[n]}`);return r}_tryToCreateNewSession(e,r){if(!(e in this.queue)||!(r in this.queue[e]))return;let n=this.queue[e][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(e,r,n){return new Promise((i,s)=>{Array.isArray(n)?(n=[...n],i()):n=[{resolve:i,reject:s}];let o=this.normalizeOptions(r),a=Zi.normalizeOrigin(e,r&&r.servername);if(a===void 0){for(let{reject:l}of n)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(o in this.sessions){let l=this.sessions[o],p=-1,f=-1,m;for(let g of l){let y=g.remoteSettings.maxConcurrentStreams;if(y<p)break;if(g[Pn].includes(a)){let v=g[$r];if(v>=y||g[Sl]||g.destroyed)continue;m||(p=y),v>f&&(m=g,f=v)}}if(m){if(n.length!==1){for(let{reject:g}of n){let y=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);g(y)}return}n[0].resolve(m);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...n),this._tryToCreateNewSession(o,a);return}}else this.queue[o]={};let u=()=>{o in this.queue&&this.queue[o][a]===c&&(delete this.queue[o][a],Object.keys(this.queue[o]).length===0&&delete this.queue[o])},c=()=>{let l=`${a}:${o}`,p=!1;try{let f=Ote.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...r});f[$r]=0,f[Sl]=!1;let m=()=>f[$r]<f.remoteSettings.maxConcurrentStreams,g=!0;f.socket.once("session",v=>{this.tlsSessionCache.set(l,v)}),f.once("error",v=>{for(let{reject:w}of n)w(v);this.tlsSessionCache.delete(l)}),f.setTimeout(this.timeout,()=>{f.destroy()}),f.once("close",()=>{if(p){g&&this._freeSessionsCount--,this._sessionsCount--;let v=this.sessions[o];v.splice(v.indexOf(f),1),v.length===0&&delete this.sessions[o]}else{let v=new Error("Session closed without receiving a SETTINGS frame");v.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:w}of n)w(v);u()}this._tryToCreateNewSession(o,a)});let y=()=>{if(!(!(o in this.queue)||!m())){for(let v of f[Pn])if(v in this.queue[o]){let{listeners:w}=this.queue[o][v];for(;w.length!==0&&m();)w.shift().resolve(f);let R=this.queue[o];if(R[v].listeners.length===0&&(delete R[v],Object.keys(R).length===0)){delete this.queue[o];break}if(!m())break}}};f.on("origin",()=>{f[Pn]=f.originSet,m()&&(y(),UA(this.sessions[o],f))}),f.once("remoteSettings",()=>{if(f.ref(),f.unref(),this._sessionsCount++,c.destroyed){let v=new Error("Agent has been destroyed");for(let w of n)w.reject(v);f.destroy();return}f[Pn]=f.originSet;{let v=this.sessions;if(o in v){let w=v[o];w.splice(Fte(w,f,Ute),0,f)}else v[o]=[f]}this._freeSessionsCount+=1,p=!0,this.emit("session",f),y(),u(),f[$r]===0&&this._freeSessionsCount>this.maxFreeSessions&&f.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),f.on("remoteSettings",()=>{y(),UA(this.sessions[o],f)})}),f[HN]=f.request,f.request=(v,w)=>{if(f[Sl])throw new Error("The session is gracefully closing. No new streams are allowed.");let R=f[HN](v,w);return f.ref(),++f[$r],f[$r]===f.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,R.once("close",()=>{if(g=m(),--f[$r],!f.destroyed&&!f.closed&&(jte(this.sessions[o],f),m()&&!f.closed)){g||(this._freeSessionsCount++,g=!0);let U=f[$r]===0;U&&f.unref(),U&&(this._freeSessionsCount>this.maxFreeSessions||f[Sl])?f.close():(UA(this.sessions[o],f),y())}}),R}}catch(f){for(let m of n)m.reject(f);u()}};c.listeners=n,c.completed=!1,c.destroyed=!1,this.queue[o][a]=c,this._tryToCreateNewSession(o,a)})}request(e,r,n,i){return new Promise((s,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{s(a.request(n,i))}catch(u){o(u)}}}])})}createConnection(e,r){return Zi.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname||e.host;return typeof r.servername>"u"&&(r.servername=i),kte.connect(n,i,r)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let r of e)r[$r]===0&&r.close()}destroy(e){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(e);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return yN({agent:this,isFree:!0})}get busySessions(){return yN({agent:this,isFree:!1})}};Zi.kCurrentStreamsCount=$r;Zi.kGracefullyClosing=Sl;bN.exports={Agent:Zi,globalAgent:new Zi}});var WA=b((LSe,_N)=>{"use strict";var{Readable:qte}=require("stream"),qA=class extends qte{constructor(e,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};_N.exports=qA});var VA=b((PSe,wN)=>{"use strict";wN.exports=t=>{let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return typeof t.port=="string"&&t.port.length!==0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var IN=b((DSe,AN)=>{"use strict";AN.exports=(t,e,r)=>{for(let n of r)t.on(n,(...i)=>e.emit(n,...i))}});var EN=b((TSe,SN)=>{"use strict";SN.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var CN=b((MSe,xN)=>{"use strict";var El=(t,e,r)=>{xN.exports[e]=class extends t{constructor(...i){super(typeof r=="string"?r:r(i)),this.name=`${super.name} [${e}]`,this.code=e}}};El(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${n?"one of":"of"} type ${r}. Received ${typeof t[2]}`});El(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);El(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);El(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);El(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);El(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`)});var JA=b((RSe,RN)=>{"use strict";var Wte=require("http2"),{Writable:Vte}=require("stream"),{Agent:LN,globalAgent:Gte}=jA(),Kte=WA(),Xte=VA(),zte=IN(),Jte=EN(),{ERR_INVALID_ARG_TYPE:GA,ERR_INVALID_PROTOCOL:Yte,ERR_HTTP_HEADERS_SENT:PN,ERR_INVALID_HTTP_TOKEN:Qte,ERR_HTTP_INVALID_HEADER_VALUE:Zte,ERR_INVALID_CHAR:ere}=CN(),{HTTP2_HEADER_STATUS:DN,HTTP2_HEADER_METHOD:TN,HTTP2_HEADER_PATH:$N,HTTP2_METHOD_CONNECT:tre}=Wte.constants,_r=Symbol("headers"),KA=Symbol("origin"),XA=Symbol("session"),MN=Symbol("options"),zH=Symbol("flushedHeaders"),ch=Symbol("jobs"),rre=/^[\^`\-\w!#$%&*+.|~]+$/,nre=/[^\t\u0020-\u007E\u0080-\u00FF]/,zA=class extends Vte{constructor(e,r,n){super({autoDestroy:!1});let i=typeof e=="string"||e instanceof URL;if(i&&(e=Xte(e instanceof URL?e:new URL(e))),typeof r=="function"||r===void 0?(n=r,r=i?e:{...e}):r={...e,...r},r.h2session)this[XA]=r.h2session;else if(r.agent===!1)this.agent=new LN({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new LN({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=Gte;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new GA("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new Yte(r.protocol,"https:");let s=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,o=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[_r]=Object.create(null),this[ch]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[u,c]of Object.entries(r.headers))this.setHeader(u,c);r.auth&&!("authorization"in this[_r])&&(this[_r].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[MN]=r,s===443?(this[KA]=`https://${o}`,":authority"in this[_r]||(this[_r][":authority"]=o)):(this[KA]=`https://${o}:${s}`,":authority"in this[_r]||(this[_r][":authority"]=`${o}:${s}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[zH]=!1}get method(){return this[_r][TN]}set method(e){e&&(this[_r][TN]=e.toUpperCase())}get path(){return this[_r][$N]}set path(e){e&&(this[_r][$N]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,r,n);this._request?i():this[ch].push(i)}_final(e){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?r():this[ch].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(e)}async flushHeaders(){if(this[zH]||this.destroyed)return;this[zH]=!0;let e=this.method===tre,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||zte(n,this,["timeout","continue","close","error"]);let i=o=>(...a)=>{!this.writable&&!this.destroyed?o(...a):this.once("finish",()=>{o(...a)})};n.once("response",i((o,a,u)=>{let c=new Kte(this.socket,n.readableHighWaterMark);this.res=c,c.req=this,c.statusCode=o[DN],c.headers=o,c.rawHeaders=u,c.once("end",()=>{this.aborted?(c.aborted=!0,c.emit("aborted")):(c.complete=!0,c.socket=null,c.connection=null)}),e?(c.upgrade=!0,this.emit("connect",c,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",l=>{!c._dumped&&!c.push(l)&&n.pause()}),n.once("end",()=>{c.push(null)}),this.emit("response",c)||c._dump())})),n.once("headers",i(o=>this.emit("information",{statusCode:o[DN]}))),n.once("trailers",i((o,a,u)=>{let{res:c}=this;c.trailers=o,c.rawTrailers=u}));let{socket:s}=n.session;this.socket=s,this.connection=s;for(let o of this[ch])o();this.emit("socket",this.socket)};if(this[XA])try{r(this[XA].request(this[_r]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[KA],this[MN],this[_r]))}catch(n){this.emit("error",n)}}}getHeader(e){if(typeof e!="string")throw new GA("name","string",e);return this[_r][e.toLowerCase()]}get headersSent(){return this[zH]}removeHeader(e){if(typeof e!="string")throw new GA("name","string",e);if(this.headersSent)throw new PN("remove");delete this[_r][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new PN("set");if(typeof e!="string"||!rre.test(e)&&!Jte(e))throw new Qte("Header name",e);if(typeof r>"u")throw new Zte(r,e);if(nre.test(r))throw new ere("header content",e);this[_r][e.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let n=()=>this._request.setTimeout(e,r);return this._request?n():this[ch].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};RN.exports=zA});var ON=b((kSe,kN)=>{"use strict";var ire=require("tls");kN.exports=(t={},e=ire.connect)=>new Promise((r,n)=>{let i=!1,s,o=async()=>{await u,s.off("timeout",a),s.off("error",n),t.resolveSocket?(r({alpnProtocol:s.alpnProtocol,socket:s,timeout:i}),i&&(await Promise.resolve(),s.emit("timeout"))):(s.destroy(),r({alpnProtocol:s.alpnProtocol,timeout:i}))},a=async()=>{i=!0,o()},u=(async()=>{try{s=await e(t,o),s.on("error",n),s.once("timeout",a)}catch(c){n(c)}})()})});var BN=b((OSe,NN)=>{"use strict";var sre=require("net");NN.exports=t=>{let e=t.host,r=t.headers&&t.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?e=r:e=r.slice(1,-1):e=r.split(":",1)[0]),sre.isIP(e)?"":e}});var jN=b((NSe,QA)=>{"use strict";var FN=require("http"),YA=require("https"),ore=ON(),are=FA(),ure=JA(),cre=BN(),lre=VA(),JH=new are({maxSize:100}),lh=new Map,UN=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{t.emit("free",e,r)};e.on("free",n);let i=()=>{t.removeSocket(e,r)};e.on("close",i);let s=()=>{t.removeSocket(e,r),e.off("close",i),e.off("free",n),e.off("agentRemove",s)};e.on("agentRemove",s),t.emit("free",e,r)},pre=async t=>{let e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!JH.has(e)){if(lh.has(e))return(await lh.get(e)).alpnProtocol;let{path:r,agent:n}=t;t.path=t.socketPath;let i=ore(t);lh.set(e,i);try{let{socket:s,alpnProtocol:o}=await i;if(JH.set(e,o),t.path=r,o==="h2")s.destroy();else{let{globalAgent:a}=YA,u=YA.Agent.prototype.createConnection;n?n.createConnection===u?UN(n,s,t):s.destroy():a.createConnection===u?UN(a,s,t):s.destroy()}return lh.delete(e),o}catch(s){throw lh.delete(e),s}}return JH.get(e)};QA.exports=async(t,e,r)=>{if((typeof t=="string"||t instanceof URL)&&(t=lre(new URL(t))),typeof e=="function"&&(r=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||cre(e),e.port=e.port||(n?443:80),e._defaultAgent=n?YA.globalAgent:FN.globalAgent;let i=e.agent;if(i){if(i.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=i[n?"https":"http"]}return n&&await pre(e)==="h2"?(i&&(e.agent=i.http2),new ure(e,r)):FN.request(e,r)};QA.exports.protocolCache=JH});var WN=b((BSe,qN)=>{"use strict";var fre=require("http2"),hre=jA(),ZA=JA(),dre=WA(),mre=jN(),gre=(t,e,r)=>new ZA(t,e,r),Hre=(t,e,r)=>{let n=new ZA(t,e,r);return n.end(),n};qN.exports={...fre,ClientRequest:ZA,IncomingMessage:dre,...hre,request:gre,get:Hre,auto:mre}});var tI=b(eI=>{"use strict";Object.defineProperty(eI,"__esModule",{value:!0});var VN=Ts();eI.default=t=>VN.default.nodeStream(t)&&VN.default.function_(t.getBoundary)});var zN=b(rI=>{"use strict";Object.defineProperty(rI,"__esModule",{value:!0});var KN=require("fs"),XN=require("util"),GN=Ts(),yre=tI(),vre=XN.promisify(KN.stat);rI.default=async(t,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(GN.default.string(t))return Buffer.byteLength(t);if(GN.default.buffer(t))return t.length;if(yre.default(t))return XN.promisify(t.getLength.bind(t))();if(t instanceof KN.ReadStream){let{size:r}=await vre(t.path);return r===0?void 0:r}}});var iI=b(nI=>{"use strict";Object.defineProperty(nI,"__esModule",{value:!0});function bre(t,e,r){let n={};for(let i of r)n[i]=(...s)=>{e.emit(i,...s)},t.on(i,n[i]);return()=>{for(let i of r)t.off(i,n[i])}}nI.default=bre});var JN=b(sI=>{"use strict";Object.defineProperty(sI,"__esModule",{value:!0});sI.default=()=>{let t=[];return{once(e,r,n){e.once(r,n),t.push({origin:e,event:r,fn:n})},unhandleAll(){for(let e of t){let{origin:r,event:n,fn:i}=e;r.removeListener(n,i)}t.length=0}}}});var QN=b(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.TimeoutError=void 0;var _re=require("net"),wre=JN(),YN=Symbol("reentry"),Are=()=>{},YH=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};ph.TimeoutError=YH;ph.default=(t,e,r)=>{if(YN in t)return Are;t[YN]=!0;let n=[],{once:i,unhandleAll:s}=wre.default(),o=(p,f,m)=>{var g;let y=setTimeout(f,p,p,m);(g=y.unref)===null||g===void 0||g.call(y);let v=()=>{clearTimeout(y)};return n.push(v),v},{host:a,hostname:u}=r,c=(p,f)=>{t.destroy(new YH(p,f))},l=()=>{for(let p of n)p();s()};if(t.once("error",p=>{if(l(),t.listenerCount("error")===0)throw p}),t.once("close",l),i(t,"response",p=>{i(p,"end",l)}),typeof e.request<"u"&&o(e.request,c,"request"),typeof e.socket<"u"){let p=()=>{c(e.socket,"socket")};t.setTimeout(e.socket,p),n.push(()=>{t.removeListener("timeout",p)})}return i(t,"socket",p=>{var f;let{socketPath:m}=t;if(p.connecting){let g=Boolean(m??_re.isIP((f=u??a)!==null&&f!==void 0?f:"")!==0);if(typeof e.lookup<"u"&&!g&&typeof p.address().address>"u"){let y=o(e.lookup,c,"lookup");i(p,"lookup",y)}if(typeof e.connect<"u"){let y=()=>o(e.connect,c,"connect");g?i(p,"connect",y()):i(p,"lookup",v=>{v===null&&i(p,"connect",y())})}typeof e.secureConnect<"u"&&r.protocol==="https:"&&i(p,"connect",()=>{let y=o(e.secureConnect,c,"secureConnect");i(p,"secureConnect",y)})}if(typeof e.send<"u"){let g=()=>o(e.send,c,"send");p.connecting?i(p,"connect",()=>{i(t,"upload-complete",g())}):i(t,"upload-complete",g())}}),typeof e.response<"u"&&i(t,"upload-complete",()=>{let p=o(e.response,c,"response");i(t,"response",p)}),l}});var eB=b(oI=>{"use strict";Object.defineProperty(oI,"__esModule",{value:!0});var ZN=Ts();oI.default=t=>{t=t;let e={protocol:t.protocol,hostname:ZN.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return ZN.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var tB=b(aI=>{"use strict";Object.defineProperty(aI,"__esModule",{value:!0});var Ire=require("url"),Sre=["protocol","host","hostname","port","pathname","search"];aI.default=(t,e)=>{var r,n;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!t){if(!e.protocol)throw new TypeError("No URL protocol specified");t=`${e.protocol}//${(n=(r=e.hostname)!==null&&r!==void 0?r:e.host)!==null&&n!==void 0?n:""}`}let i=new Ire.URL(t);if(e.path){let s=e.path.indexOf("?");s===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,s),e.search=e.path.slice(s+1)),delete e.path}for(let s of Sre)e[s]&&(i[s]=e[s].toString());return i}});var rB=b(cI=>{"use strict";Object.defineProperty(cI,"__esModule",{value:!0});var uI=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};cI.default=uI});var pI=b(lI=>{"use strict";Object.defineProperty(lI,"__esModule",{value:!0});var Ere=async t=>{let e=[],r=0;for await(let n of t)e.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(e[0])?Buffer.concat(e,r):Buffer.from(e.join(""))};lI.default=Ere});var iB=b(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.dnsLookupIpVersionToFamily=fu.isDnsLookupIpVersion=void 0;var nB={auto:0,ipv4:4,ipv6:6};fu.isDnsLookupIpVersion=t=>t in nB;fu.dnsLookupIpVersionToFamily=t=>{if(fu.isDnsLookupIpVersion(t))return nB[t];throw new Error("Invalid DNS lookup IP version")}});var fI=b(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.isResponseOk=void 0;QH.isResponseOk=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304}});var oB=b(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});var sB=new Set;hI.default=t=>{sB.has(t)||(sB.add(t),process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"}))}});var aB=b(dI=>{"use strict";Object.defineProperty(dI,"__esModule",{value:!0});var ot=Ts(),xre=(t,e)=>{if(ot.default.null_(t.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ot.assert.any([ot.default.string,ot.default.undefined],t.encoding),ot.assert.any([ot.default.boolean,ot.default.undefined],t.resolveBodyOnly),ot.assert.any([ot.default.boolean,ot.default.undefined],t.methodRewriting),ot.assert.any([ot.default.boolean,ot.default.undefined],t.isStream),ot.assert.any([ot.default.string,ot.default.undefined],t.responseType),t.responseType===void 0&&(t.responseType="text");let{retry:r}=t;if(e?t.retry={...e.retry}:t.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},ot.default.object(r)?(t.retry={...t.retry,...r},t.retry.methods=[...new Set(t.retry.methods.map(n=>n.toUpperCase()))],t.retry.statusCodes=[...new Set(t.retry.statusCodes)],t.retry.errorCodes=[...new Set(t.retry.errorCodes)]):ot.default.number(r)&&(t.retry.limit=r),ot.default.undefined(t.retry.maxRetryAfter)&&(t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(ot.default.number))),ot.default.object(t.pagination)){e&&(t.pagination={...e.pagination,...t.pagination});let{pagination:n}=t;if(!ot.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!ot.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!ot.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!ot.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return t.responseType==="json"&&t.headers.accept===void 0&&(t.headers.accept="application/json"),t};dI.default=xre});var uB=b(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.retryAfterStatusCodes=void 0;fh.retryAfterStatusCodes=new Set([413,429,503]);var Cre=({attemptCount:t,retryOptions:e,error:r,retryAfter:n})=>{if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),s=e.errorCodes.includes(r.code),o=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!s&&!o)return 0;if(r.response){if(n)return e.maxRetryAfter===void 0||n>e.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(t-1)*1e3+a};fh.default=Cre});var mh=b(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.UnsupportedProtocolError=Ne.ReadError=Ne.TimeoutError=Ne.UploadError=Ne.CacheError=Ne.HTTPError=Ne.MaxRedirectsError=Ne.RequestError=Ne.setNonEnumerableProperties=Ne.knownHookEvents=Ne.withoutBody=Ne.kIsNormalizedAlready=void 0;var cB=require("util"),lB=require("stream"),Lre=require("fs"),Go=require("url"),pB=require("http"),mI=require("http"),Pre=require("https"),Dre=EO(),Tre=$O(),fB=pN(),$re=mN(),Mre=WN(),Rre=KH(),G=Ts(),kre=zN(),hB=tI(),Ore=iI(),dB=QN(),Nre=eB(),mB=tB(),Bre=rB(),Fre=pI(),gB=iB(),Ure=fI(),Ko=oB(),jre=aB(),qre=uB(),gI,sr=Symbol("request"),ty=Symbol("response"),xl=Symbol("responseSize"),Cl=Symbol("downloadedSize"),Ll=Symbol("bodySize"),Pl=Symbol("uploadedSize"),ZH=Symbol("serverResponsesPiped"),HB=Symbol("unproxyEvents"),yB=Symbol("isFromCache"),HI=Symbol("cancelTimeouts"),vB=Symbol("startedReading"),Dl=Symbol("stopReading"),ey=Symbol("triggerRead"),Xo=Symbol("body"),hh=Symbol("jobs"),bB=Symbol("originalResponse"),_B=Symbol("retryTimeout");Ne.kIsNormalizedAlready=Symbol("isNormalizedAlready");var Wre=G.default.string(process.versions.brotli);Ne.withoutBody=new Set(["GET","HEAD"]);Ne.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function Vre(t){for(let e in t){let r=t[e];if(!G.default.string(r)&&!G.default.number(r)&&!G.default.boolean(r)&&!G.default.null_(r)&&!G.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function Gre(t){return G.default.object(t)&&!("statusCode"in t)}var yI=new Bre.default,Kre=async t=>new Promise((e,r)=>{let n=i=>{r(i)};t.pending||e(),t.once("error",n),t.once("ready",()=>{t.off("error",n),e()})}),Xre=new Set([300,301,302,303,304,307,308]),zre=["context","body","json","form"];Ne.setNonEnumerableProperties=(t,e)=>{let r={};for(let n of t)if(n)for(let i of zre)i in n&&(r[i]={writable:!0,configurable:!0,enumerable:!1,value:n[i]});Object.defineProperties(e,r)};var Et=class extends Error{constructor(e,r,n){var i,s;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(i=r.code)!==null&&i!==void 0?i:"ERR_GOT_REQUEST_ERROR",n instanceof uy?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[ty]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(s=this.request)===null||s===void 0?void 0:s.timings,G.default.string(r.stack)&&G.default.string(this.stack)){let o=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(o).split(`
`).reverse(),u=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;u.length!==0&&u[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,o)}${a.reverse().join(`
`)}${u.reverse().join(`
`)}`}}};Ne.RequestError=Et;var ry=class extends Et{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};Ne.MaxRedirectsError=ry;var ny=class extends Et{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};Ne.HTTPError=ny;var iy=class extends Et{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};Ne.CacheError=iy;var sy=class extends Et{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};Ne.UploadError=sy;var oy=class extends Et{constructor(e,r,n){super(e.message,e,n),this.name="TimeoutError",this.event=e.event,this.timings=r}};Ne.TimeoutError=oy;var dh=class extends Et{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};Ne.ReadError=dh;var ay=class extends Et{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};Ne.UnsupportedProtocolError=ay;var Jre=["socket","connect","continue","information","upgrade","timeout"],uy=class extends lB.Duplex{constructor(e,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[Cl]=0,this[Pl]=0,this.requestInitialized=!1,this[ZH]=new Set,this.redirects=[],this[Dl]=!1,this[ey]=!1,this[hh]=[],this.retryCount=0,this._progressCallbacks=[];let i=()=>this._unlockWrite(),s=()=>this._lockWrite();this.on("pipe",c=>{c.prependListener("data",i),c.on("data",s),c.prependListener("end",i),c.on("end",s)}),this.on("unpipe",c=>{c.off("data",i),c.off("data",s),c.off("end",i),c.off("end",s)}),this.on("pipe",c=>{c instanceof mI.IncomingMessage&&(this.options.headers={...c.headers,...this.options.headers})});let{json:o,body:a,form:u}=r;if((o||a||u)&&this._lockWrite(),Ne.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,n)}catch(c){G.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(c);return}(async()=>{var c;try{this.options.body instanceof Lre.ReadStream&&await Kre(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(c=this[sr])===null||c===void 0||c.destroy();return}for(let p of this[hh])p();this[hh].length=0,this.requestInitialized=!0}catch(l){if(l instanceof Et){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,r,n){var i,s,o,a,u;let c=r;if(G.default.object(e)&&!G.default.urlInstance(e))r={...n,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},e!==void 0&&(r.url=e),G.default.urlInstance(r.url)&&(r.url=new Go.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),G.assert.any([G.default.string,G.default.undefined],r.method),G.assert.any([G.default.object,G.default.undefined],r.headers),G.assert.any([G.default.string,G.default.urlInstance,G.default.undefined],r.prefixUrl),G.assert.any([G.default.object,G.default.undefined],r.cookieJar),G.assert.any([G.default.object,G.default.string,G.default.undefined],r.searchParams),G.assert.any([G.default.object,G.default.string,G.default.undefined],r.cache),G.assert.any([G.default.object,G.default.number,G.default.undefined],r.timeout),G.assert.any([G.default.object,G.default.undefined],r.context),G.assert.any([G.default.object,G.default.undefined],r.hooks),G.assert.any([G.default.boolean,G.default.undefined],r.decompress),G.assert.any([G.default.boolean,G.default.undefined],r.ignoreInvalidCookies),G.assert.any([G.default.boolean,G.default.undefined],r.followRedirect),G.assert.any([G.default.number,G.default.undefined],r.maxRedirects),G.assert.any([G.default.boolean,G.default.undefined],r.throwHttpErrors),G.assert.any([G.default.boolean,G.default.undefined],r.http2),G.assert.any([G.default.boolean,G.default.undefined],r.allowGetBody),G.assert.any([G.default.string,G.default.undefined],r.localAddress),G.assert.any([gB.isDnsLookupIpVersion,G.default.undefined],r.dnsLookupIpVersion),G.assert.any([G.default.object,G.default.undefined],r.https),G.assert.any([G.default.boolean,G.default.undefined],r.rejectUnauthorized),r.https&&(G.assert.any([G.default.boolean,G.default.undefined],r.https.rejectUnauthorized),G.assert.any([G.default.function_,G.default.undefined],r.https.checkServerIdentity),G.assert.any([G.default.string,G.default.object,G.default.array,G.default.undefined],r.https.certificateAuthority),G.assert.any([G.default.string,G.default.object,G.default.array,G.default.undefined],r.https.key),G.assert.any([G.default.string,G.default.object,G.default.array,G.default.undefined],r.https.certificate),G.assert.any([G.default.string,G.default.undefined],r.https.passphrase),G.assert.any([G.default.string,G.default.buffer,G.default.array,G.default.undefined],r.https.pfx)),G.assert.any([G.default.object,G.default.undefined],r.cacheOptions),G.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===(n==null?void 0:n.headers)?r.headers={...r.headers}:r.headers=Rre({...n==null?void 0:n.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==(n==null?void 0:n.searchParams)){let m;if(G.default.string(r.searchParams)||r.searchParams instanceof Go.URLSearchParams)m=new Go.URLSearchParams(r.searchParams);else{Vre(r.searchParams),m=new Go.URLSearchParams;for(let g in r.searchParams){let y=r.searchParams[g];y===null?m.append(g,""):y!==void 0&&m.append(g,y)}}(i=n==null?void 0:n.searchParams)===null||i===void 0||i.forEach((g,y)=>{m.has(y)||m.append(y,g)}),r.searchParams=m}if(r.username=(s=r.username)!==null&&s!==void 0?s:"",r.password=(o=r.password)!==null&&o!==void 0?o:"",G.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n==null?void 0:n.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),G.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=mB.default(r.prefixUrl+r.url,r)}else(G.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=mB.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:m}=r;Object.defineProperty(r,"prefixUrl",{set:y=>{let v=r.url;if(!v.href.startsWith(y))throw new Error(`Cannot change \`prefixUrl\` from ${m} to ${y}: ${v.href}`);r.url=new Go.URL(y+v.href.slice(m.length)),m=y},get:()=>m});let{protocol:g}=r.url;if(g==="unix:"&&(g="http:",r.url=new Go.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),g!=="http:"&&g!=="https:")throw new ay(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:l}=r;if(l){let{setCookie:m,getCookieString:g}=l;G.assert.function_(m),G.assert.function_(g),m.length===4&&g.length===0&&(m=cB.promisify(m.bind(r.cookieJar)),g=cB.promisify(g.bind(r.cookieJar)),r.cookieJar={setCookie:m,getCookieString:g})}let{cache:p}=r;if(p&&(yI.has(p)||yI.set(p,new fB((m,g)=>{let y=m[sr](m,g);return G.default.promise(y)&&(y.once=(v,w)=>{if(v==="error")y.catch(w);else if(v==="abort")(async()=>{try{(await y).once("abort",w)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${v}`);return y}),y},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)gI||(gI=new Tre.default),r.dnsCache=gI;else if(!G.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${G.default(r.dnsCache)}`);G.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let f=r.hooks===(n==null?void 0:n.hooks);r.hooks={...r.hooks};for(let m of Ne.knownHookEvents)if(m in r.hooks)if(G.default.array(r.hooks[m]))r.hooks[m]=[...r.hooks[m]];else throw new TypeError(`Parameter \`${m}\` must be an Array, got ${G.default(r.hooks[m])}`);else r.hooks[m]=[];if(n&&!f)for(let m of Ne.knownHookEvents)n.hooks[m].length>0&&(r.hooks[m]=[...n.hooks[m],...r.hooks[m]]);if("family"in r&&Ko.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n!=null&&n.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&Ko.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&Ko.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&Ko.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&Ko.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&Ko.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&Ko.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&Ko.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let m in r.agent)if(m!=="http"&&m!=="https"&&m!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${m}\``)}return r.maxRedirects=(u=r.maxRedirects)!==null&&u!==void 0?u:0,Ne.setNonEnumerableProperties([n,c],r),jre.default(r,n)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,n=!G.default.undefined(e.form),i=!G.default.undefined(e.json),s=!G.default.undefined(e.body),o=n||i||s,a=Ne.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,o){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([s,n,i].filter(u=>u).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(s&&!(e.body instanceof lB.Readable)&&!G.default.string(e.body)&&!G.default.buffer(e.body)&&!hB.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!G.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let u=!G.default.string(r["content-type"]);s?(hB.default(e.body)&&u&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[Xo]=e.body):n?(u&&(r["content-type"]="application/x-www-form-urlencoded"),this[Xo]=new Go.URLSearchParams(e.form).toString()):(u&&(r["content-type"]="application/json"),this[Xo]=e.stringifyJson(e.json));let c=await kre.default(this[Xo],e.headers);G.default.undefined(r["content-length"])&&G.default.undefined(r["transfer-encoding"])&&!a&&!G.default.undefined(c)&&(r["content-length"]=String(c))}}else a?this._lockWrite():this._unlockWrite();this[Ll]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:n}=r;this[bB]=e,r.decompress&&(e=$re(e));let i=e.statusCode,s=e;s.statusMessage=s.statusMessage?s.statusMessage:pB.STATUS_CODES[i],s.url=r.url.toString(),s.requestUrl=this.requestUrl,s.redirectUrls=this.redirects,s.request=this,s.isFromCache=e.fromCache||!1,s.ip=this.ip,s.retryCount=this.retryCount,this[yB]=s.isFromCache,this[xl]=Number(e.headers["content-length"])||void 0,this[ty]=e,e.once("end",()=>{this[xl]=this[Cl],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new dh(a,this))}),e.once("aborted",()=>{this._beforeError(new dh({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(G.default.object(r.cookieJar)&&o){let a=o.map(async u=>r.cookieJar.setCookie(u,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async u=>u.catch(()=>{})));try{await Promise.all(a)}catch(u){this._beforeError(u);return}}if(r.followRedirect&&e.headers.location&&Xre.has(i)){if(e.resume(),this[sr]&&(this[HI](),delete this[sr],this[HB]()),(i===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[Xo]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new ry(this));return}try{let p=function(f){return f.protocol==="unix:"||f.hostname==="unix"},u=Buffer.from(e.headers.location,"binary").toString(),c=new Go.URL(u,n),l=c.toString();if(decodeURI(l),!p(n)&&p(c)){this._beforeError(new Et("Cannot redirect to UNIX socket",{},this));return}c.hostname!==n.hostname||c.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(c.username=r.username,c.password=r.password),this.redirects.push(l),r.url=c;for(let f of r.hooks.beforeRedirect)await f(r,s);this.emit("redirect",s,r),await this._makeRequest()}catch(u){this._beforeError(u);return}return}if(r.isStream&&r.throwHttpErrors&&!Ure.isResponseOk(s)){this._beforeError(new ny(s));return}e.on("readable",()=>{this[ey]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[ZH])if(!a.headersSent){for(let u in e.headers){let c=r.decompress?u!=="content-encoding":!0,l=e.headers[u];c&&a.setHeader(u,l)}a.statusCode=i}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:n,url:i}=r;Dre.default(e),this[HI]=dB.default(e,n,i);let s=r.cache?"cacheableResponse":"response";e.once(s,u=>{this._onResponse(u)}),e.once("error",u=>{var c;e.destroy(),(c=e.res)===null||c===void 0||c.removeAllListeners("end"),u=u instanceof dB.TimeoutError?new oy(u,this.timings,this):new Et(u.message,u,this),this._beforeError(u)}),this[HB]=Ore.default(e,this,Jre),this[sr]=e,this.emit("uploadProgress",this.uploadProgress);let o=this[Xo],a=this.redirects.length===0?this:e;G.default.nodeStream(o)?(o.pipe(a),o.once("error",u=>{this._beforeError(new sy(u,this))})):(this._unlockWrite(),G.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(o,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,r){return new Promise((n,i)=>{Object.assign(r,Nre.default(e)),delete r.url;let s,o=yI.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,s&&(await s).emit("cacheableResponse",a),n(a)});r.url=e,o.once("error",i),o.once("request",async a=>{s=a,n(s)})})}async _makeRequest(){var e,r,n,i,s;let{options:o}=this,{headers:a}=o;for(let w in a)if(G.default.undefined(a[w]))delete a[w];else if(G.default.null_(a[w]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${w}\` header`);if(o.decompress&&G.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=Wre?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){let w=await o.cookieJar.getCookieString(o.url.toString());G.default.nonEmptyString(w)&&(o.headers.cookie=w)}for(let w of o.hooks.beforeRequest){let R=await w(o);if(!G.default.undefined(R)){o.request=()=>R;break}}o.body&&this[Xo]!==o.body&&(this[Xo]=o.body);let{agent:u,request:c,timeout:l,url:p}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),p.hostname==="unix"){let w=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(w!=null&&w.groups){let{socketPath:R,path:U}=w.groups;Object.assign(o,{socketPath:R,path:U,host:""})}}let f=p.protocol==="https:",m;o.http2?m=Mre.auto:m=f?Pre.request:pB.request;let g=(e=o.request)!==null&&e!==void 0?e:m,y=o.cache?this._createCacheableRequest:g;u&&!o.http2&&(o.agent=u[f?"https":"http"]),o[sr]=g,delete o.request,delete o.timeout;let v=o;if(v.shared=(r=o.cacheOptions)===null||r===void 0?void 0:r.shared,v.cacheHeuristic=(n=o.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,v.immutableMinTimeToLive=(i=o.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive,v.ignoreCargoCult=(s=o.cacheOptions)===null||s===void 0?void 0:s.ignoreCargoCult,o.dnsLookupIpVersion!==void 0)try{v.family=gB.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(v.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(v.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(v.ca=o.https.certificateAuthority),o.https.certificate&&(v.cert=o.https.certificate),o.https.key&&(v.key=o.https.key),o.https.passphrase&&(v.passphrase=o.https.passphrase),o.https.pfx&&(v.pfx=o.https.pfx));try{let w=await y(p,v);G.default.undefined(w)&&(w=m(p,v)),o.request=c,o.timeout=l,o.agent=u,o.https&&("rejectUnauthorized"in o.https&&delete v.rejectUnauthorized,o.https.checkServerIdentity&&delete v.checkServerIdentity,o.https.certificateAuthority&&delete v.ca,o.https.certificate&&delete v.cert,o.https.key&&delete v.key,o.https.passphrase&&delete v.passphrase,o.https.pfx&&delete v.pfx),Gre(w)?this._onRequest(w):this.writable?(this.once("finish",()=>{this._onResponse(w)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(w)}catch(w){throw w instanceof fB.CacheError?new iy(w,this):new Et(w.message,w,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Et(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[Dl])return;let{options:r}=this,n=this.retryCount+1;this[Dl]=!0,e instanceof Et||(e=new Et(e.message,e,this));let i=e,{response:s}=i;(async()=>{if(s&&!s.body){s.setEncoding(this._readableState.encoding);try{s.rawBody=await Fre.default(s),s.body=s.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let o;try{let a;s&&"retry-after"in s.headers&&(a=Number(s.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(s.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),o=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:qre.default({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:0})})}catch(a){this._error(new Et(a.message,a,this));return}if(o){let a=async()=>{try{for(let u of this.options.hooks.beforeRetry)await u(this.options,i,n)}catch(u){this._error(new Et(u.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,e))};this[_B]=setTimeout(a,o);return}}this._error(i)})()}_read(){this[ey]=!0;let e=this[ty];if(e&&!this[Dl]){e.readableLength&&(this[ey]=!1);let r;for(;(r=e.read())!==null;){this[Cl]+=r.length,this[vB]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(e,r,n){let i=()=>{this._writeRequest(e,r,n)};this.requestInitialized?i():this[hh].push(i)}_writeRequest(e,r,n){this[sr].destroyed||(this._progressCallbacks.push(()=>{this[Pl]+=Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}),this[sr].write(e,r,i=>{!i&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(i)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(sr in this)){e();return}if(this[sr].destroyed){e();return}this[sr].end(n=>{n||(this[Ll]=this[Pl],this.emit("uploadProgress",this.uploadProgress),this[sr].emit("upload-complete")),e(n)})};this.requestInitialized?r():this[hh].push(r)}_destroy(e,r){var n;this[Dl]=!0,clearTimeout(this[_B]),sr in this&&(this[HI](),!((n=this[ty])===null||n===void 0)&&n.complete||this[sr].destroy()),e!==null&&!G.default.undefined(e)&&!(e instanceof Et)&&(e=new Et(e.message,e,this)),r(e)}get _isAboutToError(){return this[Dl]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,n;return((r=(e=this[sr])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[bB])===null||n===void 0)&&n.complete)}get socket(){var e,r;return(r=(e=this[sr])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[xl]?e=this[Cl]/this[xl]:this[xl]===this[Cl]?e=1:e=0,{percent:e,transferred:this[Cl],total:this[xl]}}get uploadProgress(){let e;return this[Ll]?e=this[Pl]/this[Ll]:this[Ll]===this[Pl]?e=1:e=0,{percent:e,transferred:this[Pl],total:this[Ll]}}get timings(){var e;return(e=this[sr])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[yB]}pipe(e,r){if(this[vB])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof mI.ServerResponse&&this[ZH].add(e),super.pipe(e,r)}unpipe(e){return e instanceof mI.ServerResponse&&this[ZH].delete(e),super.unpipe(e),this}};Ne.default=uy});var gh=b(oi=>{"use strict";var Yre=oi&&oi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qre=oi&&oi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Yre(e,t,r)};Object.defineProperty(oi,"__esModule",{value:!0});oi.CancelError=oi.ParseError=void 0;var wB=mh(),vI=class extends wB.RequestError{constructor(e,r){let{options:n}=r.request;super(`${e.message} in "${n.url.toString()}"`,e,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};oi.ParseError=vI;var bI=class extends wB.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};oi.CancelError=bI;Qre(mh(),oi)});var IB=b(_I=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0});var AB=gh(),Zre=(t,e,r,n)=>{let{rawBody:i}=t;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":r(i.toString());if(e==="buffer")return i;throw new AB.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(s){throw new AB.ParseError(s,t)}};_I.default=Zre});var wI=b(zo=>{"use strict";var ene=zo&&zo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tne=zo&&zo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ene(e,t,r)};Object.defineProperty(zo,"__esModule",{value:!0});var rne=require("events"),nne=Ts(),ine=IO(),cy=gh(),SB=IB(),EB=mh(),sne=iI(),one=pI(),xB=fI(),ane=["request","response","redirect","uploadProgress","downloadProgress"];function CB(t){let e,r,n=new rne.EventEmitter,i=new ine((o,a,u)=>{let c=l=>{let p=new EB.default(void 0,t);p.retryCount=l,p._noPipe=!0,u(()=>p.destroy()),u.shouldReject=!1,u(()=>a(new cy.CancelError(p))),e=p,p.once("response",async g=>{var y;if(g.retryCount=l,g.request.aborted)return;let v;try{v=await one.default(p),g.rawBody=v}catch{return}if(p._isAboutToError)return;let w=((y=g.headers["content-encoding"])!==null&&y!==void 0?y:"").toLowerCase(),R=["gzip","deflate","br"].includes(w),{options:U}=p;if(R&&!U.decompress)g.body=v;else try{g.body=SB.default(g,U.responseType,U.parseJson,U.encoding)}catch(x){if(g.body=v.toString(),xB.isResponseOk(g)){p._beforeError(x);return}}try{for(let[x,P]of U.hooks.afterResponse.entries())g=await P(g,async V=>{let q=EB.default.normalizeArguments(void 0,{...V,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},U);q.hooks.afterResponse=q.hooks.afterResponse.slice(0,x);for(let $ of q.hooks.beforeRetry)await $(q);let N=CB(q);return u(()=>{N.catch(()=>{}),N.cancel()}),N})}catch(x){p._beforeError(new cy.RequestError(x.message,x,p));return}if(r=g,!xB.isResponseOk(g)){p._beforeError(new cy.HTTPError(g));return}p.destroy(),o(p.options.resolveBodyOnly?g.body:g)});let f=g=>{if(i.isCanceled)return;let{options:y}=p;if(g instanceof cy.HTTPError&&!y.throwHttpErrors){let{response:v}=g;o(p.options.resolveBodyOnly?v.body:v);return}a(g)};p.once("error",f);let m=p.options.body;p.once("retry",(g,y)=>{var v,w;if(m===((v=y.request)===null||v===void 0?void 0:v.options.body)&&nne.default.nodeStream((w=y.request)===null||w===void 0?void 0:w.options.body)){f(y);return}c(g)}),sne.default(p,n,ane)};c(0)});i.on=(o,a)=>(n.on(o,a),i);let s=o=>{let a=(async()=>{await i;let{options:u}=r.request;return SB.default(r,o,u.parseJson,u.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)),a};return i.json=()=>{let{headers:o}=e.options;return!e.writableFinished&&o.accept===void 0&&(o.accept="application/json"),s("json")},i.buffer=()=>s("buffer"),i.text=()=>s("text"),i}zo.default=CB;tne(gh(),zo)});var LB=b(AI=>{"use strict";Object.defineProperty(AI,"__esModule",{value:!0});var une=gh();function cne(t,...e){let r=(async()=>{if(t instanceof une.RequestError)try{for(let i of e)if(i)for(let s of i)t=await s(t)}catch(i){t=i}throw t})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}AI.default=cne});var TB=b(II=>{"use strict";Object.defineProperty(II,"__esModule",{value:!0});var PB=Ts();function DB(t){for(let e of Object.values(t))(PB.default.plainObject(e)||PB.default.array(e))&&DB(e);return Object.freeze(t)}II.default=DB});var MB=b($B=>{"use strict";Object.defineProperty($B,"__esModule",{value:!0})});var SI=b(Tn=>{"use strict";var lne=Tn&&Tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pne=Tn&&Tn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lne(e,t,r)};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.defaultHandler=void 0;var RB=Ts(),Dn=wI(),fne=LB(),py=mh(),hne=TB(),dne={RequestError:Dn.RequestError,CacheError:Dn.CacheError,ReadError:Dn.ReadError,HTTPError:Dn.HTTPError,MaxRedirectsError:Dn.MaxRedirectsError,TimeoutError:Dn.TimeoutError,ParseError:Dn.ParseError,CancelError:Dn.CancelError,UnsupportedProtocolError:Dn.UnsupportedProtocolError,UploadError:Dn.UploadError},mne=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:ly}=py.default,kB=(...t)=>{let e;for(let r of t)e=ly(void 0,r,e);return e},gne=t=>t.isStream?new py.default(void 0,t):Dn.default(t),Hne=t=>"defaults"in t&&"options"in t.defaults,yne=["get","post","put","patch","head","delete"];Tn.defaultHandler=(t,e)=>e(t);var OB=(t,e)=>{if(t)for(let r of t)r(e)},NB=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(n=>(i,s)=>{let o,a=n(i,u=>(o=s(u),o));if(a!==o&&!i.isStream&&o){let u=a,{then:c,catch:l,finally:p}=u;Object.setPrototypeOf(u,Object.getPrototypeOf(o)),Object.defineProperties(u,Object.getOwnPropertyDescriptors(o)),u.then=c,u.catch=l,u.finally=p}return a});let e=(n,i={},s)=>{var o,a;let u=0,c=l=>t.handlers[u++](l,u===t.handlers.length?gne:c);if(RB.default.plainObject(n)){let l={...n,...i};py.setNonEnumerableProperties([n,i],l),i=l,n=void 0}try{let l;try{OB(t.options.hooks.init,i),OB((o=i.hooks)===null||o===void 0?void 0:o.init,i)}catch(f){l=f}let p=ly(n,i,s??t.options);if(p[py.kIsNormalizedAlready]=!0,l)throw new Dn.RequestError(l.message,l,p);return c(p)}catch(l){if(i.isStream)throw l;return fne.default(l,t.options.hooks.beforeError,(a=i.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...n)=>{let i=[t.options],s=[...t._rawHandlers],o;for(let a of n)Hne(a)?(i.push(a.defaults.options),s.push(...a.defaults._rawHandlers),o=a.defaults.mutableDefaults):(i.push(a),"handlers"in a&&s.push(...a.handlers),o=a.mutableDefaults);return s=s.filter(a=>a!==Tn.defaultHandler),s.length===0&&s.push(Tn.defaultHandler),NB({options:kB(...i),handlers:s,mutableDefaults:Boolean(o)})};let r=async function*(n,i){let s=ly(n,i,t.options);s.resolveBodyOnly=!1;let o=s.pagination;if(!RB.default.object(o))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:u}=o,c=0;for(;c<o.requestLimit;){c!==0&&await mne(o.backoff);let l=await e(void 0,void 0,s),p=await o.transform(l),f=[];for(let g of p)if(o.filter(g,a,f)&&(!o.shouldContinue(g,a,f)||(yield g,o.stackAllItems&&a.push(g),f.push(g),--u<=0)))return;let m=o.paginate(l,a,f);if(m===!1)return;m===l.request.options?s=l.request.options:m!==void 0&&(s=ly(void 0,m,s)),c++}};e.paginate=r,e.paginate.all=async(n,i)=>{let s=[];for await(let o of r(n,i))s.push(o);return s},e.paginate.each=r,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of yne)e[n]=(i,s)=>e(i,{...s,method:n}),e.stream[n]=(i,s)=>e(i,{...s,method:n,isStream:!0});return Object.assign(e,dne),Object.defineProperty(e,"defaults",{value:t.mutableDefaults?t:hne.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=kB,e};Tn.default=NB;pne(MB(),Tn)});var UB=b(($s,fy)=>{"use strict";var vne=$s&&$s.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BB=$s&&$s.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vne(e,t,r)};Object.defineProperty($s,"__esModule",{value:!0});var bne=require("url"),FB=SI(),_ne={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,"link"))return!1;let e=t.headers.link.split(","),r;for(let n of e){let i=n.split(";");if(i[1].includes("next")){r=i[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new bne.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[FB.defaultHandler],mutableDefaults:!1},EI=FB.default(_ne);$s.default=EI;fy.exports=EI;fy.exports.default=EI;fy.exports.__esModule=!0;BB(SI(),$s);BB(wI(),$s)});var JB=b((pxe,my)=>{var jt=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=f(n),s="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function a(h,H,_,A){return typeof h>"u"?a[0]:typeof H<"u"?+H==10&&!_?be(h):gt(h,H,_,A):be(h)}function u(h,H){this.value=h,this.sign=H,this.isSmall=!1}u.prototype=Object.create(a.prototype);function c(h){this.value=h,this.sign=h<0,this.isSmall=!0}c.prototype=Object.create(a.prototype);function l(h){this.value=h}l.prototype=Object.create(a.prototype);function p(h){return-n<h&&h<n}function f(h){return h<1e7?[h]:h<1e14?[h%1e7,Math.floor(h/1e7)]:[h%1e7,Math.floor(h/1e7)%1e7,Math.floor(h/1e14)]}function m(h){g(h);var H=h.length;if(H<4&&te(h,i)<0)switch(H){case 0:return 0;case 1:return h[0];case 2:return h[0]+h[1]*e;default:return h[0]+(h[1]+h[2]*e)*e}return h}function g(h){for(var H=h.length;h[--H]===0;);h.length=H+1}function y(h){for(var H=new Array(h),_=-1;++_<h;)H[_]=0;return H}function v(h){return h>0?Math.floor(h):Math.ceil(h)}function w(h,H){var _=h.length,A=H.length,D=new Array(_),M=0,j=e,W,F;for(F=0;F<A;F++)W=h[F]+H[F]+M,M=W>=j?1:0,D[F]=W-M*j;for(;F<_;)W=h[F]+M,M=W===j?1:0,D[F++]=W-M*j;return M>0&&D.push(M),D}function R(h,H){return h.length>=H.length?w(h,H):w(H,h)}function U(h,H){var _=h.length,A=new Array(_),D=e,M,j;for(j=0;j<_;j++)M=h[j]-D+H,H=Math.floor(M/D),A[j]=M-H*D,H+=1;for(;H>0;)A[j++]=H%D,H=Math.floor(H/D);return A}u.prototype.add=function(h){var H=be(h);if(this.sign!==H.sign)return this.subtract(H.negate());var _=this.value,A=H.value;return H.isSmall?new u(U(_,Math.abs(A)),this.sign):new u(R(_,A),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(h){var H=be(h),_=this.value;if(_<0!==H.sign)return this.subtract(H.negate());var A=H.value;if(H.isSmall){if(p(_+A))return new c(_+A);A=f(Math.abs(A))}return new u(U(A,Math.abs(_)),_<0)},c.prototype.plus=c.prototype.add,l.prototype.add=function(h){return new l(this.value+be(h).value)},l.prototype.plus=l.prototype.add;function x(h,H){var _=h.length,A=H.length,D=new Array(_),M=0,j=e,W,F;for(W=0;W<A;W++)F=h[W]-M-H[W],F<0?(F+=j,M=1):M=0,D[W]=F;for(W=A;W<_;W++){if(F=h[W]-M,F<0)F+=j;else{D[W++]=F;break}D[W]=F}for(;W<_;W++)D[W]=h[W];return g(D),D}function P(h,H,_){var A;return te(h,H)>=0?A=x(h,H):(A=x(H,h),_=!_),A=m(A),typeof A=="number"?(_&&(A=-A),new c(A)):new u(A,_)}function V(h,H,_){var A=h.length,D=new Array(A),M=-H,j=e,W,F;for(W=0;W<A;W++)F=h[W]+M,M=Math.floor(F/j),F%=j,D[W]=F<0?F+j:F;return D=m(D),typeof D=="number"?(_&&(D=-D),new c(D)):new u(D,_)}u.prototype.subtract=function(h){var H=be(h);if(this.sign!==H.sign)return this.add(H.negate());var _=this.value,A=H.value;return H.isSmall?V(_,Math.abs(A),this.sign):P(_,A,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(h){var H=be(h),_=this.value;if(_<0!==H.sign)return this.add(H.negate());var A=H.value;return H.isSmall?new c(_-A):V(A,Math.abs(_),_>=0)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(h){return new l(this.value-be(h).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var h=this.sign,H=new c(-this.value);return H.sign=!h,H},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function q(h,H){var _=h.length,A=H.length,D=_+A,M=y(D),j=e,W,F,ne,ue,me;for(ne=0;ne<_;++ne){ue=h[ne];for(var De=0;De<A;++De)me=H[De],W=ue*me+M[ne+De],F=Math.floor(W/j),M[ne+De]=W-F*j,M[ne+De+1]+=F}return g(M),M}function N(h,H){var _=h.length,A=new Array(_),D=e,M=0,j,W;for(W=0;W<_;W++)j=h[W]*H+M,M=Math.floor(j/D),A[W]=j-M*D;for(;M>0;)A[W++]=M%D,M=Math.floor(M/D);return A}function $(h,H){for(var _=[];H-- >0;)_.push(0);return _.concat(h)}function O(h,H){var _=Math.max(h.length,H.length);if(_<=30)return q(h,H);_=Math.ceil(_/2);var A=h.slice(_),D=h.slice(0,_),M=H.slice(_),j=H.slice(0,_),W=O(D,j),F=O(A,M),ne=O(R(D,A),R(j,M)),ue=R(R(W,$(x(x(ne,W),F),_)),$(F,2*_));return g(ue),ue}function I(h,H){return-.012*h-.012*H+15e-6*h*H>0}u.prototype.multiply=function(h){var H=be(h),_=this.value,A=H.value,D=this.sign!==H.sign,M;if(H.isSmall){if(A===0)return a[0];if(A===1)return this;if(A===-1)return this.negate();if(M=Math.abs(A),M<e)return new u(N(_,M),D);A=f(M)}return I(_.length,A.length)?new u(O(_,A),D):new u(q(_,A),D)},u.prototype.times=u.prototype.multiply;function T(h,H,_){return h<e?new u(N(H,h),_):new u(q(H,f(h)),_)}c.prototype._multiplyBySmall=function(h){return p(h.value*this.value)?new c(h.value*this.value):T(Math.abs(h.value),f(Math.abs(this.value)),this.sign!==h.sign)},u.prototype._multiplyBySmall=function(h){return h.value===0?a[0]:h.value===1?this:h.value===-1?this.negate():T(Math.abs(h.value),this.value,this.sign!==h.sign)},c.prototype.multiply=function(h){return be(h)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,l.prototype.multiply=function(h){return new l(this.value*be(h).value)},l.prototype.times=l.prototype.multiply;function k(h){var H=h.length,_=y(H+H),A=e,D,M,j,W,F;for(j=0;j<H;j++){W=h[j],M=0-W*W;for(var ne=j;ne<H;ne++)F=h[ne],D=2*(W*F)+_[j+ne]+M,M=Math.floor(D/A),_[j+ne]=D-M*A;_[j+H]=M}return g(_),_}u.prototype.square=function(){return new u(k(this.value),!1)},c.prototype.square=function(){var h=this.value*this.value;return p(h)?new c(h):new u(k(f(Math.abs(this.value))),!1)},l.prototype.square=function(h){return new l(this.value*this.value)};function X(h,H){var _=h.length,A=H.length,D=e,M=y(H.length),j=H[A-1],W=Math.ceil(D/(2*j)),F=N(h,W),ne=N(H,W),ue,me,De,Qr,kr,wb,Ab;for(F.length<=_&&F.push(0),ne.push(0),j=ne[A-1],me=_-A;me>=0;me--){for(ue=D-1,F[me+A]!==j&&(ue=Math.floor((F[me+A]*D+F[me+A-1])/j)),De=0,Qr=0,wb=ne.length,kr=0;kr<wb;kr++)De+=ue*ne[kr],Ab=Math.floor(De/D),Qr+=F[me+kr]-(De-Ab*D),De=Ab,Qr<0?(F[me+kr]=Qr+D,Qr=-1):(F[me+kr]=Qr,Qr=0);for(;Qr!==0;){for(ue-=1,De=0,kr=0;kr<wb;kr++)De+=F[me+kr]-D+ne[kr],De<0?(F[me+kr]=De+D,De=0):(F[me+kr]=De,De=1);Qr+=De}M[me]=ue}return F=L(F,W)[0],[m(M),m(F)]}function C(h,H){for(var _=h.length,A=H.length,D=[],M=[],j=e,W,F,ne,ue,me;_;){if(M.unshift(h[--_]),g(M),te(M,H)<0){D.push(0);continue}F=M.length,ne=M[F-1]*j+M[F-2],ue=H[A-1]*j+H[A-2],F>A&&(ne=(ne+1)*j),W=Math.ceil(ne/ue);do{if(me=N(H,W),te(me,M)<=0)break;W--}while(W);D.push(W),M=x(M,me)}return D.reverse(),[m(D),m(M)]}function L(h,H){var _=h.length,A=y(_),D=e,M,j,W,F;for(W=0,M=_-1;M>=0;--M)F=W*D+h[M],j=v(F/H),W=F-j*H,A[M]=j|0;return[A,W|0]}function Z(h,H){var _,A=be(H);if(o)return[new l(h.value/A.value),new l(h.value%A.value)];var D=h.value,M=A.value,j;if(M===0)throw new Error("Cannot divide by zero");if(h.isSmall)return A.isSmall?[new c(v(D/M)),new c(D%M)]:[a[0],h];if(A.isSmall){if(M===1)return[h,a[0]];if(M==-1)return[h.negate(),a[0]];var W=Math.abs(M);if(W<e){_=L(D,W),j=m(_[0]);var F=_[1];return h.sign&&(F=-F),typeof j=="number"?(h.sign!==A.sign&&(j=-j),[new c(j),new c(F)]):[new u(j,h.sign!==A.sign),new c(F)]}M=f(W)}var ne=te(D,M);if(ne===-1)return[a[0],h];if(ne===0)return[a[h.sign===A.sign?1:-1],a[0]];D.length+M.length<=200?_=X(D,M):_=C(D,M),j=_[0];var ue=h.sign!==A.sign,me=_[1],De=h.sign;return typeof j=="number"?(ue&&(j=-j),j=new c(j)):j=new u(j,ue),typeof me=="number"?(De&&(me=-me),me=new c(me)):me=new u(me,De),[j,me]}u.prototype.divmod=function(h){var H=Z(this,h);return{quotient:H[0],remainder:H[1]}},l.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(h){return Z(this,h)[0]},l.prototype.over=l.prototype.divide=function(h){return new l(this.value/be(h).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(h){return Z(this,h)[1]},l.prototype.mod=l.prototype.remainder=function(h){return new l(this.value%be(h).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(h){var H=be(h),_=this.value,A=H.value,D,M,j;if(A===0)return a[1];if(_===0)return a[0];if(_===1)return a[1];if(_===-1)return H.isEven()?a[1]:a[-1];if(H.sign)return a[0];if(!H.isSmall)throw new Error("The exponent "+H.toString()+" is too large.");if(this.isSmall&&p(D=Math.pow(_,A)))return new c(v(D));for(M=this,j=a[1];A&!0&&(j=j.times(M),--A),A!==0;)A/=2,M=M.square();return j},c.prototype.pow=u.prototype.pow,l.prototype.pow=function(h){var H=be(h),_=this.value,A=H.value,D=BigInt(0),M=BigInt(1),j=BigInt(2);if(A===D)return a[1];if(_===D)return a[0];if(_===M)return a[1];if(_===BigInt(-1))return H.isEven()?a[1]:a[-1];if(H.isNegative())return new l(D);for(var W=this,F=a[1];(A&M)===M&&(F=F.times(W),--A),A!==D;)A/=j,W=W.square();return F},u.prototype.modPow=function(h,H){if(h=be(h),H=be(H),H.isZero())throw new Error("Cannot take modPow with modulus 0");var _=a[1],A=this.mod(H);for(h.isNegative()&&(h=h.multiply(a[-1]),A=A.modInv(H));h.isPositive();){if(A.isZero())return a[0];h.isOdd()&&(_=_.multiply(A).mod(H)),h=h.divide(2),A=A.square().mod(H)}return _},l.prototype.modPow=c.prototype.modPow=u.prototype.modPow;function te(h,H){if(h.length!==H.length)return h.length>H.length?1:-1;for(var _=h.length-1;_>=0;_--)if(h[_]!==H[_])return h[_]>H[_]?1:-1;return 0}u.prototype.compareAbs=function(h){var H=be(h),_=this.value,A=H.value;return H.isSmall?1:te(_,A)},c.prototype.compareAbs=function(h){var H=be(h),_=Math.abs(this.value),A=H.value;return H.isSmall?(A=Math.abs(A),_===A?0:_>A?1:-1):-1},l.prototype.compareAbs=function(h){var H=this.value,_=be(h).value;return H=H>=0?H:-H,_=_>=0?_:-_,H===_?0:H>_?1:-1},u.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=be(h),_=this.value,A=H.value;return this.sign!==H.sign?H.sign?1:-1:H.isSmall?this.sign?-1:1:te(_,A)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=be(h),_=this.value,A=H.value;return H.isSmall?_==A?0:_>A?1:-1:_<0!==H.sign?_<0?-1:1:_<0?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=this.value,_=be(h).value;return H===_?0:H>_?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(h){return this.compare(h)===0},l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(h){return this.compare(h)!==0},l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(h){return this.compare(h)>0},l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(h){return this.compare(h)<0},l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(h){return this.compare(h)>=0},l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(h){return this.compare(h)<=0},l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(h){var H=be(h);return H.isZero()?!1:H.isUnit()?!0:H.compareAbs(2)===0?this.isEven():this.mod(H).isZero()},l.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function ie(h){var H=h.abs();if(H.isUnit())return!1;if(H.equals(2)||H.equals(3)||H.equals(5))return!0;if(H.isEven()||H.isDivisibleBy(3)||H.isDivisibleBy(5))return!1;if(H.lesser(49))return!0}function se(h,H){for(var _=h.prev(),A=_,D=0,M,j,W,F;A.isEven();)A=A.divide(2),D++;e:for(W=0;W<H.length;W++)if(!h.lesser(H[W])&&(F=jt(H[W]).modPow(A,h),!(F.isUnit()||F.equals(_)))){for(M=D-1;M!=0;M--){if(F=F.square().mod(h),F.isUnit())return!1;if(F.equals(_))continue e}return!1}return!0}u.prototype.isPrime=function(h){var H=ie(this);if(H!==t)return H;var _=this.abs(),A=_.bitLength();if(A<=64)return se(_,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var D=Math.log(2)*A.toJSNumber(),M=Math.ceil(h===!0?2*Math.pow(D,2):D),j=[],W=0;W<M;W++)j.push(jt(W+2));return se(_,j)},l.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(h,H){var _=ie(this);if(_!==t)return _;for(var A=this.abs(),D=h===t?5:h,M=[],j=0;j<D;j++)M.push(jt.randBetween(2,A.minus(2),H));return se(A,M)},l.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(h){for(var H=jt.zero,_=jt.one,A=be(h),D=this.abs(),M,j,W;!D.isZero();)M=A.divide(D),j=H,W=A,H=_,A=D,_=j.subtract(M.multiply(_)),D=W.subtract(M.multiply(D));if(!A.isUnit())throw new Error(this.toString()+" and "+h.toString()+" are not co-prime");return H.compare(0)===-1&&(H=H.add(h)),this.isNegative()?H.negate():H},l.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var h=this.value;return this.sign?V(h,1,this.sign):new u(U(h,1),this.sign)},c.prototype.next=function(){var h=this.value;return h+1<n?new c(h+1):new u(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var h=this.value;return this.sign?new u(U(h,1),!0):V(h,1,this.sign)},c.prototype.prev=function(){var h=this.value;return h-1>-n?new c(h-1):new u(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var re=[1];2*re[re.length-1]<=e;)re.push(2*re[re.length-1]);var he=re.length,we=re[he-1];function ge(h){return Math.abs(h)<=e}u.prototype.shiftLeft=function(h){var H=be(h).toJSNumber();if(!ge(H))throw new Error(String(H)+" is too large for shifting.");if(H<0)return this.shiftRight(-H);var _=this;if(_.isZero())return _;for(;H>=he;)_=_.multiply(we),H-=he-1;return _.multiply(re[H])},l.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(h){var H,_=be(h).toJSNumber();if(!ge(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftLeft(-_);for(var A=this;_>=he;){if(A.isZero()||A.isNegative()&&A.isUnit())return A;H=Z(A,we),A=H[1].isNegative()?H[0].prev():H[0],_-=he-1}return H=Z(A,re[_]),H[1].isNegative()?H[0].prev():H[0]},l.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight;function Ct(h,H,_){H=be(H);for(var A=h.isNegative(),D=H.isNegative(),M=A?h.not():h,j=D?H.not():H,W=0,F=0,ne=null,ue=null,me=[];!M.isZero()||!j.isZero();)ne=Z(M,we),W=ne[1].toJSNumber(),A&&(W=we-1-W),ue=Z(j,we),F=ue[1].toJSNumber(),D&&(F=we-1-F),M=ne[0],j=ue[0],me.push(_(W,F));for(var De=_(A?1:0,D?1:0)!==0?jt(-1):jt(0),Qr=me.length-1;Qr>=0;Qr-=1)De=De.multiply(we).add(jt(me[Qr]));return De}u.prototype.not=function(){return this.negate().prev()},l.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(h){return Ct(this,h,function(H,_){return H&_})},l.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(h){return Ct(this,h,function(H,_){return H|_})},l.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(h){return Ct(this,h,function(H,_){return H^_})},l.prototype.xor=c.prototype.xor=u.prototype.xor;var ve=1<<30,Ir=(e&-e)*(e&-e)|ve;function Yr(h){var H=h.value,_=typeof H=="number"?H|ve:typeof H=="bigint"?H|BigInt(ve):H[0]+H[1]*e|Ir;return _&-_}function Y(h,H){if(H.compareTo(h)<=0){var _=Y(h,H.square(H)),A=_.p,D=_.e,M=A.multiply(H);return M.compareTo(h)<=0?{p:M,e:D*2+1}:{p:A,e:D*2}}return{p:jt(1),e:0}}u.prototype.bitLength=function(){var h=this;return h.compareTo(jt(0))<0&&(h=h.negate().subtract(jt(1))),h.compareTo(jt(0))===0?jt(0):jt(Y(h,jt(2)).e).add(jt(1))},l.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;function Le(h,H){return h=be(h),H=be(H),h.greater(H)?h:H}function J(h,H){return h=be(h),H=be(H),h.lesser(H)?h:H}function He(h,H){if(h=be(h).abs(),H=be(H).abs(),h.equals(H))return h;if(h.isZero())return H;if(H.isZero())return h;for(var _=a[1],A,D;h.isEven()&&H.isEven();)A=J(Yr(h),Yr(H)),h=h.divide(A),H=H.divide(A),_=_.multiply(A);for(;h.isEven();)h=h.divide(Yr(h));do{for(;H.isEven();)H=H.divide(Yr(H));h.greater(H)&&(D=H,H=h,h=D),H=H.subtract(h)}while(!H.isZero());return _.isUnit()?h:h.multiply(_)}function Be(h,H){return h=be(h).abs(),H=be(H).abs(),h.divide(He(h,H)).multiply(H)}function pt(h,H,_){h=be(h),H=be(H);var A=_||Math.random,D=J(h,H),M=Le(h,H),j=M.subtract(D).add(1);if(j.isSmall)return D.add(Math.floor(A()*j));for(var W=xa(j,e).value,F=[],ne=!0,ue=0;ue<W.length;ue++){var me=ne?W[ue]:e,De=v(A()*me);F.push(De),De<me&&(ne=!1)}return D.add(a.fromArray(F,e,!1))}var gt=function(h,H,_,A){_=_||s,h=String(h),A||(h=h.toLowerCase(),_=_.toLowerCase());var D=h.length,M,j=Math.abs(H),W={};for(M=0;M<_.length;M++)W[_[M]]=M;for(M=0;M<D;M++){var F=h[M];if(F!=="-"&&F in W&&W[F]>=j){if(F==="1"&&j===1)continue;throw new Error(F+" is not a valid digit in base "+H+".")}}H=be(H);var ne=[],ue=h[0]==="-";for(M=ue?1:0;M<h.length;M++){var F=h[M];if(F in W)ne.push(be(W[F]));else if(F==="<"){var me=M;do M++;while(h[M]!==">"&&M<h.length);ne.push(be(h.slice(me+1,M)))}else throw new Error(F+" is not a valid character")}return Zs(ne,H,ue)};function Zs(h,H,_){var A=a[0],D=a[1],M;for(M=h.length-1;M>=0;M--)A=A.add(h[M].times(D)),D=D.times(H);return _?A.negate():A}function eo(h,H){return H=H||s,h<H.length?H[h]:"<"+h+">"}function xa(h,H){if(H=jt(H),H.isZero()){if(h.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(H.equals(-1)){if(h.isZero())return{value:[0],isNegative:!1};if(h.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-h.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var _=Array.apply(null,Array(h.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return _.unshift([1]),{value:[].concat.apply([],_),isNegative:!1}}var A=!1;if(h.isNegative()&&H.isPositive()&&(A=!0,h=h.abs()),H.isUnit())return h.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(h.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:A};for(var D=[],M=h,j;M.isNegative()||M.compareAbs(H)>=0;){j=M.divmod(H),M=j.quotient;var W=j.remainder;W.isNegative()&&(W=H.minus(W).abs(),M=M.next()),D.push(W.toJSNumber())}return D.push(M.toJSNumber()),{value:D.reverse(),isNegative:A}}function Vu(h,H,_){var A=xa(h,H);return(A.isNegative?"-":"")+A.value.map(function(D){return eo(D,_)}).join("")}u.prototype.toArray=function(h){return xa(this,h)},c.prototype.toArray=function(h){return xa(this,h)},l.prototype.toArray=function(h){return xa(this,h)},u.prototype.toString=function(h,H){if(h===t&&(h=10),h!==10)return Vu(this,h,H);for(var _=this.value,A=_.length,D=String(_[--A]),M="0000000",j;--A>=0;)j=String(_[A]),D+=M.slice(j.length)+j;var W=this.sign?"-":"";return W+D},c.prototype.toString=function(h,H){return h===t&&(h=10),h!=10?Vu(this,h,H):String(this.value)},l.prototype.toString=c.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function xd(h){if(p(+h)){var H=+h;if(H===v(H))return o?new l(BigInt(H)):new c(H);throw new Error("Invalid integer: "+h)}var _=h[0]==="-";_&&(h=h.slice(1));var A=h.split(/e/i);if(A.length>2)throw new Error("Invalid integer: "+A.join("e"));if(A.length===2){var D=A[1];if(D[0]==="+"&&(D=D.slice(1)),D=+D,D!==v(D)||!p(D))throw new Error("Invalid integer: "+D+" is not a valid exponent.");var M=A[0],j=M.indexOf(".");if(j>=0&&(D-=M.length-j-1,M=M.slice(0,j)+M.slice(j+1)),D<0)throw new Error("Cannot include negative exponent part for integers");M+=new Array(D+1).join("0"),h=M}var W=/^([0-9][0-9]*)$/.test(h);if(!W)throw new Error("Invalid integer: "+h);if(o)return new l(BigInt(_?"-"+h:h));for(var F=[],ne=h.length,ue=r,me=ne-ue;ne>0;)F.push(+h.slice(me,ne)),me-=ue,me<0&&(me=0),ne-=ue;return g(F),new u(F,_)}function _b(h){if(o)return new l(BigInt(h));if(p(h)){if(h!==v(h))throw new Error(h+" is not an integer.");return new c(h)}return xd(h.toString())}function be(h){return typeof h=="number"?_b(h):typeof h=="string"?xd(h):typeof h=="bigint"?new l(h):h}for(var qn=0;qn<1e3;qn++)a[qn]=be(qn),qn>0&&(a[-qn]=be(-qn));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Le,a.min=J,a.gcd=He,a.lcm=Be,a.isInstance=function(h){return h instanceof u||h instanceof c||h instanceof l},a.randBetween=pt,a.fromArray=function(h,H,_){return Zs(h.map(be),be(H||10),_)},a}();typeof my<"u"&&my.hasOwnProperty("exports")&&(my.exports=jt);typeof define=="function"&&define.amd&&define(function(){return jt})});var YB=b(qt=>{"use strict";var Sne=require("fs"),Ene=JB(),Zo=!1;qt.maxObjectSize=100*1e3*1e3;qt.maxObjectCount=32768;var xne=9783072e5,Cne=qt.UID=function(t){this.UID=t},fxe=qt.parseFile=function(t,e){function r(n){var i=null,s;try{s=Lne(n)}catch(o){i=o}e(i,s)}if(Buffer.isBuffer(t))return r(t);Sne.readFile(t,function(n,i){if(n)return e(n);r(i)})},Lne=qt.parseBuffer=function(t){var e={},r=t.slice(0,6).toString("utf8");if(r!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var n=t.slice(t.length-32,t.length),i=n.readUInt8(6);Zo&&console.log("offsetSize: "+i);var s=n.readUInt8(7);Zo&&console.log("objectRefSize: "+s);var o=xI(n,8);Zo&&console.log("numObjects: "+o);var a=xI(n,16);Zo&&console.log("topObject: "+a);var u=xI(n,24);if(Zo&&console.log("offsetTableOffset: "+u),o>qt.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var c=[],l=0;l<o;l++){var p=t.slice(u+l*i,u+(l+1)*i);c[l]=Jr(p,0),Zo&&console.log("Offset for Object #"+l+" is "+c[l]+" ["+c[l].toString(16)+"]")}function f(m){var g=c[m],y=t[g],v=(y&240)>>4,w=y&15;switch(v){case 0:return R();case 1:return x();case 8:return P();case 2:return V();case 3:return q();case 4:return N();case 5:return $();case 6:return $(!0);case 10:return O();case 13:return I();default:throw new Error("Unhandled type 0x"+v.toString(16))}function R(){switch(w){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+v.toString(16))}}function U(T){var k="",X;for(X=0;X<T.length&&T[X]==0;X++);for(;X<T.length;X++){var C="00"+T[X].toString(16);k+=C.substr(C.length-2)}return k}function x(){var T=Math.pow(2,w);if(T>4){var k=t.slice(g+1,g+1+T),X=U(k);return Ene(X,16)}if(T<qt.maxObjectSize)return Jr(t.slice(g+1,g+1+T));throw new Error("To little heap space available! Wanted to read "+T+" bytes, but only "+qt.maxObjectSize+" are available.")}function P(){var T=w+1;if(T<qt.maxObjectSize)return new Cne(Jr(t.slice(g+1,g+1+T)));throw new Error("To little heap space available! Wanted to read "+T+" bytes, but only "+qt.maxObjectSize+" are available.")}function V(){var T=Math.pow(2,w);if(T<qt.maxObjectSize){var k=t.slice(g+1,g+1+T);if(T===4)return k.readFloatBE(0);if(T===8)return k.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+T+" bytes, but only "+qt.maxObjectSize+" are available.")}function q(){w!=3&&console.error("Unknown date type :"+w+". Parsing anyway...");var T=t.slice(g+1,g+9);return new Date(xne+1e3*T.readDoubleBE(0))}function N(){var T=1,k=w;if(w==15){var X=t[g+1],C=(X&240)/16;C!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+C);var L=X&15,Z=Math.pow(2,L);T=2+Z,Z<3,k=Jr(t.slice(g+2,g+2+Z))}if(k<qt.maxObjectSize)return t.slice(g+T,g+T+k);throw new Error("To little heap space available! Wanted to read "+k+" bytes, but only "+qt.maxObjectSize+" are available.")}function $(T){T=T||0;var k="utf8",X=w,C=1;if(w==15){var L=t[g+1],Z=(L&240)/16;Z!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+Z);var te=L&15,ie=Math.pow(2,te),C=2+ie;ie<3,X=Jr(t.slice(g+2,g+2+ie))}if(X*=T+1,X<qt.maxObjectSize){var se=new Buffer(t.slice(g+C,g+C+X));return T&&(se=Pne(se),k="ucs2"),se.toString(k)}else throw new Error("To little heap space available! Wanted to read "+X+" bytes, but only "+qt.maxObjectSize+" are available.")}function O(){var T=w,k=1;if(w==15){var X=t[g+1],C=(X&240)/16;C!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+C);var L=X&15,Z=Math.pow(2,L);k=2+Z,Z<3,T=Jr(t.slice(g+2,g+2+Z))}if(T*s>qt.maxObjectSize)throw new Error("To little heap space available!");for(var te=[],ie=0;ie<T;ie++){var se=Jr(t.slice(g+k+ie*s,g+k+(ie+1)*s));te[ie]=f(se)}return te}function I(){var T=w,k=1;if(w==15){var X=t[g+1],C=(X&240)/16;C!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+C);var L=X&15,Z=Math.pow(2,L);k=2+Z,Z<3,T=Jr(t.slice(g+2,g+2+Z))}if(T*2*s>qt.maxObjectSize)throw new Error("To little heap space available!");Zo&&console.log("Parsing dictionary #"+m);for(var te={},ie=0;ie<T;ie++){var se=Jr(t.slice(g+k+ie*s,g+k+(ie+1)*s)),re=Jr(t.slice(g+k+T*s+ie*s,g+k+T*s+(ie+1)*s)),he=f(se),we=f(re);Zo&&console.log("  DICT #"+m+": Mapped "+he+" to "+we),te[he]=we}return te}}return[f(a)]};function Jr(t,e){e=e||0;for(var r=0,n=e;n<t.length;n++)r<<=8,r|=t[n]&255;return r}function xI(t,e){var r=t.slice(e,e+8);return r.readUInt32BE(4,8)}function Pne(t){for(var e=t.length,r=0;r<e;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t}});var eF=b((dxe,ZB)=>{"use strict";var QB=require("os");function Dne(){var t=process.env,e=t.HOME,r=t.LOGNAME||t.USER||t.LNAME||t.USERNAME;return process.platform==="win32"?t.USERPROFILE||t.HOMEDRIVE+t.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}ZB.exports=typeof QB.homedir=="function"?QB.homedir:Dne});var nF=b((mxe,rF)=>{"use strict";var Tne=eF(),tF=Tne();rF.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return tF?t.replace(/^~($|\/|\\)/,tF+"$1"):t}});var CI=b((gxe,oF)=>{"use strict";var iF=function(t,e,r){return function(){for(var n=this,i=new Array(arguments.length),s=0;s<arguments.length;s++)i[s]=arguments[s];return new e(function(o,a){i.push(function(u,c){if(u)a(u);else if(r.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];o(l)}else o(c)}),t.apply(n,i)})}},sF=oF.exports=function(t,e,r){typeof e!="function"&&(r=e,e=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var n=function(s){var o=function(a){return typeof a=="string"?s===a:a.test(s)};return r.include?r.include.some(o):!r.exclude.some(o)},i=typeof t=="function"?function(){return r.excludeMain?t.apply(this,arguments):iF(t,e,r).apply(this,arguments)}:{};return Object.keys(t).reduce(function(s,o){var a=t[o];return s[o]=typeof a=="function"&&n(o)?iF(a,e,r):a,s},i)};sF.all=sF});var uF=b((Hxe,aF)=>{"use strict";var $ne=require("os"),Mne=YB(),Rne=nF(),kne=CI(),One=Number($ne.release().split(".")[0]),Nne=Rne(One>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");aF.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let t="com.apple.Safari";return kne(Mne.parseFile)(Nne).then(e=>{let r=e&&e[0].LSHandlers;if(!r||r.length===0)return t;for(let n of r)if(n.LSHandlerURLScheme==="http"&&n.LSHandlerRoleAll){t=n.LSHandlerRoleAll;break}return t})}});var gF=b((yxe,mF)=>{"use strict";var PI="pending",cF="settled",gy="fulfilled",Hy="rejected",Bne=function(){},lF=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",Fne=typeof setImmediate>"u"?setTimeout:setImmediate,yh=[],LI;function Une(){for(var t=0;t<yh.length;t++)yh[t][0](yh[t][1]);yh=[],LI=!1}function yy(t,e){yh.push([t,e]),LI||(LI=!0,Fne(Une,0))}function jne(t,e){function r(i){DI(e,i)}function n(i){vh(e,i)}try{t(r,n)}catch(i){n(i)}}function pF(t){var e=t.owner,r=e._state,n=e._data,i=t[r],s=t.then;if(typeof i=="function"){r=gy;try{n=i(n)}catch(o){vh(s,o)}}fF(s,n)||(r===gy&&DI(s,n),r===Hy&&vh(s,n))}function fF(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var n=e.then;if(typeof n=="function")return n.call(e,function(i){r||(r=!0,e===i?hF(t,i):DI(t,i))},function(i){r||(r=!0,vh(t,i))}),!0}}catch(i){return r||vh(t,i),!0}return!1}function DI(t,e){(t===e||!fF(t,e))&&hF(t,e)}function hF(t,e){t._state===PI&&(t._state=cF,t._data=e,yy(qne,t))}function vh(t,e){t._state===PI&&(t._state=cF,t._data=e,yy(Wne,t))}function dF(t){t._then=t._then.forEach(pF)}function qne(t){t._state=gy,dF(t)}function Wne(t){t._state=Hy,dF(t),!t._handled&&lF&&global.process.emit("unhandledRejection",t._data,t)}function Vne(t){global.process.emit("rejectionHandled",t)}function fn(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof fn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],jne(t,this)}fn.prototype={constructor:fn,_state:PI,_then:null,_data:void 0,_handled:!1,then:function(t,e){var r={owner:this,then:new this.constructor(Bne),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===Hy&&lF&&yy(Vne,this)),this._state===gy||this._state===Hy?yy(pF,r):this._then.push(r),r.then},catch:function(t){return this.then(null,t)}};fn.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new fn(function(e,r){var n=[],i=0;function s(u){return i++,function(c){n[u]=c,--i||e(n)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),r):n[o]=a;i||e(n)})};fn.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new fn(function(e,r){for(var n=0,i;n<t.length;n++)i=t[n],i&&typeof i.then=="function"?i.then(e,r):e(i)})};fn.resolve=function(t){return t&&typeof t=="object"&&t.constructor===fn?t:new fn(function(e){e(t)})};fn.reject=function(t){return new fn(function(e,r){r(t)})};mF.exports=fn});var yF=b((vxe,HF)=>{"use strict";HF.exports=typeof Promise=="function"?Promise:gF()});var _F=b((bxe,bF)=>{"use strict";var Gne=require("child_process").execFile,vF=yF(),Kne=CI();bF.exports=function(t){return process.platform!=="darwin"?vF.reject(new Error("Only OS X systems are supported")):Kne(Gne,vF)("osascript",["-e",t]).then(function(e){return e.trim()})}});var AF=b((_xe,wF)=>{"use strict";var Xne=_F();wF.exports=t=>Xne(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var xF=b((wxe,EF)=>{var IF=Object.prototype.hasOwnProperty;EF.exports=hn;function hn(t){if(!(this instanceof hn))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof hn||typeof Map=="function"&&t instanceof Map)t.forEach(function(e,r){this.set(r,e)},this);else if(Array.isArray(t))t.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}hn.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){r!=="size"&&t.call(e,this._data[r].value,this._data[r].key)},this)};hn.prototype.has=function(t){return!!TI(this._data,t)};hn.prototype.get=function(t){var e=TI(this._data,t);return e&&e.value};hn.prototype.set=function(t,e){Jne(this._data,t,e)};hn.prototype.delete=function(t){var e=TI(this._data,t);e&&(delete this._data[e._index],this._data.size--)};hn.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(hn.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0});hn.prototype.values=hn.prototype.keys=hn.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function SF(t,e){return t===e||t!==t&&e!==e}function zne(t,e,r){this.key=t,this.value=e,this._index=r}function TI(t,e){for(var r=0,n="_"+e,i=n;IF.call(t,i);i=n+r++)if(SF(t[i].key,e))return t[i]}function Jne(t,e,r){for(var n=0,i="_"+e,s=i;IF.call(t,s);s=i+n++)if(SF(t[s].key,e)){t[s].value=r;return}t.size++,t[s]=new zne(e,r,s)}});var CF=b((Axe,$I)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?$I.exports=Map:$I.exports=xF()});var PF=b((Ixe,LF)=>{LF.exports=Ge;Ge.Node=bh;Ge.create=Ge;function Ge(t){var e=this;if(e instanceof Ge||(e=new Ge),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Ge.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null};Ge.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ge.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ge.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Yne(this,arguments[t]);return this.length};Ge.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Qne(this,arguments[t]);return this.length};Ge.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ge.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ge.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Ge.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Ge.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ge.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ge.prototype.map=function(t,e){e=e||this;for(var r=new Ge,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Ge.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ge,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Ge.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Ge.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Ge.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ge.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ge.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Ge.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Ge.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Yne(t,e){t.tail=new bh(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Qne(t,e){t.head=new bh(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bh(t,e,r,n){if(!(this instanceof bh))return new bh(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}});var RI=b((Sxe,$F)=>{"use strict";$F.exports=at;var Zne=CF(),_h=require("util"),eie=PF(),tie=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",ui;tie?ui=function(t){return Symbol(t)}:ui=function(t){return"_"+t};var Rs=ui("max"),ns=ui("length"),mu=ui("lengthCalculator"),Ml=ui("allowStale"),ea=ui("maxAge"),Ms=ui("dispose"),DF=ui("noDisposeOnSet"),Wt=ui("lruList"),ai=ui("cache");function wh(){return 1}function at(t){if(!(this instanceof at))return new at(t);typeof t=="number"&&(t={max:t}),t||(t={});var e=this[Rs]=t.max;(!e||typeof e!="number"||e<=0)&&(this[Rs]=1/0);var r=t.length||wh;typeof r!="function"&&(r=wh),this[mu]=r,this[Ml]=t.stale||!1,this[ea]=t.maxAge||0,this[Ms]=t.dispose,this[DF]=t.noDisposeOnSet||!1,this.reset()}Object.defineProperty(at.prototype,"max",{set:function(t){(!t||typeof t!="number"||t<=0)&&(t=1/0),this[Rs]=t,Ah(this)},get:function(){return this[Rs]},enumerable:!0});Object.defineProperty(at.prototype,"allowStale",{set:function(t){this[Ml]=!!t},get:function(){return this[Ml]},enumerable:!0});Object.defineProperty(at.prototype,"maxAge",{set:function(t){(!t||typeof t!="number"||t<0)&&(t=0),this[ea]=t,Ah(this)},get:function(){return this[ea]},enumerable:!0});Object.defineProperty(at.prototype,"lengthCalculator",{set:function(t){typeof t!="function"&&(t=wh),t!==this[mu]&&(this[mu]=t,this[ns]=0,this[Wt].forEach(function(e){e.length=this[mu](e.value,e.key),this[ns]+=e.length},this)),Ah(this)},get:function(){return this[mu]},enumerable:!0});Object.defineProperty(at.prototype,"length",{get:function(){return this[ns]},enumerable:!0});Object.defineProperty(at.prototype,"itemCount",{get:function(){return this[Wt].length},enumerable:!0});at.prototype.rforEach=function(t,e){e=e||this;for(var r=this[Wt].tail;r!==null;){var n=r.prev;TF(this,t,r,e),r=n}};function TF(t,e,r,n){var i=r.value;Ih(t,i)&&(Rl(t,r),t[Ml]||(i=void 0)),i&&e.call(n,i.value,i.key,t)}at.prototype.forEach=function(t,e){e=e||this;for(var r=this[Wt].head;r!==null;){var n=r.next;TF(this,t,r,e),r=n}};at.prototype.keys=function(){return this[Wt].toArray().map(function(t){return t.key},this)};at.prototype.values=function(){return this[Wt].toArray().map(function(t){return t.value},this)};at.prototype.reset=function(){this[Ms]&&this[Wt]&&this[Wt].length&&this[Wt].forEach(function(t){this[Ms](t.key,t.value)},this),this[ai]=new Zne,this[Wt]=new eie,this[ns]=0};at.prototype.dump=function(){return this[Wt].map(function(t){if(!Ih(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})};at.prototype.dumpLru=function(){return this[Wt]};at.prototype.inspect=function(t,e){var r="LRUCache {",n=!1,i=this[Ml];i&&(r+=`
  allowStale: true`,n=!0);var s=this[Rs];s&&s!==1/0&&(n&&(r+=","),r+=`
  max: `+_h.inspect(s,e),n=!0);var o=this[ea];o&&(n&&(r+=","),r+=`
  maxAge: `+_h.inspect(o,e),n=!0);var a=this[mu];a&&a!==wh&&(n&&(r+=","),r+=`
  length: `+_h.inspect(this[ns],e),n=!0);var u=!1;return this[Wt].forEach(function(c){u?r+=`,
  `:(n&&(r+=`,
`),u=!0,r+=`
  `);var l=_h.inspect(c.key).split(`
`).join(`
  `),p={value:c.value};c.maxAge!==o&&(p.maxAge=c.maxAge),a!==wh&&(p.length=c.length),Ih(this,c)&&(p.stale=!0),p=_h.inspect(p,e).split(`
`).join(`
  `),r+=l+" => "+p}),(u||n)&&(r+=`
`),r+="}",r};at.prototype.set=function(t,e,r){r=r||this[ea];var n=r?Date.now():0,i=this[mu](e,t);if(this[ai].has(t)){if(i>this[Rs])return Rl(this,this[ai].get(t)),!1;var s=this[ai].get(t),o=s.value;return this[Ms]&&(this[DF]||this[Ms](t,o.value)),o.now=n,o.maxAge=r,o.value=e,this[ns]+=i-o.length,o.length=i,this.get(t),Ah(this),!0}var a=new rie(t,e,i,n,r);return a.length>this[Rs]?(this[Ms]&&this[Ms](t,e),!1):(this[ns]+=a.length,this[Wt].unshift(a),this[ai].set(t,this[Wt].head),Ah(this),!0)};at.prototype.has=function(t){if(!this[ai].has(t))return!1;var e=this[ai].get(t).value;return!Ih(this,e)};at.prototype.get=function(t){return MI(this,t,!0)};at.prototype.peek=function(t){return MI(this,t,!1)};at.prototype.pop=function(){var t=this[Wt].tail;return t?(Rl(this,t),t.value):null};at.prototype.del=function(t){Rl(this,this[ai].get(t))};at.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r],i=n.e||0;if(i===0)this.set(n.k,n.v);else{var s=i-e;s>0&&this.set(n.k,n.v,s)}}};at.prototype.prune=function(){var t=this;this[ai].forEach(function(e,r){MI(t,r,!1)})};function MI(t,e,r){var n=t[ai].get(e);if(n){var i=n.value;Ih(t,i)?(Rl(t,n),t[Ml]||(i=void 0)):r&&t[Wt].unshiftNode(n),i&&(i=i.value)}return i}function Ih(t,e){if(!e||!e.maxAge&&!t[ea])return!1;var r=!1,n=Date.now()-e.now;return e.maxAge?r=n>e.maxAge:r=t[ea]&&n>t[ea],r}function Ah(t){if(t[ns]>t[Rs])for(var e=t[Wt].tail;t[ns]>t[Rs]&&e!==null;){var r=e.prev;Rl(t,e),e=r}}function Rl(t,e){if(e){var r=e.value;t[Ms]&&t[Ms](r.key,r.value),t[ns]-=r.length,t[ai].delete(r.key),t[Wt].removeNode(e)}}function rie(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}});var FF=b((Exe,BF)=>{BF.exports=NF;NF.sync=iie;var kI=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",MF=require("path"),nie=kI?";":":",RF=Nb();function kF(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function OF(t,e){var r=e.colon||nie,n=e.path||process.env.PATH||"",i=[""];n=n.split(r);var s="";return kI&&(n.unshift(process.cwd()),s=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=s.split(r),t.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(t.match(/\//)||kI&&t.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:s}}function NF(t,e,r){typeof e=="function"&&(r=e,e={});var n=OF(t,e),i=n.env,s=n.ext,o=n.extExe,a=[];(function u(c,l){if(c===l)return e.all&&a.length?r(null,a):r(kF(t));var p=i[c];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var f=MF.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(f=t.slice(0,2)+f),function m(g,y){if(g===y)return u(c+1,l);var v=s[g];RF(f+v,{pathExt:o},function(w,R){if(!w&&R)if(e.all)a.push(f+v);else return r(null,f+v);return m(g+1,y)})}(0,s.length)})(0,i.length)}function iie(t,e){e=e||{};for(var r=OF(t,e),n=r.env,i=r.ext,s=r.extExe,o=[],a=0,u=n.length;a<u;a++){var c=n[a];c.charAt(0)==='"'&&c.slice(-1)==='"'&&(c=c.slice(1,-1));var l=MF.join(c,t);!c&&/^\.[\\\/]/.test(t)&&(l=t.slice(0,2)+l);for(var p=0,f=i.length;p<f;p++){var m=l+i[p],g;try{if(g=RF.sync(m,{pathExt:s}),g)if(e.all)o.push(m);else return m}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw kF(t)}});var WF=b((xxe,qF)=>{"use strict";var UF=require("path"),jF=FF(),sie=RI(),vy=new sie({max:50,maxAge:30*1e3}),oie=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function aie(t,e){var r;if(oie.test(t)&&(t=UF.resolve(t)),e=!!e,r=vy.get(t+"!"+e),vy.has(t))return vy.get(t);try{r=e?jF.sync(t,{pathExt:UF.delimiter+(process.env.PATHEXT||"")}):jF.sync(t)}catch{}return vy.set(t+"!"+e,r),r}qF.exports=aie});var XF=b((Cxe,KF)=>{"use strict";var OI=require("fs"),uie=RI(),VF=WF(),cie=process.platform==="win32",NI=new uie({max:50,maxAge:30*1e3});function lie(t){var e,r,n,i;if(NI.has(t))return NI.get(t);e=new Buffer(150);try{r=OI.openSync(t,"r"),OI.readSync(r,e,0,150,0),OI.closeSync(r)}catch{}return n=e.toString().trim().match(/#!(.+)/i),n&&(i=n[1].replace(/\/usr\/bin\/env\s+/i,"")),NI.set(t,i),i}function GF(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function pie(t){return/^[a-z0-9_-]+$/i.test(t)?t:GF(t,!0)}function fie(t,e,r){var n,i,s,o;return e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=r||{},o=t,cie&&(s=VF(t),s=s||VF(t,!0),n=s&&lie(s),n&&(e.unshift(s),t=n),i=t!=="echo",t=pie(t),e=e.map(function(a){return GF(a,i)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0),{command:t,args:e,options:r,file:s,original:o}}KF.exports=fie});var QF=b((Lxe,by)=>{"use strict";var zF=process.platform==="win32";function JF(t,e){var r;return r=new Error(e+" "+t+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=e+" "+t,r}function hie(t,e){var r;zF&&(r=t.emit,t.emit=function(n,i){var s;return n==="exit"&&(s=YF(i,e,"spawn"),s)?r.call(t,"error",s):r.apply(t,arguments)})}function YF(t,e,r){return zF&&t===1&&!e.file?JF(e.original,r):null}by.exports.hookChildProcess=hie;by.exports.verifyENOENT=YF;by.exports.notFoundError=JF});var r2=b((Pxe,Sh)=>{"use strict";var die=require("child_process"),ZF=XF(),e2=QF();function t2(t,e,r){var n,i;return n=ZF(t,e,r),i=die.spawn(n.command,n.args,n.options),e2.hookChildProcess(i,n),i}Sh.exports=t2;Sh.exports.spawn=t2;Sh.exports._parse=ZF;Sh.exports._enoent=e2});var i2=b((Dxe,n2)=>{"use strict";n2.exports=function(t){var e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var a2=b((Txe,o2)=>{"use strict";var s2=Object.getOwnPropertySymbols,mie=Object.prototype.hasOwnProperty,gie=Object.prototype.propertyIsEnumerable;function Hie(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function yie(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}o2.exports=yie()?Object.assign:function(t,e){for(var r,n=Hie(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)mie.call(r,o)&&(n[o]=r[o]);if(s2){i=s2(r);for(var a=0;a<i.length;a++)gie.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var BI=b(($xe,u2)=>{"use strict";u2.exports=function(t){t=t||{};var e=t.env||process.env,r=t.platform||process.platform;return r!=="win32"?"PATH":Object.keys(e).filter(function(n){return n.toUpperCase()==="PATH"})[0]||"Path"}});var l2=b((Mxe,c2)=>{"use strict";var Eh=require("path"),vie=BI();c2.exports=function(t){t=t||{};for(var e,r=Eh.resolve(t.cwd||"."),n=[];e!==r;)n.push(Eh.join(r,"node_modules/.bin")),e=r,r=Eh.resolve(r,"..");return n.push(Eh.dirname(process.execPath)),n.concat(t.path||process.env[vie()]).join(Eh.delimiter)}});var f2=b((Rxe,xh)=>{"use strict";var bie=require("child_process"),FI=r2(),_ie=i2(),UI=a2(),wie=l2(),p2=BI()(),Aie=1024*1024*10;xh.exports=function(t,e,r){return new Promise(function(n,i){var s=FI._parse(t,e,r);r=UI({maxBuffer:Aie,stripEof:!0,preferLocal:!0},s.options);var o=function(u){return r.stripEof&&(u=_ie(u)),u};r.preferLocal&&(r.env=UI({},r.env||process.env),r.env[p2]=wie({cwd:r.cwd,path:r.env[p2]}));var a=bie.execFile(s.command,s.args,r,function(u,c,l){if(u){u.stdout=c,u.stderr=l,i(u);return}n({stdout:o(c),stderr:o(l)})});FI._enoent.hookChildProcess(a,s)})};xh.exports.shell=function(t,e){var r,n;return e=UI({},e),process.platform==="win32"?(r=process.env.comspec||"cmd.exe",n=["/s","/c",'"'+t+'"'],e.windowsVerbatimArguments=!0):(r="/bin/sh",n=["-c",t]),e.shell&&(r=e.shell),xh.exports(r,n,e)};xh.exports.spawn=FI});var d2=b((kxe,h2)=>{"use strict";h2.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var g2=b((Oxe,m2)=>{"use strict";var Iie=f2(),Sie=d2();m2.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):Iie("xdg-mime",["query","default","x-scheme-handler/http"]).then(t=>{let e=t.stdout.trim();return{name:Sie(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var y2=b((Nxe,H2)=>{"use strict";var Eie=uF(),xie=AF();H2.exports=()=>process.platform==="linux"?g2()():process.platform==="darwin"?Eie().then(t=>xie(t).then(e=>({name:e,id:t}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var Os=b((uCe,qI)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?qI.exports={nextTick:Pie}:qI.exports=process;function Pie(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var WI=b((cCe,E2)=>{var Die={}.toString;E2.exports=Array.isArray||function(t){return Die.call(t)=="[object Array]"}});var VI=b((lCe,x2)=>{x2.exports=require("stream")});var Bs=b((GI,L2)=>{var Sy=require("buffer"),Ns=Sy.Buffer;function C2(t,e){for(var r in t)e[r]=t[r]}Ns.from&&Ns.alloc&&Ns.allocUnsafe&&Ns.allocUnsafeSlow?L2.exports=Sy:(C2(Sy,GI),GI.Buffer=Ol);function Ol(t,e,r){return Ns(t,e,r)}C2(Ns,Ol);Ol.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ns(t,e,r)};Ol.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Ns(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ol.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ns(t)};Ol.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Sy.SlowBuffer(t)}});var ci=b(wr=>{function Tie(t){return Array.isArray?Array.isArray(t):Ey(t)==="[object Array]"}wr.isArray=Tie;function $ie(t){return typeof t=="boolean"}wr.isBoolean=$ie;function Mie(t){return t===null}wr.isNull=Mie;function Rie(t){return t==null}wr.isNullOrUndefined=Rie;function kie(t){return typeof t=="number"}wr.isNumber=kie;function Oie(t){return typeof t=="string"}wr.isString=Oie;function Nie(t){return typeof t=="symbol"}wr.isSymbol=Nie;function Bie(t){return t===void 0}wr.isUndefined=Bie;function Fie(t){return Ey(t)==="[object RegExp]"}wr.isRegExp=Fie;function Uie(t){return typeof t=="object"&&t!==null}wr.isObject=Uie;function jie(t){return Ey(t)==="[object Date]"}wr.isDate=jie;function qie(t){return Ey(t)==="[object Error]"||t instanceof Error}wr.isError=qie;function Wie(t){return typeof t=="function"}wr.isFunction=Wie;function Vie(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}wr.isPrimitive=Vie;wr.isBuffer=Buffer.isBuffer;function Ey(t){return Object.prototype.toString.call(t)}});var P2=b((fCe,KI)=>{typeof Object.create=="function"?KI.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:KI.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Vt=b((hCe,zI)=>{try{if(XI=require("util"),typeof XI.inherits!="function")throw"";zI.exports=XI.inherits}catch{zI.exports=P2()}var XI});var T2=b((dCe,JI)=>{"use strict";function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var D2=Bs().Buffer,Lh=require("util");function Kie(t,e,r){t.copy(e,r)}JI.exports=function(){function t(){Gie(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return D2.alloc(0);if(this.length===1)return this.head.data;for(var n=D2.allocUnsafe(r>>>0),i=this.head,s=0;i;)Kie(i.data,n,s),s+=i.data.length,i=i.next;return n},t}();Lh&&Lh.inspect&&Lh.inspect.custom&&(JI.exports.prototype[Lh.inspect.custom]=function(){var t=Lh.inspect({length:this.length});return this.constructor.name+" "+t})});var YI=b((mCe,R2)=>{"use strict";var $2=Os();function Xie(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&$2.nextTick(M2,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?($2.nextTick(M2,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function zie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function M2(t,e){t.emit("error",e)}R2.exports={destroy:Xie,undestroy:zie}});var xy=b((gCe,k2)=>{k2.exports=require("util").deprecate});var ZI=b((HCe,W2)=>{"use strict";var gu=Os();W2.exports=Mt;function N2(t){var e=this;this.next=null,this.entry=null,this.finish=function(){hse(e,t)}}var Jie=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:gu.nextTick,Nl;Mt.WritableState=Dh;var B2=Object.create(ci());B2.inherits=Vt();var Yie={deprecate:xy()},F2=VI(),Ly=Bs().Buffer,Qie=global.Uint8Array||function(){};function Zie(t){return Ly.from(t)}function ese(t){return Ly.isBuffer(t)||t instanceof Qie}var U2=YI();B2.inherits(Mt,F2);function tse(){}function Dh(t,e){Nl=Nl||Hu(),t=t||{};var r=e instanceof Nl;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){use(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new N2(this)}Dh.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Dh.prototype,"buffer",{get:Yie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Cy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Cy=Function.prototype[Symbol.hasInstance],Object.defineProperty(Mt,Symbol.hasInstance,{value:function(t){return Cy.call(this,t)?!0:this!==Mt?!1:t&&t._writableState instanceof Dh}})):Cy=function(t){return t instanceof this};function Mt(t){if(Nl=Nl||Hu(),!Cy.call(Mt,this)&&!(this instanceof Nl))return new Mt(t);this._writableState=new Dh(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),F2.call(this)}Mt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function rse(t,e){var r=new Error("write after end");t.emit("error",r),gu.nextTick(e,r)}function nse(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),gu.nextTick(n,s),i=!1),i}Mt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ese(t);return s&&!Ly.isBuffer(t)&&(t=Zie(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=tse),n.ended?rse(this,r):(s||nse(this,n,t,r))&&(n.pendingcb++,i=sse(this,n,s,t,e,r)),i};Mt.prototype.cork=function(){var t=this._writableState;t.corked++};Mt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&j2(this,t))};Mt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function ise(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ly.from(e,r)),e}Object.defineProperty(Mt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function sse(t,e,r,n,i,s){if(!r){var o=ise(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else QI(t,e,!1,a,n,i,s);return u}function QI(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function ose(t,e,r,n,i){--e.pendingcb,r?(gu.nextTick(i,n),gu.nextTick(Ph,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Ph(t,e))}function ase(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function use(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(ase(r),e)ose(t,r,n,e,i);else{var s=q2(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&j2(t,r),n?Jie(O2,t,r,s,i):O2(t,r,s,i)}}function O2(t,e,r,n){r||cse(t,e),e.pendingcb--,n(),Ph(t,e)}function cse(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function j2(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,QI(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new N2(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(QI(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Mt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Mt.prototype._writev=null;Mt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&fse(this,n,r)};function q2(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function lse(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Ph(t,e)})}function pse(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,gu.nextTick(lse,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ph(t,e){var r=q2(e);return r&&(pse(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function fse(t,e,r){e.ending=!0,Ph(t,e),r&&(e.finished?gu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function hse(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Mt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Mt.prototype.destroy=U2.destroy;Mt.prototype._undestroy=U2.undestroy;Mt.prototype._destroy=function(t,e){this.end(),e(t)}});var Hu=b((yCe,X2)=>{"use strict";var V2=Os(),dse=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};X2.exports=Fs;var G2=Object.create(ci());G2.inherits=Vt();var K2=rS(),tS=ZI();G2.inherits(Fs,K2);for(eS=dse(tS.prototype),Py=0;Py<eS.length;Py++)Dy=eS[Py],Fs.prototype[Dy]||(Fs.prototype[Dy]=tS.prototype[Dy]);var eS,Dy,Py;function Fs(t){if(!(this instanceof Fs))return new Fs(t);K2.call(this,t),tS.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",mse)}Object.defineProperty(Fs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mse(){this.allowHalfOpen||this._writableState.ended||V2.nextTick(gse,this)}function gse(t){t.end()}Object.defineProperty(Fs.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Fs.prototype._destroy=function(t,e){this.push(null),this.end(),V2.nextTick(e,t)}});var sS=b(J2=>{"use strict";var iS=Bs().Buffer,z2=iS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Hse(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function yse(t){var e=Hse(t);if(typeof e!="string"&&(iS.isEncoding===z2||!z2(t)))throw new Error("Unknown encoding: "+t);return e||t}J2.StringDecoder=Th;function Th(t){this.encoding=yse(t);var e;switch(this.encoding){case"utf16le":this.text=Ise,this.end=Sse,e=4;break;case"utf8":this.fillLast=_se,e=4;break;case"base64":this.text=Ese,this.end=xse,e=3;break;default:this.write=Cse,this.end=Lse;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=iS.allocUnsafe(e)}Th.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Th.prototype.end=Ase;Th.prototype.text=wse;Th.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function nS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function vse(t,e,r){var n=e.length-1;if(n<r)return 0;var i=nS(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=nS(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=nS(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function bse(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function _se(t){var e=this.lastTotal-this.lastNeed,r=bse(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function wse(t,e){var r=vse(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Ase(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Ise(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Sse(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Ese(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function xse(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Cse(t){return t.toString(this.encoding)}function Lse(t){return t&&t.length?this.write(t):""}});var rS=b((_Ce,u3)=>{"use strict";var Fl=Os();u3.exports=ut;var Pse=WI(),$h;ut.ReadableState=n3;var bCe=require("events").EventEmitter,e3=function(t,e){return t.listeners(e).length},lS=VI(),Mh=Bs().Buffer,Dse=global.Uint8Array||function(){};function Tse(t){return Mh.from(t)}function $se(t){return Mh.isBuffer(t)||t instanceof Dse}var t3=Object.create(ci());t3.inherits=Vt();var oS=require("util"),Fe=void 0;oS&&oS.debuglog?Fe=oS.debuglog("stream"):Fe=function(){};var Mse=T2(),r3=YI(),Bl;t3.inherits(ut,lS);var aS=["error","close","destroy","pause","resume"];function Rse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Pse(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function n3(t,e){$h=$h||Hu(),t=t||{};var r=e instanceof $h;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Mse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Bl||(Bl=sS().StringDecoder),this.decoder=new Bl(t.encoding),this.encoding=t.encoding)}function ut(t){if($h=$h||Hu(),!(this instanceof ut))return new ut(t);this._readableState=new n3(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),lS.call(this)}Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});ut.prototype.destroy=r3.destroy;ut.prototype._undestroy=r3.undestroy;ut.prototype._destroy=function(t,e){this.push(null),e(t)};ut.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Mh.from(t,e),e=""),n=!0),i3(this,t,e,!1,n)};ut.prototype.unshift=function(t){return i3(this,t,null,!0,!1)};function i3(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,Bse(t,s);else{var o;i||(o=kse(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Mh.prototype&&(e=Tse(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):uS(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?uS(t,s,e,!1):s3(t,s)):uS(t,s,e,!1))):n||(s.reading=!1)}return Ose(s)}function uS(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ty(t)),s3(t,e)}function kse(t,e){var r;return!$se(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Ose(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}ut.prototype.isPaused=function(){return this._readableState.flowing===!1};ut.prototype.setEncoding=function(t){return Bl||(Bl=sS().StringDecoder),this._readableState.decoder=new Bl(t),this._readableState.encoding=t,this};var Y2=8388608;function Nse(t){return t>=Y2?t=Y2:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Q2(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Nse(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ut.prototype.read=function(t){Fe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Fe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?cS(this):Ty(this),null;if(t=Q2(t,e),t===0&&e.ended)return e.length===0&&cS(this),null;var n=e.needReadable;Fe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Fe("length less than watermark",n)),e.ended||e.reading?(n=!1,Fe("reading or ended",n)):n&&(Fe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Q2(r,e)));var i;return t>0?i=o3(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&cS(this)),i!==null&&this.emit("data",i),i};function Bse(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Ty(t)}}function Ty(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Fe("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Fl.nextTick(Z2,t):Z2(t))}function Z2(t){Fe("emit readable"),t.emit("readable"),pS(t)}function s3(t,e){e.readingMore||(e.readingMore=!0,Fl.nextTick(Fse,t,e))}function Fse(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Fe("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}ut.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};ut.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Fe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:v;n.endEmitted?Fl.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(w,R){Fe("onunpipe"),w===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,l())}function a(){Fe("onend"),t.end()}var u=Use(r);t.on("drain",u);var c=!1;function l(){Fe("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(w){Fe("ondata"),p=!1;var R=t.write(w);R===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&a3(n.pipes,t)!==-1)&&!c&&(Fe("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(w){Fe("onerror",w),v(),t.removeListener("error",m),e3(t,"error")===0&&t.emit("error",w)}Rse(t,"error",m);function g(){t.removeListener("finish",y),v()}t.once("close",g);function y(){Fe("onfinish"),t.removeListener("close",g),v()}t.once("finish",y);function v(){Fe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Fe("pipe resume"),r.resume()),t};function Use(t){return function(){var e=t._readableState;Fe("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&e3(t,"data")&&(e.flowing=!0,pS(t))}}ut.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=a3(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ut.prototype.on=function(t,e){var r=lS.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ty(this):Fl.nextTick(jse,this))}return r};ut.prototype.addListener=ut.prototype.on;function jse(t){Fe("readable nexttick read 0"),t.read(0)}ut.prototype.resume=function(){var t=this._readableState;return t.flowing||(Fe("resume"),t.flowing=!0,qse(this,t)),this};function qse(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Fl.nextTick(Wse,t,e))}function Wse(t,e){e.reading||(Fe("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),pS(t),e.flowing&&!e.reading&&t.read(0)}ut.prototype.pause=function(){return Fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function pS(t){var e=t._readableState;for(Fe("flow",e.flowing);e.flowing&&t.read()!==null;);}ut.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Fe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Fe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var s=0;s<aS.length;s++)t.on(aS[s],this.emit.bind(this,aS[s]));return this._read=function(o){Fe("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(ut.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ut._fromList=o3;function o3(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Vse(t,e.buffer,e.decoder),r}function Vse(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?Gse(t,e):Kse(t,e),n}function Gse(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function Kse(t,e){var r=Mh.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function cS(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Fl.nextTick(Xse,e,t))}function Xse(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function a3(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var fS=b((wCe,p3)=>{"use strict";p3.exports=Us;var $y=Hu(),l3=Object.create(ci());l3.inherits=Vt();l3.inherits(Us,$y);function zse(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Us(t){if(!(this instanceof Us))return new Us(t);$y.call(this,t),this._transformState={afterTransform:zse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Jse)}function Jse(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){c3(t,e,r)}):c3(this,null,null)}Us.prototype.push=function(t,e){return this._transformState.needTransform=!1,$y.prototype.push.call(this,t,e)};Us.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Us.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Us.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Us.prototype._destroy=function(t,e){var r=this;$y.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function c3(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var m3=b((ACe,d3)=>{"use strict";d3.exports=Rh;var f3=fS(),h3=Object.create(ci());h3.inherits=Vt();h3.inherits(Rh,f3);function Rh(t){if(!(this instanceof Rh))return new Rh(t);f3.call(this,t)}Rh.prototype._transform=function(t,e,r){r(null,t)}});var g3=b((or,My)=>{var is=require("stream");process.env.READABLE_STREAM==="disable"&&is?(My.exports=is,or=My.exports=is.Readable,or.Readable=is.Readable,or.Writable=is.Writable,or.Duplex=is.Duplex,or.Transform=is.Transform,or.PassThrough=is.PassThrough,or.Stream=is):(or=My.exports=rS(),or.Stream=is||or,or.Readable=or,or.Writable=ZI(),or.Duplex=Hu(),or.Transform=fS(),or.PassThrough=m3())});var v3=b((ICe,y3)=>{var H3=g3(),Yse=require("util");function Qse(t){return!(typeof t.pipe!="function"||!t.readable||typeof t._read!="function"||!t._readableState)}function Zse(t,e){if(!Qse(e))throw new Error("All input streams must be readable");var r=this;e._buffer=[],e.on("readable",function(){for(var n=e.read();n;)this===t[0]?r.push(n):this._buffer.push(n),n=e.read()}),e.on("end",function(){for(var n=t[0];n&&n._readableState.ended;n=t[0]){for(;n._buffer.length;)r.push(n._buffer.shift());t.shift()}t.length||r.push(null)}),e.on("error",this.emit.bind(this,"error")),t.push(e)}function kh(t,e){if(!(this instanceof kh))return new kh(t,e);if(t=t||[],e=e||{},e.objectMode=!0,H3.call(this,e),Array.isArray(t)||(t=[t]),!t.length)return this.push(null);var r=Zse.bind(this,[]);t.forEach(function(n){Array.isArray(n)?n.forEach(r):r(n)})}Yse.inherits(kh,H3);kh.prototype._read=function(){};y3.exports=kh});var hS=b((SCe,b3)=>{b3.exports=require("stream")});var w3=b((ECe,dS)=>{"use strict";function eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _3=Bs().Buffer,Oh=require("util");function toe(t,e,r){t.copy(e,r)}dS.exports=function(){function t(){eoe(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return _3.alloc(0);if(this.length===1)return this.head.data;for(var n=_3.allocUnsafe(r>>>0),i=this.head,s=0;i;)toe(i.data,n,s),s+=i.data.length,i=i.next;return n},t}();Oh&&Oh.inspect&&Oh.inspect.custom&&(dS.exports.prototype[Oh.inspect.custom]=function(){var t=Oh.inspect({length:this.length});return this.constructor.name+" "+t})});var mS=b((xCe,S3)=>{"use strict";var A3=Os();function roe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&A3.nextTick(I3,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(A3.nextTick(I3,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function noe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function I3(t,e){t.emit("error",e)}S3.exports={destroy:roe,undestroy:noe}});var HS=b((CCe,$3)=>{"use strict";var yu=Os();$3.exports=Rt;function x3(t){var e=this;this.next=null,this.entry=null,this.finish=function(){_oe(e,t)}}var ioe=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:yu.nextTick,Ul;Rt.WritableState=Bh;var C3=ci();C3.inherits=Vt();var soe={deprecate:xy()},L3=hS(),ky=Bs().Buffer,ooe=global.Uint8Array||function(){};function aoe(t){return ky.from(t)}function uoe(t){return ky.isBuffer(t)||t instanceof ooe}var P3=mS();C3.inherits(Rt,L3);function coe(){}function Bh(t,e){Ul=Ul||vu(),t=t||{};var r=e instanceof Ul;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){goe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new x3(this)}Bh.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Bh.prototype,"buffer",{get:soe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ry;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ry=Function.prototype[Symbol.hasInstance],Object.defineProperty(Rt,Symbol.hasInstance,{value:function(t){return Ry.call(this,t)?!0:this!==Rt?!1:t&&t._writableState instanceof Bh}})):Ry=function(t){return t instanceof this};function Rt(t){if(Ul=Ul||vu(),!Ry.call(Rt,this)&&!(this instanceof Ul))return new Rt(t);this._writableState=new Bh(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),L3.call(this)}Rt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function loe(t,e){var r=new Error("write after end");t.emit("error",r),yu.nextTick(e,r)}function poe(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),yu.nextTick(n,s),i=!1),i}Rt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&uoe(t);return s&&!ky.isBuffer(t)&&(t=aoe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=coe),n.ended?loe(this,r):(s||poe(this,n,t,r))&&(n.pendingcb++,i=hoe(this,n,s,t,e,r)),i};Rt.prototype.cork=function(){var t=this._writableState;t.corked++};Rt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&D3(this,t))};Rt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function foe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ky.from(e,r)),e}Object.defineProperty(Rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function hoe(t,e,r,n,i,s){if(!r){var o=foe(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else gS(t,e,!1,a,n,i,s);return u}function gS(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function doe(t,e,r,n,i){--e.pendingcb,r?(yu.nextTick(i,n),yu.nextTick(Nh,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Nh(t,e))}function moe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function goe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(moe(r),e)doe(t,r,n,e,i);else{var s=T3(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&D3(t,r),n?ioe(E3,t,r,s,i):E3(t,r,s,i)}}function E3(t,e,r,n){r||Hoe(t,e),e.pendingcb--,n(),Nh(t,e)}function Hoe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function D3(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,gS(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new x3(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(gS(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Rt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Rt.prototype._writev=null;Rt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&boe(this,n,r)};function T3(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function yoe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Nh(t,e)})}function voe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,yu.nextTick(yoe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Nh(t,e){var r=T3(e);return r&&(voe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function boe(t,e,r){e.ending=!0,Nh(t,e),r&&(e.finished?yu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function _oe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Rt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Rt.prototype.destroy=P3.destroy;Rt.prototype._undestroy=P3.undestroy;Rt.prototype._destroy=function(t,e){this.end(),e(t)}});var vu=b((LCe,O3)=>{"use strict";var M3=Os(),woe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};O3.exports=js;var R3=ci();R3.inherits=Vt();var k3=bS(),vS=HS();R3.inherits(js,k3);for(yS=woe(vS.prototype),Oy=0;Oy<yS.length;Oy++)Ny=yS[Oy],js.prototype[Ny]||(js.prototype[Ny]=vS.prototype[Ny]);var yS,Ny,Oy;function js(t){if(!(this instanceof js))return new js(t);k3.call(this,t),vS.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Aoe)}Object.defineProperty(js.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Aoe(){this.allowHalfOpen||this._writableState.ended||M3.nextTick(Ioe,this)}function Ioe(t){t.end()}Object.defineProperty(js.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});js.prototype._destroy=function(t,e){this.push(null),this.end(),M3.nextTick(e,t)}});var AS=b(B3=>{"use strict";var wS=Bs().Buffer,N3=wS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Soe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Eoe(t){var e=Soe(t);if(typeof e!="string"&&(wS.isEncoding===N3||!N3(t)))throw new Error("Unknown encoding: "+t);return e||t}B3.StringDecoder=Fh;function Fh(t){this.encoding=Eoe(t);var e;switch(this.encoding){case"utf16le":this.text=Toe,this.end=$oe,e=4;break;case"utf8":this.fillLast=Loe,e=4;break;case"base64":this.text=Moe,this.end=Roe,e=3;break;default:this.write=koe,this.end=Ooe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=wS.allocUnsafe(e)}Fh.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Fh.prototype.end=Doe;Fh.prototype.text=Poe;Fh.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function _S(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function xoe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=_S(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=_S(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=_S(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Coe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Loe(t){var e=this.lastTotal-this.lastNeed,r=Coe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Poe(t,e){var r=xoe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Doe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Toe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function $oe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Moe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Roe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function koe(t){return t.toString(this.encoding)}function Ooe(t){return t&&t.length?this.write(t):""}});var bS=b((TCe,Y3)=>{"use strict";var ql=Os();Y3.exports=ct;var Noe=WI(),Uh;ct.ReadableState=G3;var DCe=require("events").EventEmitter,q3=function(t,e){return t.listeners(e).length},CS=hS(),jh=Bs().Buffer,Boe=global.Uint8Array||function(){};function Foe(t){return jh.from(t)}function Uoe(t){return jh.isBuffer(t)||t instanceof Boe}var W3=ci();W3.inherits=Vt();var IS=require("util"),Ue=void 0;IS&&IS.debuglog?Ue=IS.debuglog("stream"):Ue=function(){};var joe=w3(),V3=mS(),jl;W3.inherits(ct,CS);var SS=["error","close","destroy","pause","resume"];function qoe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Noe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function G3(t,e){Uh=Uh||vu(),t=t||{};var r=e instanceof Uh;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new joe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(jl||(jl=AS().StringDecoder),this.decoder=new jl(t.encoding),this.encoding=t.encoding)}function ct(t){if(Uh=Uh||vu(),!(this instanceof ct))return new ct(t);this._readableState=new G3(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),CS.call(this)}Object.defineProperty(ct.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});ct.prototype.destroy=V3.destroy;ct.prototype._undestroy=V3.undestroy;ct.prototype._destroy=function(t,e){this.push(null),e(t)};ct.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=jh.from(t,e),e=""),n=!0),K3(this,t,e,!1,n)};ct.prototype.unshift=function(t){return K3(this,t,null,!0,!1)};function K3(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,Koe(t,s);else{var o;i||(o=Woe(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==jh.prototype&&(e=Foe(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):ES(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?ES(t,s,e,!1):X3(t,s)):ES(t,s,e,!1))):n||(s.reading=!1)}return Voe(s)}function ES(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&By(t)),X3(t,e)}function Woe(t,e){var r;return!Uoe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Voe(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}ct.prototype.isPaused=function(){return this._readableState.flowing===!1};ct.prototype.setEncoding=function(t){return jl||(jl=AS().StringDecoder),this._readableState.decoder=new jl(t),this._readableState.encoding=t,this};var F3=8388608;function Goe(t){return t>=F3?t=F3:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function U3(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Goe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ct.prototype.read=function(t){Ue("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ue("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?xS(this):By(this),null;if(t=U3(t,e),t===0&&e.ended)return e.length===0&&xS(this),null;var n=e.needReadable;Ue("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ue("length less than watermark",n)),e.ended||e.reading?(n=!1,Ue("reading or ended",n)):n&&(Ue("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=U3(r,e)));var i;return t>0?i=z3(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&xS(this)),i!==null&&this.emit("data",i),i};function Koe(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,By(t)}}function By(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ue("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ql.nextTick(j3,t):j3(t))}function j3(t){Ue("emit readable"),t.emit("readable"),LS(t)}function X3(t,e){e.readingMore||(e.readingMore=!0,ql.nextTick(Xoe,t,e))}function Xoe(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ue("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}ct.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};ct.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ue("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:v;n.endEmitted?ql.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(w,R){Ue("onunpipe"),w===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,l())}function a(){Ue("onend"),t.end()}var u=zoe(r);t.on("drain",u);var c=!1;function l(){Ue("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(w){Ue("ondata"),p=!1;var R=t.write(w);R===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&J3(n.pipes,t)!==-1)&&!c&&(Ue("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(w){Ue("onerror",w),v(),t.removeListener("error",m),q3(t,"error")===0&&t.emit("error",w)}qoe(t,"error",m);function g(){t.removeListener("finish",y),v()}t.once("close",g);function y(){Ue("onfinish"),t.removeListener("close",g),v()}t.once("finish",y);function v(){Ue("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ue("pipe resume"),r.resume()),t};function zoe(t){return function(){var e=t._readableState;Ue("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&q3(t,"data")&&(e.flowing=!0,LS(t))}}ct.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=J3(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ct.prototype.on=function(t,e){var r=CS.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&By(this):ql.nextTick(Joe,this))}return r};ct.prototype.addListener=ct.prototype.on;function Joe(t){Ue("readable nexttick read 0"),t.read(0)}ct.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ue("resume"),t.flowing=!0,Yoe(this,t)),this};function Yoe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ql.nextTick(Qoe,t,e))}function Qoe(t,e){e.reading||(Ue("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),LS(t),e.flowing&&!e.reading&&t.read(0)}ct.prototype.pause=function(){return Ue("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function LS(t){var e=t._readableState;for(Ue("flow",e.flowing);e.flowing&&t.read()!==null;);}ct.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ue("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ue("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var s=0;s<SS.length;s++)t.on(SS[s],this.emit.bind(this,SS[s]));return this._read=function(o){Ue("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(ct.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ct._fromList=z3;function z3(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Zoe(t,e.buffer,e.decoder),r}function Zoe(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?eae(t,e):tae(t,e),n}function eae(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function tae(t,e){var r=jh.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function xS(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ql.nextTick(rae,e,t))}function rae(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function J3(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var PS=b(($Ce,eU)=>{"use strict";eU.exports=qs;var Fy=vu(),Z3=ci();Z3.inherits=Vt();Z3.inherits(qs,Fy);function nae(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function qs(t){if(!(this instanceof qs))return new qs(t);Fy.call(this,t),this._transformState={afterTransform:nae.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",iae)}function iae(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){Q3(t,e,r)}):Q3(this,null,null)}qs.prototype.push=function(t,e){return this._transformState.needTransform=!1,Fy.prototype.push.call(this,t,e)};qs.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};qs.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};qs.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};qs.prototype._destroy=function(t,e){var r=this;Fy.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function Q3(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var iU=b((MCe,nU)=>{"use strict";nU.exports=qh;var tU=PS(),rU=ci();rU.inherits=Vt();rU.inherits(qh,tU);function qh(t){if(!(this instanceof qh))return new qh(t);tU.call(this,t)}qh.prototype._transform=function(t,e,r){r(null,t)}});var sU=b((ar,Uy)=>{var ss=require("stream");process.env.READABLE_STREAM==="disable"&&ss?(Uy.exports=ss,ar=Uy.exports=ss.Readable,ar.Readable=ss.Readable,ar.Writable=ss.Writable,ar.Duplex=ss.Duplex,ar.Transform=ss.Transform,ar.PassThrough=ss.PassThrough,ar.Stream=ss):(ar=Uy.exports=bS(),ar.Stream=ss||ar,ar.Readable=ar,ar.Writable=HS(),ar.Duplex=vu(),ar.Transform=PS(),ar.PassThrough=iU())});var DS=b((RCe,oU)=>{oU.exports=oae;var sae=Object.prototype.hasOwnProperty;function oae(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)sae.call(r,n)&&(t[n]=r[n])}return t}});var lU=b((kCe,jy)=>{var aU=sU().Transform,uU=require("util").inherits,cU=DS();function Wl(t){aU.call(this,t),this._destroyed=!1}uU(Wl,aU);Wl.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function aae(t,e,r){r(null,t)}function TS(t){return function(e,r,n){return typeof e=="function"&&(n=r,r=e,e={}),typeof r!="function"&&(r=aae),typeof n!="function"&&(n=null),t(e,r,n)}}jy.exports=TS(function(t,e,r){var n=new Wl(t);return n._transform=e,r&&(n._flush=r),n});jy.exports.ctor=TS(function(t,e,r){function n(i){if(!(this instanceof n))return new n(i);this.options=cU(t,i),Wl.call(this,this.options)}return uU(n,Wl),n.prototype._transform=e,r&&(n.prototype._flush=r),n});jy.exports.obj=TS(function(t,e,r){var n=new Wl(cU({objectMode:!0,highWaterMark:16},t));return n._transform=e,r&&(n._flush=r),n})});var hU=b((OCe,Wh)=>{"use strict";Wh.exports=fU;Wh.exports.ctor=$S;Wh.exports.objCtor=cae;Wh.exports.obj=lae;var uae=lU(),pU=DS();function $S(t,e){typeof t=="function"&&(e=t,t={});var r=uae.ctor(t,function(n,i,s){this.options.wantStrings&&(n=n.toString());try{return e.call(this,n,this._index++)&&this.push(n),s()}catch(o){return s(o)}});return r.prototype._index=0,r}function cae(t,e){return typeof t=="function"&&(e=t,t={}),t=pU({objectMode:!0,highWaterMark:16},t),$S(t,e)}function fU(t,e){return $S(t,e)()}function lae(t,e){return typeof t=="function"&&(e=t,t={}),t=pU({objectMode:!0,highWaterMark:16},t),fU(t,e)}});var mU=b((NCe,dU)=>{dU.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=e.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof e.cycles=="boolean"?e.cycles:!1,i=e.replacer||function(a,u){return u},s=e.cmp&&function(a){return function(u){return function(c,l){var p={key:c,value:u[c]},f={key:l,value:u[l]};return a(p,f)}}}(e.cmp),o=[];return function a(u,c,l,p){var f=r?`
`+new Array(p+1).join(r):"",m=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l=i.call(u,c,l),l!==void 0){if(typeof l!="object"||l===null)return JSON.stringify(l);if(pae(l)){for(var g=[],y=0;y<l.length;y++){var v=a(l,y,l[y],p+1)||JSON.stringify(null);g.push(f+r+v)}return"["+g.join(",")+f+"]"}else{if(o.indexOf(l)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else o.push(l);for(var w=fae(l).sort(s&&s(l)),g=[],y=0;y<w.length;y++){var c=w[y],R=a(l,c,l[c],p+1);if(R){var U=JSON.stringify(c)+m+R;g.push(f+r+U)}}return o.splice(o.indexOf(l),1),"{"+g.join(",")+f+"}"}}}({"":t},"",t,0)};var pae=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},fae=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}});var HU=b((BCe,gU)=>{"use strict";var hae=hU().obj,dae=mU(),MS;typeof global.Set=="function"?MS=global.Set:MS=function(){this.keys=[],this.has=function(t){return this.keys.indexOf(t)!==-1},this.add=function(t){this.keys.push(t)}};function mae(t){return function(e){return e[t]}}gU.exports=gae;function gae(t,e){e=e||new MS;var r=dae;return typeof t=="string"?r=mae(t):typeof t=="function"&&(r=t),hae(function(n){var i=r(n);return e.has(i)?!1:(e.add(i),!0)})}});var bU=b((FCe,vU)=>{var Hae=Al(),yae=qH(),RS=require("fs"),Vh=function(){},vae=/^v?\.0/.test(process.version),qy=function(t){return typeof t=="function"},bae=function(t){return!vae||!RS?!1:(t instanceof(RS.ReadStream||Vh)||t instanceof(RS.WriteStream||Vh))&&qy(t.close)},_ae=function(t){return t.setHeader&&qy(t.abort)},wae=function(t,e,r,n){n=Hae(n);var i=!1;t.on("close",function(){i=!0}),yae(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,bae(t))return t.close(Vh);if(_ae(t))return t.abort();if(qy(t.destroy))return t.destroy();n(o||new Error("stream was destroyed"))}}},yU=function(t){t()},Aae=function(t,e){return t.pipe(e)},Iae=function(){var t=Array.prototype.slice.call(arguments),e=qy(t[t.length-1]||Vh)&&t.pop()||Vh;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,s){var o=s<t.length-1,a=s>0;return wae(i,o,a,function(u){r||(r=u),u&&n.forEach(yU),!o&&(n.forEach(yU),e(r))})});return t.reduce(Aae)};vU.exports=Iae});var kS=b((UCe,_U)=>{_U.exports=require("stream")});var SU=b((jCe,IU)=>{"use strict";function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){Eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cae(t,e,r){return e&&AU(t.prototype,e),r&&AU(t,r),t}var Lae=require("buffer"),Wy=Lae.Buffer,Pae=require("util"),OS=Pae.inspect,Dae=OS&&OS.custom||"inspect";function Tae(t,e,r){Wy.prototype.copy.call(t,e,r)}IU.exports=function(){function t(){xae(this,t),this.head=null,this.tail=null,this.length=0}return Cae(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Wy.alloc(0);for(var n=Wy.allocUnsafe(r>>>0),i=this.head,s=0;i;)Tae(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Wy.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:Dae,value:function(r,n){return OS(this,Sae({},n,{depth:0,customInspect:!1}))}}]),t}()});var BS=b((qCe,xU)=>{"use strict";function $ae(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(NS,this,t)):process.nextTick(NS,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Vy,r):(r._writableState.errorEmitted=!0,process.nextTick(EU,r,s)):process.nextTick(EU,r,s):e?(process.nextTick(Vy,r),e(s)):process.nextTick(Vy,r)}),this)}function EU(t,e){NS(t,e),Vy(t)}function Vy(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Mae(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function NS(t,e){t.emit("error",e)}function Rae(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}xU.exports={destroy:$ae,undestroy:Mae,errorOrDestroy:Rae}});var ta=b((WCe,PU)=>{"use strict";var LU={};function Mn(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}class i extends r{constructor(o,a,u){super(n(o,a,u))}}i.prototype.name=r.name,i.prototype.code=t,LU[t]=i}function CU(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function kae(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Oae(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Nae(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Mn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Mn("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&kae(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(Oae(t," argument"))i=`The ${t} ${n} ${CU(e,"type")}`;else{let s=Nae(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${CU(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);Mn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Mn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Mn("ERR_STREAM_PREMATURE_CLOSE","Premature close");Mn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Mn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Mn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Mn("ERR_STREAM_WRITE_AFTER_END","write after end");Mn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Mn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Mn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");PU.exports.codes=LU});var FS=b((VCe,DU)=>{"use strict";var Bae=ta().codes.ERR_INVALID_OPT_VALUE;function Fae(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Uae(t,e,r,n){var i=Fae(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Bae(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}DU.exports={getHighWaterMark:Uae}});var qS=b((GCe,OU)=>{"use strict";OU.exports=bt;function $U(t){var e=this;this.next=null,this.entry=null,this.finish=function(){due(e,t)}}var Vl;bt.WritableState=Kh;var jae={deprecate:xy()},MU=kS(),Ky=require("buffer").Buffer,qae=global.Uint8Array||function(){};function Wae(t){return Ky.from(t)}function Vae(t){return Ky.isBuffer(t)||t instanceof qae}var jS=BS(),Gae=FS(),Kae=Gae.getHighWaterMark,ra=ta().codes,Xae=ra.ERR_INVALID_ARG_TYPE,zae=ra.ERR_METHOD_NOT_IMPLEMENTED,Jae=ra.ERR_MULTIPLE_CALLBACK,Yae=ra.ERR_STREAM_CANNOT_PIPE,Qae=ra.ERR_STREAM_DESTROYED,Zae=ra.ERR_STREAM_NULL_VALUES,eue=ra.ERR_STREAM_WRITE_AFTER_END,tue=ra.ERR_UNKNOWN_ENCODING,Gl=jS.errorOrDestroy;Vt()(bt,MU);function rue(){}function Kh(t,e,r){Vl=Vl||bu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Vl),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Kae(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){cue(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new $U(this)}Kh.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Kh.prototype,"buffer",{get:jae.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Gy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Gy=Function.prototype[Symbol.hasInstance],Object.defineProperty(bt,Symbol.hasInstance,{value:function(e){return Gy.call(this,e)?!0:this!==bt?!1:e&&e._writableState instanceof Kh}})):Gy=function(e){return e instanceof this};function bt(t){Vl=Vl||bu();var e=this instanceof Vl;if(!e&&!Gy.call(bt,this))return new bt(t);this._writableState=new Kh(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),MU.call(this)}bt.prototype.pipe=function(){Gl(this,new Yae)};function nue(t,e){var r=new eue;Gl(t,r),process.nextTick(e,r)}function iue(t,e,r,n){var i;return r===null?i=new Zae:typeof r!="string"&&!e.objectMode&&(i=new Xae("chunk",["string","Buffer"],r)),i?(Gl(t,i),process.nextTick(n,i),!1):!0}bt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Vae(t);return s&&!Ky.isBuffer(t)&&(t=Wae(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=rue),n.ending?nue(this,r):(s||iue(this,n,t,r))&&(n.pendingcb++,i=oue(this,n,s,t,e,r)),i};bt.prototype.cork=function(){this._writableState.corked++};bt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&RU(this,t))};bt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new tue(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(bt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function sue(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ky.from(e,r)),e}Object.defineProperty(bt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function oue(t,e,r,n,i,s){if(!r){var o=sue(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else US(t,e,!1,a,n,i,s);return u}function US(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Qae("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function aue(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Gh,t,e),t._writableState.errorEmitted=!0,Gl(t,n)):(i(n),t._writableState.errorEmitted=!0,Gl(t,n),Gh(t,e))}function uue(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function cue(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Jae;if(uue(r),e)aue(t,r,n,e,i);else{var s=kU(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&RU(t,r),n?process.nextTick(TU,t,r,s,i):TU(t,r,s,i)}}function TU(t,e,r,n){r||lue(t,e),e.pendingcb--,n(),Gh(t,e)}function lue(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function RU(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,US(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new $U(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(US(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}bt.prototype._write=function(t,e,r){r(new zae("_write()"))};bt.prototype._writev=null;bt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||hue(this,n,r),this};Object.defineProperty(bt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kU(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function pue(t,e){t._final(function(r){e.pendingcb--,r&&Gl(t,r),e.prefinished=!0,t.emit("prefinish"),Gh(t,e)})}function fue(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(pue,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Gh(t,e){var r=kU(e);if(r&&(fue(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function hue(t,e,r){e.ending=!0,Gh(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function due(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(bt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});bt.prototype.destroy=jS.destroy;bt.prototype._undestroy=jS.undestroy;bt.prototype._destroy=function(t,e){e(t)}});var bu=b((KCe,BU)=>{"use strict";var mue=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};BU.exports=os;var NU=GS(),VS=qS();Vt()(os,NU);for(WS=mue(VS.prototype),Xy=0;Xy<WS.length;Xy++)zy=WS[Xy],os.prototype[zy]||(os.prototype[zy]=VS.prototype[zy]);var WS,zy,Xy;function os(t){if(!(this instanceof os))return new os(t);NU.call(this,t),VS.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gue)))}Object.defineProperty(os.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(os.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(os.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function gue(){this._writableState.ended||process.nextTick(Hue,this)}function Hue(t){t.end()}Object.defineProperty(os.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var jU=b((KS,UU)=>{var Jy=require("buffer"),as=Jy.Buffer;function FU(t,e){for(var r in t)e[r]=t[r]}as.from&&as.alloc&&as.allocUnsafe&&as.allocUnsafeSlow?UU.exports=Jy:(FU(Jy,KS),KS.Buffer=_u);function _u(t,e,r){return as(t,e,r)}_u.prototype=Object.create(as.prototype);FU(as,_u);_u.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return as(t,e,r)};_u.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=as(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};_u.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return as(t)};_u.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Jy.SlowBuffer(t)}});var JS=b(WU=>{"use strict";var zS=jU().Buffer,qU=zS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yue(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function vue(t){var e=yue(t);if(typeof e!="string"&&(zS.isEncoding===qU||!qU(t)))throw new Error("Unknown encoding: "+t);return e||t}WU.StringDecoder=Xh;function Xh(t){this.encoding=vue(t);var e;switch(this.encoding){case"utf16le":this.text=Sue,this.end=Eue,e=4;break;case"utf8":this.fillLast=wue,e=4;break;case"base64":this.text=xue,this.end=Cue,e=3;break;default:this.write=Lue,this.end=Pue;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=zS.allocUnsafe(e)}Xh.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Xh.prototype.end=Iue;Xh.prototype.text=Aue;Xh.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function XS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function bue(t,e,r){var n=e.length-1;if(n<r)return 0;var i=XS(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=XS(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=XS(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function _ue(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function wue(t){var e=this.lastTotal-this.lastNeed,r=_ue(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Aue(t,e){var r=bue(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Iue(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Sue(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Eue(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function xue(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Cue(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Lue(t){return t.toString(this.encoding)}function Pue(t){return t&&t.length?this.write(t):""}});var Yy=b((zCe,KU)=>{"use strict";var VU=ta().codes.ERR_STREAM_PREMATURE_CLOSE;function Due(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Tue(){}function $ue(t){return t.setHeader&&typeof t.abort=="function"}function GU(t,e,r){if(typeof e=="function")return GU(t,null,e);e||(e={}),r=Due(r||Tue);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(g){r.call(t,g)},p=function(){var g;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(g=new VU),r.call(t,g);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new VU),r.call(t,g)},f=function(){t.req.on("finish",a)};return $ue(t)?(t.on("complete",a),t.on("abort",p),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",p)}}KU.exports=GU});var zU=b((JCe,XU)=>{"use strict";var Qy;function na(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mue=Yy(),ia=Symbol("lastResolve"),wu=Symbol("lastReject"),zh=Symbol("error"),Zy=Symbol("ended"),Au=Symbol("lastPromise"),YS=Symbol("handlePromise"),Iu=Symbol("stream");function sa(t,e){return{value:t,done:e}}function Rue(t){var e=t[ia];if(e!==null){var r=t[Iu].read();r!==null&&(t[Au]=null,t[ia]=null,t[wu]=null,e(sa(r,!1)))}}function kue(t){process.nextTick(Rue,t)}function Oue(t,e){return function(r,n){t.then(function(){if(e[Zy]){r(sa(void 0,!0));return}e[YS](r,n)},n)}}var Nue=Object.getPrototypeOf(function(){}),Bue=Object.setPrototypeOf((Qy={get stream(){return this[Iu]},next:function(){var e=this,r=this[zh];if(r!==null)return Promise.reject(r);if(this[Zy])return Promise.resolve(sa(void 0,!0));if(this[Iu].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[zh]?a(e[zh]):o(sa(void 0,!0))})});var n=this[Au],i;if(n)i=new Promise(Oue(n,this));else{var s=this[Iu].read();if(s!==null)return Promise.resolve(sa(s,!1));i=new Promise(this[YS])}return this[Au]=i,i}},na(Qy,Symbol.asyncIterator,function(){return this}),na(Qy,"return",function(){var e=this;return new Promise(function(r,n){e[Iu].destroy(null,function(i){if(i){n(i);return}r(sa(void 0,!0))})})}),Qy),Nue),Fue=function(e){var r,n=Object.create(Bue,(r={},na(r,Iu,{value:e,writable:!0}),na(r,ia,{value:null,writable:!0}),na(r,wu,{value:null,writable:!0}),na(r,zh,{value:null,writable:!0}),na(r,Zy,{value:e._readableState.endEmitted,writable:!0}),na(r,YS,{value:function(s,o){var a=n[Iu].read();a?(n[Au]=null,n[ia]=null,n[wu]=null,s(sa(a,!1))):(n[ia]=s,n[wu]=o)},writable:!0}),r));return n[Au]=null,Mue(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[wu];s!==null&&(n[Au]=null,n[ia]=null,n[wu]=null,s(i)),n[zh]=i;return}var o=n[ia];o!==null&&(n[Au]=null,n[ia]=null,n[wu]=null,o(sa(void 0,!0))),n[Zy]=!0}),e.on("readable",kue.bind(null,n)),n};XU.exports=Fue});var ZU=b((YCe,QU)=>{"use strict";function JU(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Uue(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){JU(s,n,i,o,a,"next",u)}function a(u){JU(s,n,i,o,a,"throw",u)}o(void 0)})}}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wue=ta().codes.ERR_INVALID_ARG_TYPE;function Vue(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new Wue("iterable",["Iterable"],e);var i=new t(jue({objectMode:!0},r)),s=!1;i._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=Uue(function*(){try{var u=yield n.next(),c=u.value,l=u.done;l?i.push(null):i.push(yield c)?o():s=!1}catch(p){i.destroy(p)}}),a.apply(this,arguments)}return i}QU.exports=Vue});var GS=b((ZCe,cj)=>{"use strict";cj.exports=Re;var Kl;Re.ReadableState=nj;var QCe=require("events").EventEmitter,rj=function(e,r){return e.listeners(r).length},Yh=kS(),ev=require("buffer").Buffer,Gue=global.Uint8Array||function(){};function Kue(t){return ev.from(t)}function Xue(t){return ev.isBuffer(t)||t instanceof Gue}var QS=require("util"),Se;QS&&QS.debuglog?Se=QS.debuglog("stream"):Se=function(){};var zue=SU(),sE=BS(),Jue=FS(),Yue=Jue.getHighWaterMark,tv=ta().codes,Que=tv.ERR_INVALID_ARG_TYPE,Zue=tv.ERR_STREAM_PUSH_AFTER_EOF,ece=tv.ERR_METHOD_NOT_IMPLEMENTED,tce=tv.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Xl,ZS,eE;Vt()(Re,Yh);var Jh=sE.errorOrDestroy,tE=["error","close","destroy","pause","resume"];function rce(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function nj(t,e,r){Kl=Kl||bu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Kl),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Yue(this,t,"readableHighWaterMark",r),this.buffer=new zue,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xl||(Xl=JS().StringDecoder),this.decoder=new Xl(t.encoding),this.encoding=t.encoding)}function Re(t){if(Kl=Kl||bu(),!(this instanceof Re))return new Re(t);var e=this instanceof Kl;this._readableState=new nj(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Yh.call(this)}Object.defineProperty(Re.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Re.prototype.destroy=sE.destroy;Re.prototype._undestroy=sE.undestroy;Re.prototype._destroy=function(t,e){e(t)};Re.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ev.from(t,e),e=""),n=!0),ij(this,t,e,!1,n)};Re.prototype.unshift=function(t){return ij(this,t,null,!0,!1)};function ij(t,e,r,n,i){Se("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,sce(t,s);else{var o;if(i||(o=nce(s,e)),o)Jh(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==ev.prototype&&(e=Kue(e)),n)s.endEmitted?Jh(t,new tce):rE(t,s,e,!0);else if(s.ended)Jh(t,new Zue);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?rE(t,s,e,!1):iE(t,s)):rE(t,s,e,!1)}else n||(s.reading=!1,iE(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function rE(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&rv(t)),iE(t,e)}function nce(t,e){var r;return!Xue(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Que("chunk",["string","Buffer","Uint8Array"],e)),r}Re.prototype.isPaused=function(){return this._readableState.flowing===!1};Re.prototype.setEncoding=function(t){Xl||(Xl=JS().StringDecoder);var e=new Xl(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var ej=1073741824;function ice(t){return t>=ej?t=ej:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function tj(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ice(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Re.prototype.read=function(t){Se("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Se("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?nE(this):rv(this),null;if(t=tj(t,e),t===0&&e.ended)return e.length===0&&nE(this),null;var n=e.needReadable;Se("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Se("length less than watermark",n)),e.ended||e.reading?(n=!1,Se("reading or ended",n)):n&&(Se("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=tj(r,e)));var i;return t>0?i=aj(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&nE(this)),i!==null&&this.emit("data",i),i};function sce(t,e){if(Se("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?rv(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,sj(t)))}}function rv(t){var e=t._readableState;Se("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Se("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(sj,t))}function sj(t){var e=t._readableState;Se("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,oE(t)}function iE(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(oce,t,e))}function oce(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Se("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Re.prototype._read=function(t){Jh(this,new ece("_read()"))};Re.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Se("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:y;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(v,w){Se("onunpipe"),v===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,l())}function a(){Se("onend"),t.end()}var u=ace(r);t.on("drain",u);var c=!1;function l(){Se("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",p),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(v){Se("ondata");var w=t.write(v);Se("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&uj(n.pipes,t)!==-1)&&!c&&(Se("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(v){Se("onerror",v),y(),t.removeListener("error",f),rj(t,"error")===0&&Jh(t,v)}rce(t,"error",f);function m(){t.removeListener("finish",g),y()}t.once("close",m);function g(){Se("onfinish"),t.removeListener("close",m),y()}t.once("finish",g);function y(){Se("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Se("pipe resume"),r.resume()),t};function ace(t){return function(){var r=t._readableState;Se("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&rj(t,"data")&&(r.flowing=!0,oE(t))}}Re.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=uj(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Re.prototype.on=function(t,e){var r=Yh.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Se("on readable",n.length,n.reading),n.length?rv(this):n.reading||process.nextTick(uce,this)),r};Re.prototype.addListener=Re.prototype.on;Re.prototype.removeListener=function(t,e){var r=Yh.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(oj,this),r};Re.prototype.removeAllListeners=function(t){var e=Yh.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(oj,this),e};function oj(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function uce(t){Se("readable nexttick read 0"),t.read(0)}Re.prototype.resume=function(){var t=this._readableState;return t.flowing||(Se("resume"),t.flowing=!t.readableListening,cce(this,t)),t.paused=!1,this};function cce(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(lce,t,e))}function lce(t,e){Se("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),oE(t),e.flowing&&!e.reading&&t.read(0)}Re.prototype.pause=function(){return Se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function oE(t){var e=t._readableState;for(Se("flow",e.flowing);e.flowing&&t.read()!==null;);}Re.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Se("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Se("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<tE.length;s++)t.on(tE[s],this.emit.bind(this,tE[s]));return this._read=function(o){Se("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Re.prototype[Symbol.asyncIterator]=function(){return ZS===void 0&&(ZS=zU()),ZS(this)});Object.defineProperty(Re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Re.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Re.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Re._fromList=aj;Object.defineProperty(Re.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function aj(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function nE(t){var e=t._readableState;Se("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(pce,e,t))}function pce(t,e){if(Se("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Re.from=function(t,e){return eE===void 0&&(eE=ZU()),eE(Re,t,e)});function uj(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var aE=b((eLe,pj)=>{"use strict";pj.exports=Ws;var nv=ta().codes,fce=nv.ERR_METHOD_NOT_IMPLEMENTED,hce=nv.ERR_MULTIPLE_CALLBACK,dce=nv.ERR_TRANSFORM_ALREADY_TRANSFORMING,mce=nv.ERR_TRANSFORM_WITH_LENGTH_0,iv=bu();Vt()(Ws,iv);function gce(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new hce);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ws(t){if(!(this instanceof Ws))return new Ws(t);iv.call(this,t),this._transformState={afterTransform:gce.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Hce)}function Hce(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){lj(t,e,r)}):lj(this,null,null)}Ws.prototype.push=function(t,e){return this._transformState.needTransform=!1,iv.prototype.push.call(this,t,e)};Ws.prototype._transform=function(t,e,r){r(new fce("_transform()"))};Ws.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ws.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ws.prototype._destroy=function(t,e){iv.prototype._destroy.call(this,t,function(r){e(r)})};function lj(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new mce;if(t._transformState.transforming)throw new dce;return t.push(null)}});var dj=b((tLe,hj)=>{"use strict";hj.exports=Qh;var fj=aE();Vt()(Qh,fj);function Qh(t){if(!(this instanceof Qh))return new Qh(t);fj.call(this,t)}Qh.prototype._transform=function(t,e,r){r(null,t)}});var vj=b((rLe,yj)=>{"use strict";var uE;function yce(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Hj=ta().codes,vce=Hj.ERR_MISSING_ARGS,bce=Hj.ERR_STREAM_DESTROYED;function mj(t){if(t)throw t}function _ce(t){return t.setHeader&&typeof t.abort=="function"}function wce(t,e,r,n){n=yce(n);var i=!1;t.on("close",function(){i=!0}),uE===void 0&&(uE=Yy()),uE(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,_ce(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new bce("pipe"))}}}function gj(t){t()}function Ace(t,e){return t.pipe(e)}function Ice(t){return!t.length||typeof t[t.length-1]!="function"?mj:t.pop()}function Sce(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Ice(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new vce("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return wce(o,u,c,function(l){i||(i=l),l&&s.forEach(gj),!u&&(s.forEach(gj),n(i))})});return e.reduce(Ace)}yj.exports=Sce});var cE=b((Rn,ed)=>{var Zh=require("stream");process.env.READABLE_STREAM==="disable"&&Zh?(ed.exports=Zh.Readable,Object.assign(ed.exports,Zh),ed.exports.Stream=Zh):(Rn=ed.exports=GS(),Rn.Stream=Zh||Rn,Rn.Readable=Rn,Rn.Writable=qS(),Rn.Duplex=bu(),Rn.Transform=aE(),Rn.PassThrough=dj(),Rn.finished=Yy(),Rn.pipeline=vj())});var _j=b((nLe,bj)=>{bj.exports=Ece;function Ece(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(xce(e)):null}function xce(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var Ej=b((iLe,Sj)=>{var sv=cE(),wj=qH(),Cce=Vt(),Lce=_j(),Aj=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),lE=function(t,e){t._corked?t.once("uncork",e):e()},Pce=function(t,e){t._autoDestroy&&t.destroy(e)},Ij=function(t,e){return function(r){r?Pce(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},Dce=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},Tce=function(){},$ce=function(t){return new sv.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},ur=function(t,e,r){if(!(this instanceof ur))return new ur(t,e,r);sv.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};Cce(ur,sv.Duplex);ur.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new ur(t,e,r)};ur.prototype.cork=function(){++this._corked===1&&this.emit("cork")};ur.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};ur.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=wj(t,{writable:!0,readable:!1},Ij(this,this._forwardEnd)),n=function(){var s=e._ondrain;e._ondrain=null,s&&s()},i=function(){e._writable.removeListener("drain",n),r()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=i,this.uncork()};ur.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=wj(t,{writable:!1,readable:!0},Ij(this)),n=function(){e._forward()},i=function(){e.push(null)},s=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:$ce(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=s,this._forward()};ur.prototype._read=function(){this._drained=!0,this._forward()};ur.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=Lce(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};ur.prototype.destroy=function(t,e){if(e||(e=Tce),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};ur.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};ur.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return lE(this,this._write.bind(this,t,e,r));if(t===Aj)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};ur.prototype._finish=function(t){var e=this;this.emit("preend"),lE(this,function(){Dce(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),lE(e,t)})})};ur.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(Aj),sv.Writable.prototype.end.call(this,r))};Sj.exports=ur});var Lj=b((sLe,ov)=>{var Mce=bU(),Rce=Vt(),xj=Ej(),Cj=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},pE=function(t){var e=function(){var r=Cj(arguments);if(!(this instanceof e))return new e(r);xj.call(this,null,null,t),r.length&&this.setPipeline(r)};return Rce(e,xj),e.prototype.setPipeline=function(){var r=Cj(arguments),n=this,i=!1,s=r[0],o=r[r.length-1];o=o.readable?o:null,s=s.writable?s:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){i||n.cork()}),Mce(r,function(u){if(n.removeListener("close",a),u)return n.destroy(u.message==="premature close"?null:u);i=!0,n._autoDestroy===!1&&(n._autoDestroy=!0),n.uncork()}),this.destroyed)return a();this.setWritable(s),this.setReadable(o)},e};ov.exports=pE({autoDestroy:!1,destroy:!1});ov.exports.obj=pE({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});ov.exports.ctor=pE});var fE=b((oLe,Pj)=>{"use strict";Pj.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:t,original:t};return t.charAt(0)==="!"&&t.charAt(1)!=="("&&(e.negated=!0,e.pattern=t.slice(1)),e}});var hE=b((aLe,Nj)=>{"use strict";var av=Object.prototype.hasOwnProperty,Oj=Object.prototype.toString,Dj=Object.defineProperty,Tj=Object.getOwnPropertyDescriptor,$j=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Oj.call(e)==="[object Array]"},Mj=function(e){if(!e||Oj.call(e)!=="[object Object]")return!1;var r=av.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&av.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||av.call(e,i)},Rj=function(e,r){Dj&&r.name==="__proto__"?Dj(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},kj=function(e,r){if(r==="__proto__")if(av.call(e,r)){if(Tj)return Tj(e,r).value}else return;return e[r]};Nj.exports=function t(){var e,r,n,i,s,o,a=arguments[0],u=1,c=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(r in e)n=kj(a,r),i=kj(e,r),a!==i&&(l&&i&&(Mj(i)||(s=$j(i)))?(s?(s=!1,o=n&&$j(n)?n:[]):o=n&&Mj(n)?n:{},Rj(a,{name:r,newValue:t(l,o,i)})):typeof i<"u"&&Rj(a,{name:r,newValue:i}));return a}});var Bj=b(dE=>{var Su=require("path"),aa=process.platform==="win32",oa=require("fs"),kce=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Oce(){var t;if(kce){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function Nce(t){return typeof t=="function"?t:Oce()}var uLe=Su.normalize;aa?Vs=/(.*?)(?:[\/\\]+|$)/g:Vs=/(.*?)(?:[\/]+|$)/g;var Vs;aa?td=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:td=/^[\/]*/;var td;dE.realpathSync=function(e,r){if(e=Su.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,a,u,c;l();function l(){var v=td.exec(e);o=v[0].length,a=v[0],u=v[0],c="",aa&&!s[u]&&(oa.lstatSync(u),s[u]=!0)}for(;o<e.length;){Vs.lastIndex=o;var p=Vs.exec(e);if(c=a,a+=p[0],u=c+p[1],o=Vs.lastIndex,!(s[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var m=oa.lstatSync(u);if(!m.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var g=null;if(!aa){var y=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(y)&&(g=i[y])}g===null&&(oa.statSync(u),g=oa.readlinkSync(u)),f=Su.resolve(c,g),r&&(r[u]=f),aa||(i[y]=g)}e=Su.resolve(f,e.slice(o)),l()}}return r&&(r[n]=e),e};dE.realpath=function(e,r,n){if(typeof n!="function"&&(n=Nce(r),r=null),e=Su.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},a,u,c,l;p();function p(){var v=td.exec(e);a=v[0].length,u=v[0],c=v[0],l="",aa&&!o[c]?oa.lstat(c,function(w){if(w)return n(w);o[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return r&&(r[i]=e),n(null,e);Vs.lastIndex=a;var v=Vs.exec(e);return l=u,u+=v[0],c=l+v[1],a=Vs.lastIndex,o[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?y(r[c]):oa.lstat(c,m)}function m(v,w){if(v)return n(v);if(!w.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!aa){var R=w.dev.toString(32)+":"+w.ino.toString(32);if(s.hasOwnProperty(R))return g(null,s[R],c)}oa.stat(c,function(U){if(U)return n(U);oa.readlink(c,function(x,P){aa||(s[R]=P),g(x,P)})})}function g(v,w,R){if(v)return n(v);var U=Su.resolve(l,w);r&&(r[R]=U),y(U)}function y(v){e=Su.resolve(v,e.slice(a)),p()}}});var yE=b((lLe,qj)=>{qj.exports=ua;ua.realpath=ua;ua.sync=HE;ua.realpathSync=HE;ua.monkeypatch=Fce;ua.unmonkeypatch=Uce;var zl=require("fs"),mE=zl.realpath,gE=zl.realpathSync,Bce=process.version,Fj=/^v[0-5]\./.test(Bce),Uj=Bj();function jj(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function ua(t,e,r){if(Fj)return mE(t,e,r);typeof e=="function"&&(r=e,e=null),mE(t,e,function(n,i){jj(n)?Uj.realpath(t,e,r):r(n,i)})}function HE(t,e){if(Fj)return gE(t,e);try{return gE(t,e)}catch(r){if(jj(r))return Uj.realpathSync(t,e);throw r}}function Fce(){zl.realpath=ua,zl.realpathSync=HE}function Uce(){zl.realpath=mE,zl.realpathSync=gE}});var Vj=b((pLe,Wj)=>{Wj.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);jce(i)?r.push.apply(r,i):r.push(i)}return r};var jce=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Jj=b((fLe,zj)=>{"use strict";zj.exports=Kj;function Kj(t,e,r){t instanceof RegExp&&(t=Gj(t,r)),e instanceof RegExp&&(e=Gj(e,r));var n=Xj(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Gj(t,e){var r=e.match(t);return r?r[0]:null}Kj.range=Xj;function Xj(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(n=[],s=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var iq=b((hLe,nq)=>{var qce=Vj(),Yj=Jj();nq.exports=Gce;var Qj="\0SLASH"+Math.random()+"\0",Zj="\0OPEN"+Math.random()+"\0",bE="\0CLOSE"+Math.random()+"\0",eq="\0COMMA"+Math.random()+"\0",tq="\0PERIOD"+Math.random()+"\0";function vE(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Wce(t){return t.split("\\\\").join(Qj).split("\\{").join(Zj).split("\\}").join(bE).split("\\,").join(eq).split("\\.").join(tq)}function Vce(t){return t.split(Qj).join("\\").split(Zj).join("{").split(bE).join("}").split(eq).join(",").split(tq).join(".")}function rq(t){if(!t)return[""];var e=[],r=Yj("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=rq(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Gce(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Jl(Wce(t),!0).map(Vce)):[]}function Kce(t){return"{"+t+"}"}function Xce(t){return/^-?0\d/.test(t)}function zce(t,e){return t<=e}function Jce(t,e){return t>=e}function Jl(t,e){var r=[],n=Yj("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+bE+n.post,Jl(t)):[t];var u;if(o)u=n.body.split(/\.\./);else if(u=rq(n.body),u.length===1&&(u=Jl(u[0],!1).map(Kce),u.length===1)){var l=n.post.length?Jl(n.post,!1):[""];return l.map(function(I){return n.pre+u[0]+I})}var c=n.pre,l=n.post.length?Jl(n.post,!1):[""],p;if(o){var f=vE(u[0]),m=vE(u[1]),g=Math.max(u[0].length,u[1].length),y=u.length==3?Math.abs(vE(u[2])):1,v=zce,w=m<f;w&&(y*=-1,v=Jce);var R=u.some(Xce);p=[];for(var U=f;v(U,m);U+=y){var x;if(s)x=String.fromCharCode(U),x==="\\"&&(x="");else if(x=String(U),R){var P=g-x.length;if(P>0){var V=new Array(P+1).join("0");U<0?x="-"+V+x.slice(1):x=V+x}}p.push(x)}}else p=qce(u,function(O){return Jl(O,!1)});for(var q=0;q<p.length;q++)for(var N=0;N<l.length;N++){var $=c+p[q]+l[N];(!e||o||$)&&r.push($)}return r}});var lv=b((dLe,cq)=>{cq.exports=dn;dn.Minimatch=cr;var rd=function(){try{return require("path")}catch{}}()||{sep:"/"};dn.sep=rd.sep;var AE=dn.GLOBSTAR=cr.GLOBSTAR={},Yce=iq(),sq={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},_E="[^/]",wE=_E+"*?",Qce="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Zce="(?:(?!(?:\\/|^)\\.).)*?",oq=ele("().*{}+?[]^$\\!");function ele(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var aq=/\/+/;dn.filter=tle;function tle(t,e){return e=e||{},function(r,n,i){return dn(r,t,e)}}function ca(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}dn.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return dn;var e=dn,r=function(i,s,o){return e(i,s,ca(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,ca(t,s))},r.Minimatch.defaults=function(i){return e.defaults(ca(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,ca(t,s))},r.defaults=function(i){return e.defaults(ca(t,i))},r.makeRe=function(i,s){return e.makeRe(i,ca(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,ca(t,s))},r.match=function(n,i,s){return e.match(n,i,ca(t,s))},r};cr.defaults=function(t){return dn.defaults(t).Minimatch};function dn(t,e,r){return cv(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new cr(e,r).match(t)}function cr(t,e){if(!(this instanceof cr))return new cr(t,e);cv(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&rd.sep!=="/"&&(t=t.split(rd.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}cr.prototype.debug=function(){};cr.prototype.make=rle;function rle(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(aq)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}cr.prototype.parseNegate=nle;function nle(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}dn.braceExpand=function(t,e){return uq(t,e)};cr.prototype.braceExpand=uq;function uq(t,e){return e||(this instanceof cr?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,cv(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Yce(t)}var ile=1024*64,cv=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>ile)throw new TypeError("pattern is too long")};cr.prototype.parse=sle;var uv={};function sle(t,e){cv(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return AE;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],u,c=!1,l=-1,p=-1,f=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function g(){if(u){switch(u){case"*":n+=wE,i=!0;break;case"?":n+=_E,i=!0;break;default:n+="\\"+u;break}m.debug("clearStateChar %j %j",u,n),u=!1}}for(var y=0,v=t.length,w;y<v&&(w=t.charAt(y));y++){if(this.debug("%s	%s %s %j",t,y,n,w),s&&oq[w]){n+="\\"+w,s=!1;continue}switch(w){case"/":return!1;case"\\":g(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,y,n,w),c){this.debug("  in class"),w==="!"&&y===p+1&&(w="^"),n+=w;continue}m.debug("call clearStateChar %j",u),g(),u=w,r.noext&&g();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:y-1,reStart:n.length,open:sq[u].open,close:sq[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!o.length){n+="\\)";continue}g(),i=!0;var R=o.pop();n+=R.close,R.type==="!"&&a.push(R),R.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}g(),n+="|";continue;case"[":if(g(),c){n+="\\"+w;continue}c=!0,p=y,l=n.length,n+=w;continue;case"]":if(y===p+1||!c){n+="\\"+w,s=!1;continue}var U=t.substring(p+1,y);try{RegExp("["+U+"]")}catch{var x=this.parse(U,uv);n=n.substr(0,l)+"\\["+x[0]+"\\]",i=i||x[1],c=!1;continue}i=!0,c=!1,n+=w;continue;default:g(),s?s=!1:oq[w]&&!(w==="^"&&c)&&(n+="\\"),n+=w}}for(c&&(U=t.substr(p+1),x=this.parse(U,uv),n=n.substr(0,l)+"\\["+x[0],i=i||x[1]),R=o.pop();R;R=o.pop()){var P=n.slice(R.reStart+R.open.length);this.debug("setting tail",n,R),P=P.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(se,re,he){return he||(he="\\"),re+re+he+"|"}),this.debug(`tail=%j
   %s`,P,P,R,n);var V=R.type==="*"?wE:R.type==="?"?_E:"\\"+R.type;i=!0,n=n.slice(0,R.reStart)+V+"\\("+P}g(),s&&(n+="\\\\");var q=!1;switch(n.charAt(0)){case"[":case".":case"(":q=!0}for(var N=a.length-1;N>-1;N--){var $=a[N],O=n.slice(0,$.reStart),I=n.slice($.reStart,$.reEnd-8),T=n.slice($.reEnd-8,$.reEnd),k=n.slice($.reEnd);T+=k;var X=O.split("(").length-1,C=k;for(y=0;y<X;y++)C=C.replace(/\)[+*?]?/,"");k=C;var L="";k===""&&e!==uv&&(L="$");var Z=O+I+k+L+T;n=Z}if(n!==""&&i&&(n="(?=.)"+n),q&&(n=f+n),e===uv)return[n,i];if(!i)return ale(t);var te=r.nocase?"i":"";try{var ie=new RegExp("^"+n+"$",te)}catch{return new RegExp("$.")}return ie._glob=t,ie._src=n,ie}dn.makeRe=function(t,e){return new cr(t,e||{}).makeRe()};cr.prototype.makeRe=ole;function ole(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?wE:e.dot?Qce:Zce,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===AE?r:typeof o=="string"?ule(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}dn.match=function(t,e,r){r=r||{};var n=new cr(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};cr.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;rd.sep!=="/"&&(e=e.split(rd.sep).join("/")),e=e.split(aq),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;n.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};cr.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u=e[s],c=t[i];if(this.debug(e,u,c),u===!1)return!1;if(u===AE){this.debug("GLOBSTAR",[e,u,c]);var l=i,p=s+1;if(p===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;l<o;){var f=t[l];if(this.debug(`
globstar while`,t,l,e,p,f),this.matchOne(t.slice(l),e.slice(p),r))return this.debug("globstar found match!",l,o,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",t,l,e,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,p),l===o))}var m;if(typeof u=="string"?(m=c===u,this.debug("string match",u,c,m)):(m=c.match(u),this.debug("pattern match",u,c,m)),!m)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function ale(t){return t.replace(/\\(.)/g,"$1")}function ule(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var fv=b((mLe,pv)=>{"use strict";function lq(t){return t.charAt(0)==="/"}function pq(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}pv.exports=process.platform==="win32"?pq:lq;pv.exports.posix=lq;pv.exports.win32=pq});var SE=b(la=>{la.setopts=dle;la.ownProp=fq;la.makeAbs=nd;la.finish=mle;la.mark=gle;la.isIgnored=dq;la.childrenIgnored=Hle;function fq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var cle=require("fs"),Yl=require("path"),lle=lv(),hq=fv(),IE=lle.Minimatch;function ple(t,e){return t.localeCompare(e,"en")}function fle(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(hle))}function hle(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new IE(r,{dot:!0})}return{matcher:new IE(t,{dot:!0}),gmatcher:e}}function dle(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||cle,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),fle(t,r),t.changedCwd=!1;var n=process.cwd();fq(r,"cwd")?(t.cwd=Yl.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||Yl.resolve(t.cwd,"/"),t.root=Yl.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=hq(t.cwd)?t.cwd:nd(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new IE(e,r),t.options=t.minimatch.options}function mle(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(ple)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=t.cache[u]||t.cache[nd(t,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}t.ignore.length&&(r=r.filter(function(u){return!dq(t,u)})),t.found=r}function gle(t,e){var r=nd(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=nd(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function nd(t,e){var r=e;return e.charAt(0)==="/"?r=Yl.join(t.root,e):hq(e)||e===""?r=e:t.changedCwd?r=Yl.resolve(t.cwd,e):r=Yl.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function dq(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Hle(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var vq=b((bLe,yq)=>{yq.exports=Hq;Hq.GlobSync=Gt;var yle=yE(),mq=lv(),HLe=mq.Minimatch,yLe=CE().Glob,vLe=require("util"),EE=require("path"),gq=require("assert"),hv=fv(),Eu=SE(),vle=Eu.setopts,xE=Eu.ownProp,ble=Eu.childrenIgnored,_le=Eu.isIgnored;function Hq(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Gt(t,e).found}function Gt(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Gt))return new Gt(t,e);if(vle(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Gt.prototype._finish=function(){if(gq(this instanceof Gt),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=yle.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}Eu.finish(this)};Gt.prototype._process=function(t,e,r){gq(this instanceof Gt);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((hv(i)||hv(t.join("/")))&&(!i||!hv(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!ble(this,o)){var u=s[0]===mq.GLOBSTAR;u?this._processGlobStar(i,o,a,s,e,r):this._processReaddir(i,o,a,s,e,r)}};Gt.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",p=[],f=0;f<o.length;f++){var m=o[f];if(m.charAt(0)!=="."||l){var g;u&&!t?g=!m.match(a):g=m.match(a),g&&p.push(m)}}var y=p.length;if(y!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<y;f++){var m=p[f];t&&(t.slice(-1)!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=EE.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var f=0;f<y;f++){var m=p[f],v;t?v=[t,m]:v=[m],this._process(v.concat(n),i,s)}}}};Gt.prototype._emitMatch=function(t,e){if(!_le(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Gt.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Gt.prototype._readdir=function(t,e){var r;if(e&&!xE(this.symlinks,t))return this._readdirInGlobStar(t);if(xE(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};Gt.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};Gt.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Gt.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,i,!1);var l=o.length,p=this.symlinks[r];if(!(p&&s))for(var f=0;f<l;f++){var m=o[f];if(!(m.charAt(0)==="."&&!this.dot)){var g=u.concat(o[f],a);this._process(g,i,!0);var y=u.concat(o[f],n);this._process(y,i,!0)}}}};Gt.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&hv(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=EE.join(this.root,t):(t=EE.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Gt.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&xE(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};Gt.prototype._mark=function(t){return Eu.mark(this,t)};Gt.prototype._makeAbs=function(t){return Eu.makeAbs(this,t)}});var _q=b((_Le,bq)=>{var wle=LA(),id=Object.create(null),Ale=Al();bq.exports=wle(Ile);function Ile(t,e){return id[t]?(id[t].push(e),null):(id[t]=[e],Sle(t))}function Sle(t){return Ale(function e(){var r=id[t],n=r.length,i=Ele(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete id[t]}})}function Ele(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var CE=b((ILe,Aq)=>{Aq.exports=xu;var xle=yE(),wq=lv(),wLe=wq.Minimatch,Cle=Vt(),Lle=require("events").EventEmitter,LE=require("path"),PE=require("assert"),sd=fv(),TE=vq(),Cu=SE(),Ple=Cu.setopts,DE=Cu.ownProp,$E=_q(),ALe=require("util"),Dle=Cu.childrenIgnored,Tle=Cu.isIgnored,$le=Al();function xu(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return TE(t,e)}return new Ke(t,e,r)}xu.sync=TE;var Mle=xu.GlobSync=TE.GlobSync;xu.glob=xu;function Rle(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}xu.hasMagic=function(t,e){var r=Rle({},e);r.noprocess=!0;var n=new Ke(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};xu.Glob=Ke;Cle(Ke,Lle);function Ke(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Mle(t,e)}if(!(this instanceof Ke))return new Ke(t,e,r);Ple(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=$le(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}Ke.prototype._finish=function(){if(PE(this instanceof Ke),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Cu.finish(this),this.emit("end",this.found)}};Ke.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};Ke.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),xle.realpath(a,i.realpathCache,function(c,l){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[l]=!0,--s===0&&(i.matches[t]=o,e())})})};Ke.prototype._mark=function(t){return Cu.mark(this,t)};Ke.prototype._makeAbs=function(t){return Cu.makeAbs(this,t)};Ke.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Ke.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Ke.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Ke.prototype._process=function(t,e,r,n){if(PE(this instanceof Ke),PE(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),a;s===null?a=".":((sd(s)||sd(t.join("/")))&&(!s||!sd(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(Dle(this,a))return n();var c=o[0]===wq.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,n):this._processReaddir(s,a,u,o,e,r,n)}};Ke.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,n,i,s,c,o)})};Ke.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();for(var u=n[0],c=!!this.minimatch.negate,l=u._glob,p=this.dot||l.charAt(0)===".",f=[],m=0;m<o.length;m++){var g=o[m];if(g.charAt(0)!=="."||p){var y;c&&!t?y=!g.match(u):y=g.match(u),y&&f.push(g)}}var v=f.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<v;m++){var g=f[m];t&&(t!=="/"?g=t+"/"+g:g=t+g),g.charAt(0)==="/"&&!this.nomount&&(g=LE.join(this.root,g)),this._emitMatch(i,g)}return a()}n.shift();for(var m=0;m<v;m++){var g=f[m],w;t&&(t!=="/"?g=t+"/"+g:g=t+g),this._process([g].concat(n),i,s,a)}a()};Ke.prototype._emitMatch=function(t,e){if(!this.aborted&&!Tle(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=sd(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};Ke.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=$E(r,s);i&&n.fs.lstat(t,i);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();n.symlinks[t]=u,!u&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};Ke.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=$E("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!DE(this.symlinks,t))return this._readdirInGlobStar(t,r);if(DE(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,kle(this,t,r))}};function kle(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}Ke.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};Ke.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Ke.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,n,i,s,c,o)})};Ke.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n.slice(1),c=t?[t]:[],l=c.concat(u);this._process(l,i,!1,a);var p=this.symlinks[r],f=o.length;if(p&&s)return a();for(var m=0;m<f;m++){var g=o[m];if(!(g.charAt(0)==="."&&!this.dot)){var y=c.concat(o[m],u);this._process(y,i,!0,a);var v=c.concat(o[m],n);this._process(v,i,!0,a)}}a()};Ke.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};Ke.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&sd(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=LE.join(this.root,t):(t=LE.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};Ke.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&DE(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,o)}var u=this,c=$E("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(p,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(m,g){m?u._stat2(t,r,null,f,e):u._stat2(t,r,m,g,e)});u._stat2(t,r,p,f,e)}};Ke.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)}});var Sq=b((SLe,Iq)=>{Iq.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var Cq=b((ELe,xq)=>{var Ole=Sq(),Eq={"{":"}","(":")","[":"]"},Nle=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,i=-2,s=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(o===-1||o>n||(o=t.indexOf("\\",e),o===-1||o>n)))||i!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(i=t.indexOf("}",e),i>e&&(o=t.indexOf("\\",e),o===-1||o>i))||s!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(s=t.indexOf(")",e),s>e&&(o=t.indexOf("\\",e),o===-1||o>s))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(s=t.indexOf(")",r),s>r&&(o=t.indexOf("\\",r),o===-1||o>s))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var u=Eq[a];if(u){var c=t.indexOf(u,e);c!==-1&&(e=c+1)}if(t[e]==="!")return!0}else e++}return!1},Ble=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=Eq[r];if(n){var i=t.indexOf(n,e);i!==-1&&(e=i+1)}if(t[e]==="!")return!0}else e++}return!1};xq.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Ole(e))return!0;var n=Nle;return r&&r.strict===!1&&(n=Ble),n(e)}});var Pq=b((xLe,Lq)=>{"use strict";var Fle=Cq(),Ule=require("path").posix.dirname,jle=require("os").platform()==="win32",dv="/",qle=/\\/g,Wle=/\\([!*?|[\](){}])/g;Lq.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&jle&&e.indexOf(dv)<0&&(e=e.replace(qle,dv)),Vle(e)&&(e+=dv),e+="a";do e=Ule(e);while(Gle(e));return e.replace(Wle,"$1")};function Vle(t){var e=t.slice(-1),r;switch(e){case"}":r="{";break;case"]":r="[";break;default:return!1}var n=t.indexOf(r);return n<0?!1:t.slice(n+1,-1).includes(dv)}function Gle(t){return/\([^()]+$/.test(t)||t[0]==="{"||t[0]==="["||/[^\\][{[]/.test(t)?!0:Fle(t)}});var Tq=b((CLe,Dq)=>{"use strict";Dq.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var Mq=b((LLe,$q)=>{"use strict";var Kle=Tq()();$q.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");return Kle.test(t)}});var kq=b((PLe,Rq)=>{"use strict";var Xle=Mq();Rq.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!Xle(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var Oq=b((ME,RE)=>{(function(t){ME&&typeof ME=="object"&&typeof RE<"u"?RE.exports=t():typeof define=="function"&&define.amd?define([],t):typeof window<"u"?window.isWindows=t():typeof global<"u"?global.isWindows=t():typeof self<"u"?self.isWindows=t():this.isWindows=t()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var Bq=b((DLe,Nq)=>{"use strict";var zle=kq(),Jle=Oq();Nq.exports=od;function od(t){if(typeof t!="string")throw new TypeError("isAbsolute expects a string.");return Jle()?od.win32(t):od.posix(t)}od.posix=function(e){return e.charAt(0)==="/"};od.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!zle(e)}});var OE=b((TLe,qq)=>{"use strict";var Fq=require("path"),Yle=fE(),Uq=Bq();qq.exports=function(t,e){var r=e||{},n=Fq.resolve(r.cwd?r.cwd:process.cwd());n=kE(n);var i=r.root;i&&(i=kE(i),(process.platform==="win32"||!Uq(i))&&(i=kE(Fq.resolve(i)))),t.slice(0,2)==="./"&&(t=t.slice(2)),t.length===1&&t==="."&&(t="");var s=t.slice(-1),o=Yle(t);return t=o.pattern,i&&t.charAt(0)==="/"?t=jq(i,t):(!Uq(t)||t.slice(0,1)==="\\")&&(t=jq(n,t)),s==="/"&&t.slice(-1)!=="/"&&(t+="/"),o.negated?"!"+t:t};function kE(t){return t.replace(/\\/g,"/")}function jq(t,e){return t.charAt(t.length-1)==="/"&&(t=t.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?t+"/"+e:t}});var Vq=b(($Le,Wq)=>{var Qle=process.platform==="win32";Wq.exports=function(t){var e=t.length-1;if(e<2)return t;for(;Zle(t,e);)e--;return t.substr(0,e+1)};function Zle(t,e){var r=t[e];return e>0&&(r==="/"||Qle&&r==="\\")}});var Xq=b((MLe,Kq)=>{"use strict";var epe=require("util").inherits,tpe=CE(),rpe=hE(),Gq=cE().Readable,npe=Pq(),NE=OE(),ipe=Vq(),spe="File not found with singular glob: ",ope=" (if this was purposeful, use `allowEmpty` option)";function ape(t,e){return npe(NE(t,e))}function upe(t){var e=t.minimatch.set;return e.length!==1?!1:e[0].every(function(n){return typeof n=="string"})}function Ql(t,e,r){if(!(this instanceof Ql))return new Ql(t,e,r);var n=rpe({},r);Gq.call(this,{objectMode:!0,highWaterMark:n.highWaterMark||16}),delete n.highWaterMark;var i=this;function s(m){return NE(m,n)}var o=e.map(s);n.ignore=o;var a=n.cwd,u=n.allowEmpty||!1,c=n.base||ape(t,n);t=NE(t,n),delete n.root;var l=new tpe.Glob(t,n);this._globber=l;var p=!1;l.on("match",function(m){p=!0;var g={cwd:a,base:c,path:ipe(m)};i.push(g)||l.pause()}),l.once("end",function(){if(u!==!0&&!p&&upe(l)){var m=new Error(spe+t+ope);return i.destroy(m)}i.push(null)});function f(m){i.destroy(m)}l.once("error",f)}epe(Ql,Gq);Ql.prototype._read=function(){this._globber.resume()};Ql.prototype.destroy=function(t){var e=this;this._globber.abort(),process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})};Kq.exports=Ql});var Jq=b((RLe,zq)=>{"use strict";var cpe=v3(),lpe=HU(),ppe=Lj(),fpe=fE(),hpe=hE(),dpe=Xq();function mpe(t,e){e||(e={});var r=hpe({},e),n=r.ignore;r.cwd=typeof r.cwd=="string"?r.cwd:process.cwd(),r.dot=typeof r.dot=="boolean"?r.dot:!1,r.silent=typeof r.silent=="boolean"?r.silent:!0,r.cwdbase=typeof r.cwdbase=="boolean"?r.cwdbase:!1,r.uniqueBy=typeof r.uniqueBy=="string"||typeof r.uniqueBy=="function"?r.uniqueBy:"path",r.cwdbase&&(r.base=r.cwd),typeof n=="string"&&(n=[n]),Array.isArray(n)||(n=[]),Array.isArray(t)||(t=[t]);var i=[],s=[];t.forEach(o);function o(p,f){if(typeof p!="string")throw new Error("Invalid glob at index "+f);var m=fpe(p),g=m.negated?s:i;g.push({index:f,glob:m.pattern})}if(i.length===0)throw new Error("Missing positive glob");var a=i.map(l),u=new cpe(a),c=lpe(r.uniqueBy);return ppe.obj(u,c);function l(p){var f=s.filter(gpe(p.index)).map(Hpe).concat(n);return new dpe(p.glob,f,r)}}function gpe(t){return function(e){return e.index>t}}function Hpe(t){return t.glob}zq.exports=mpe});var wv=b((xPe,a8)=>{"use strict";var{Transform:wpe}=require("stream"),{StringDecoder:Ape}=require("string_decoder"),da=Symbol("last"),_v=Symbol("decoder");function Ipe(t,e,r){let n;if(this.overflow){if(n=this[_v].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[da]+=this[_v].write(t),n=this[da].split(this.matcher);this[da]=n.pop();for(let i=0;i<n.length;i++)try{o8(this,this.mapper(n[i]))}catch(s){return r(s)}if(this.overflow=this[da].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Spe(t){if(this[da]+=this[_v].end(),this[da])try{o8(this,this.mapper(this[da]))}catch(e){return t(e)}t()}function o8(t,e){e!==void 0&&t.push(e)}function s8(t){return t}function Epe(t,e,r){switch(t=t||/\r?\n/,e=e||s8,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=s8)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=Ipe,r.flush=Spe,r.readableObjectMode=!0;let n=new wpe(r);return n[da]="",n[_v]=new Ape("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,s){this._writableState.errorEmitted=!1,s(i)},n}a8.exports=Epe});var L8,C8=KV(()=>{L8="./w32appcontainertokens-XTRA77NA.node"});var D8=b((e$e,P8)=>{C8();try{P8.exports=require(L8)}catch{}});var $8=b(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.getAppContainerProcessTokens=void 0;var Tpe=require("path"),T8,$pe=()=>{if(process.platform==="win32")return T8??=D8(),T8},Mpe=t=>{var e;return(e=$pe())==null?void 0:e.getAppContainerProcessTokens().map(r=>(0,Tpe.join)(r,t))};Lv.getAppContainerProcessTokens=Mpe});var Q8=b((QMe,Uv)=>{var jpe=require("fs"),Y8=require("path"),qpe=require("os"),Wpe=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Vpe(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=Wpe.exec(r))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[i]=s}return e}function ZE(t){console.log(`[dotenv][DEBUG] ${t}`)}function Gpe(t){return t[0]==="~"?Y8.join(qpe.homedir(),t.slice(1)):t}function Kpe(t){let e=Y8.resolve(process.cwd(),".env"),r="utf8",n=Boolean(t&&t.debug),i=Boolean(t&&t.override);t&&(t.path!=null&&(e=Gpe(t.path)),t.encoding!=null&&(r=t.encoding));try{let s=Fv.parse(jpe.readFileSync(e,{encoding:r}));return Object.keys(s).forEach(function(o){Object.prototype.hasOwnProperty.call(process.env,o)?(i===!0&&(process.env[o]=s[o]),n&&ZE(i===!0?`"${o}" is already defined in \`process.env\` and WAS overwritten`:`"${o}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[o]=s[o]}),{parsed:s}}catch(s){return n&&ZE(`Failed to load ${e} ${s.message}`),{error:s}}}var Fv={config:Kpe,parse:Vpe};Uv.exports.config=Fv.config;Uv.exports.parse=Fv.parse;Uv.exports=Fv});var oV=b(ux=>{var sV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");ux.encode=function(t){if(0<=t&&t<sV.length)return sV[t];throw new TypeError("Must be between 0 and 63: "+t)};ux.decode=function(t){var e=65,r=90,n=97,i=122,s=48,o=57,a=43,u=47,c=26,l=52;return e<=t&&t<=r?t-e:n<=t&&t<=i?t-n+c:s<=t&&t<=o?t-s+l:t==a?62:t==u?63:-1}});var px=b(lx=>{var aV=oV(),cx=5,uV=1<<cx,cV=uV-1,lV=uV;function mfe(t){return t<0?(-t<<1)+1:(t<<1)+0}function gfe(t){var e=(t&1)===1,r=t>>1;return e?-r:r}lx.encode=function(e){var r="",n,i=mfe(e);do n=i&cV,i>>>=cx,i>0&&(n|=lV),r+=aV.encode(n);while(i>0);return r};lx.decode=function(e,r,n){var i=e.length,s=0,o=0,a,u;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(u=aV.decode(e.charCodeAt(r++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));a=!!(u&lV),u&=cV,s=s+(u<<o),o+=cx}while(a);n.value=gfe(s),n.rest=r}});var Tp=b(Ar=>{function Hfe(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}Ar.getArg=Hfe;var pV=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,yfe=/^data:.+\,.+$/;function wd(t){var e=t.match(pV);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}Ar.urlParse=wd;function Pp(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}Ar.urlGenerate=Pp;function fx(t){var e=t,r=wd(t);if(r){if(!r.path)return t;e=r.path}for(var n=Ar.isAbsolute(e),i=e.split(/\/+/),s,o=0,a=i.length-1;a>=0;a--)s=i[a],s==="."?i.splice(a,1):s===".."?o++:o>0&&(s===""?(i.splice(a+1,o),o=0):(i.splice(a,2),o--));return e=i.join("/"),e===""&&(e=n?"/":"."),r?(r.path=e,Pp(r)):e}Ar.normalize=fx;function fV(t,e){t===""&&(t="."),e===""&&(e=".");var r=wd(e),n=wd(t);if(n&&(t=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Pp(r);if(r||e.match(yfe))return e;if(n&&!n.host&&!n.path)return n.host=e,Pp(n);var i=e.charAt(0)==="/"?e:fx(t.replace(/\/+$/,"")+"/"+e);return n?(n.path=i,Pp(n)):i}Ar.join=fV;Ar.isAbsolute=function(t){return t.charAt(0)==="/"||pV.test(t)};function vfe(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var r=0;e.indexOf(t+"/")!==0;){var n=t.lastIndexOf("/");if(n<0||(t=t.slice(0,n),t.match(/^([^\/]+:\/)?\/*$/)))return e;++r}return Array(r+1).join("../")+e.substr(t.length+1)}Ar.relative=vfe;var hV=function(){var t=Object.create(null);return!("__proto__"in t)}();function dV(t){return t}function bfe(t){return mV(t)?"$"+t:t}Ar.toSetString=hV?dV:bfe;function _fe(t){return mV(t)?t.slice(1):t}Ar.fromSetString=hV?dV:_fe;function mV(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function wfe(t,e,r){var n=Dp(t.source,e.source);return n!==0||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:Dp(t.name,e.name)}Ar.compareByOriginalPositions=wfe;function Afe(t,e,r){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0||r)||(n=Dp(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Dp(t.name,e.name)}Ar.compareByGeneratedPositionsDeflated=Afe;function Dp(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function Ife(t,e){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=Dp(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:Dp(t.name,e.name)}Ar.compareByGeneratedPositionsInflated=Ife;function Sfe(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Ar.parseSourceMapInput=Sfe;function Efe(t,e,r){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),r){var n=wd(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}e=fV(Pp(n),e)}return fx(e)}Ar.computeSourceURL=Efe});var mx=b(gV=>{var hx=Tp(),dx=Object.prototype.hasOwnProperty,Uu=typeof Map<"u";function Qs(){this._array=[],this._set=Uu?new Map:Object.create(null)}Qs.fromArray=function(e,r){for(var n=new Qs,i=0,s=e.length;i<s;i++)n.add(e[i],r);return n};Qs.prototype.size=function(){return Uu?this._set.size:Object.getOwnPropertyNames(this._set).length};Qs.prototype.add=function(e,r){var n=Uu?e:hx.toSetString(e),i=Uu?this.has(e):dx.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(e),i||(Uu?this._set.set(e,s):this._set[n]=s)};Qs.prototype.has=function(e){if(Uu)return this._set.has(e);var r=hx.toSetString(e);return dx.call(this._set,r)};Qs.prototype.indexOf=function(e){if(Uu){var r=this._set.get(e);if(r>=0)return r}else{var n=hx.toSetString(e);if(dx.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};Qs.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Qs.prototype.toArray=function(){return this._array.slice()};gV.ArraySet=Qs});var vV=b(yV=>{var HV=Tp();function xfe(t,e){var r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,s=e.generatedColumn;return n>r||n==r&&s>=i||HV.compareByGeneratedPositionsInflated(t,e)<=0}function lb(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}lb.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};lb.prototype.add=function(e){xfe(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};lb.prototype.toArray=function(){return this._sorted||(this._array.sort(HV.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};yV.MappingList=lb});var gx=b(bV=>{var Ad=px(),kt=Tp(),pb=mx().ArraySet,Cfe=vV().MappingList;function jn(t){t||(t={}),this._file=kt.getArg(t,"file",null),this._sourceRoot=kt.getArg(t,"sourceRoot",null),this._skipValidation=kt.getArg(t,"skipValidation",!1),this._sources=new pb,this._names=new pb,this._mappings=new Cfe,this._sourcesContents=null}jn.prototype._version=3;jn.fromSourceMap=function(e){var r=e.sourceRoot,n=new jn({file:e.file,sourceRoot:r});return e.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=kt.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),e.sources.forEach(function(i){var s=i;r!==null&&(s=kt.relative(r,i)),n._sources.has(s)||n._sources.add(s);var o=e.sourceContentFor(i);o!=null&&n.setSourceContent(i,o)}),n};jn.prototype.addMapping=function(e){var r=kt.getArg(e,"generated"),n=kt.getArg(e,"original",null),i=kt.getArg(e,"source",null),s=kt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})};jn.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=kt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[kt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[kt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};jn.prototype.applySourceMap=function(e,r,n){var i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var s=this._sourceRoot;s!=null&&(i=kt.relative(s,i));var o=new pb,a=new pb;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){var c=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});c.source!=null&&(u.source=c.source,n!=null&&(u.source=kt.join(n,u.source)),s!=null&&(u.source=kt.relative(s,u.source)),u.originalLine=c.line,u.originalColumn=c.column,c.name!=null&&(u.name=c.name))}var l=u.source;l!=null&&!o.has(l)&&o.add(l);var p=u.name;p!=null&&!a.has(p)&&a.add(p)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){var c=e.sourceContentFor(u);c!=null&&(n!=null&&(u=kt.join(n,u)),s!=null&&(u=kt.relative(s,u)),this.setSourceContent(u,c))},this)};jn.prototype._validateMapping=function(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}};jn.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,i=0,s=0,o=0,a="",u,c,l,p,f=this._mappings.toArray(),m=0,g=f.length;m<g;m++){if(c=f[m],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(m>0){if(!kt.compareByGeneratedPositionsInflated(c,f[m-1]))continue;u+=","}u+=Ad.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),u+=Ad.encode(p-o),o=p,u+=Ad.encode(c.originalLine-1-i),i=c.originalLine-1,u+=Ad.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=Ad.encode(l-s),s=l)),a+=u}return a};jn.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=kt.relative(r,n));var i=kt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};jn.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};jn.prototype.toString=function(){return JSON.stringify(this.toJSON())};bV.SourceMapGenerator=jn});var _V=b(ju=>{ju.GREATEST_LOWER_BOUND=1;ju.LEAST_UPPER_BOUND=2;function Hx(t,e,r,n,i,s){var o=Math.floor((e-t)/2)+t,a=i(r,n[o],!0);return a===0?o:a>0?e-o>1?Hx(o,e,r,n,i,s):s==ju.LEAST_UPPER_BOUND?e<n.length?e:-1:o:o-t>1?Hx(t,o,r,n,i,s):s==ju.LEAST_UPPER_BOUND?o:t<0?-1:t}ju.search=function(e,r,n,i){if(r.length===0)return-1;var s=Hx(-1,r.length,e,r,n,i||ju.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var AV=b(wV=>{function yx(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Lfe(t,e){return Math.round(t+Math.random()*(e-t))}function vx(t,e,r,n){if(r<n){var i=Lfe(r,n),s=r-1;yx(t,i,n);for(var o=t[n],a=r;a<n;a++)e(t[a],o)<=0&&(s+=1,yx(t,s,a));yx(t,s+1,a);var u=s+1;vx(t,e,r,u-1),vx(t,e,u+1,n)}}wV.quickSort=function(t,e){vx(t,e,0,t.length-1)}});var SV=b(fb=>{var le=Tp(),bx=_V(),$p=mx().ArraySet,Pfe=px(),Id=AV().quickSort;function lt(t,e){var r=t;return typeof t=="string"&&(r=le.parseSourceMapInput(t)),r.sections!=null?new gi(r,e):new lr(r,e)}lt.fromSourceMap=function(t,e){return lr.fromSourceMap(t,e)};lt.prototype._version=3;lt.prototype.__generatedMappings=null;Object.defineProperty(lt.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});lt.prototype.__originalMappings=null;Object.defineProperty(lt.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});lt.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};lt.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};lt.GENERATED_ORDER=1;lt.ORIGINAL_ORDER=2;lt.GREATEST_LOWER_BOUND=1;lt.LEAST_UPPER_BOUND=2;lt.prototype.eachMapping=function(e,r,n){var i=r||null,s=n||lt.GENERATED_ORDER,o;switch(s){case lt.GENERATED_ORDER:o=this._generatedMappings;break;case lt.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map(function(u){var c=u.source===null?null:this._sources.at(u.source);return c=le.computeSourceURL(a,c,this._sourceMapURL),{source:c,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(e,i)};lt.prototype.allGeneratedPositionsFor=function(e){var r=le.getArg(e,"line"),n={source:le.getArg(e,"source"),originalLine:r,originalColumn:le.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",le.compareByOriginalPositions,bx.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:le.getArg(o,"generatedLine",null),column:le.getArg(o,"generatedColumn",null),lastColumn:le.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var u=o.originalColumn;o&&o.originalLine===r&&o.originalColumn==u;)i.push({line:le.getArg(o,"generatedLine",null),column:le.getArg(o,"generatedColumn",null),lastColumn:le.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};fb.SourceMapConsumer=lt;function lr(t,e){var r=t;typeof t=="string"&&(r=le.parseSourceMapInput(t));var n=le.getArg(r,"version"),i=le.getArg(r,"sources"),s=le.getArg(r,"names",[]),o=le.getArg(r,"sourceRoot",null),a=le.getArg(r,"sourcesContent",null),u=le.getArg(r,"mappings"),c=le.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=le.normalize(o)),i=i.map(String).map(le.normalize).map(function(l){return o&&le.isAbsolute(o)&&le.isAbsolute(l)?le.relative(o,l):l}),this._names=$p.fromArray(s.map(String),!0),this._sources=$p.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(l){return le.computeSourceURL(o,l,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=e,this.file=c}lr.prototype=Object.create(lt.prototype);lr.prototype.consumer=lt;lr.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=le.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==t)return r;return-1};lr.fromSourceMap=function(e,r){var n=Object.create(lr.prototype),i=n._names=$p.fromArray(e._names.toArray(),!0),s=n._sources=$p.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(m){return le.computeSourceURL(n.sourceRoot,m,r)});for(var o=e._mappings.toArray().slice(),a=n.__generatedMappings=[],u=n.__originalMappings=[],c=0,l=o.length;c<l;c++){var p=o[c],f=new IV;f.generatedLine=p.generatedLine,f.generatedColumn=p.generatedColumn,p.source&&(f.source=s.indexOf(p.source),f.originalLine=p.originalLine,f.originalColumn=p.originalColumn,p.name&&(f.name=i.indexOf(p.name)),u.push(f)),a.push(f)}return Id(n.__originalMappings,le.compareByOriginalPositions),n};lr.prototype._version=3;Object.defineProperty(lr.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function IV(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}lr.prototype._parseMappings=function(e,r){for(var n=1,i=0,s=0,o=0,a=0,u=0,c=e.length,l=0,p={},f={},m=[],g=[],y,v,w,R,U;l<c;)if(e.charAt(l)===";")n++,l++,i=0;else if(e.charAt(l)===",")l++;else{for(y=new IV,y.generatedLine=n,R=l;R<c&&!this._charIsMappingSeparator(e,R);R++);if(v=e.slice(l,R),w=p[v],w)l+=v.length;else{for(w=[];l<R;)Pfe.decode(e,l,f),U=f.value,l=f.rest,w.push(U);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");p[v]=w}y.generatedColumn=i+w[0],i=y.generatedColumn,w.length>1&&(y.source=a+w[1],a+=w[1],y.originalLine=s+w[2],s=y.originalLine,y.originalLine+=1,y.originalColumn=o+w[3],o=y.originalColumn,w.length>4&&(y.name=u+w[4],u+=w[4])),g.push(y),typeof y.originalLine=="number"&&m.push(y)}Id(g,le.compareByGeneratedPositionsDeflated),this.__generatedMappings=g,Id(m,le.compareByOriginalPositions),this.__originalMappings=m};lr.prototype._findMapping=function(e,r,n,i,s,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return bx.search(e,r,s,o)};lr.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};lr.prototype.originalPositionFor=function(e){var r={generatedLine:le.getArg(e,"line"),generatedColumn:le.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",le.compareByGeneratedPositionsDeflated,le.getArg(e,"bias",lt.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=le.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=le.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=le.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:le.getArg(i,"originalLine",null),column:le.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};lr.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};lr.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i=e;this.sourceRoot!=null&&(i=le.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=le.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};lr.prototype.generatedPositionFor=function(e){var r=le.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:le.getArg(e,"line"),originalColumn:le.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",le.compareByOriginalPositions,le.getArg(e,"bias",lt.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:le.getArg(s,"generatedLine",null),column:le.getArg(s,"generatedColumn",null),lastColumn:le.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};fb.BasicSourceMapConsumer=lr;function gi(t,e){var r=t;typeof t=="string"&&(r=le.parseSourceMapInput(t));var n=le.getArg(r,"version"),i=le.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new $p,this._names=new $p;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=le.getArg(o,"offset"),u=le.getArg(a,"line"),c=le.getArg(a,"column");if(u<s.line||u===s.line&&c<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:u+1,generatedColumn:c+1},consumer:new lt(le.getArg(o,"map"),e)}})}gi.prototype=Object.create(lt.prototype);gi.prototype.constructor=lt;gi.prototype._version=3;Object.defineProperty(gi.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)t.push(this._sections[e].consumer.sources[r]);return t}});gi.prototype.originalPositionFor=function(e){var r={generatedLine:le.getArg(e,"line"),generatedColumn:le.getArg(e,"column")},n=bx.search(r,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};gi.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};gi.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(e,!0);if(s)return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};gi.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(le.getArg(e,"source"))!==-1){var i=n.consumer.generatedPositionFor(e);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};gi.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],u=i.consumer._sources.at(a.source);u=le.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var c=null;a.name&&(c=i.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var l={source:u,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}Id(this.__generatedMappings,le.compareByGeneratedPositionsDeflated),Id(this.__originalMappings,le.compareByOriginalPositions)};fb.IndexedSourceMapConsumer=gi});var xV=b(EV=>{var Dfe=gx().SourceMapGenerator,hb=Tp(),Tfe=/(\r?\n)/,$fe=10,Mp="$$$isSourceNode$$$";function Hn(t,e,r,n,i){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=r??null,this.name=i??null,this[Mp]=!0,n!=null&&this.add(n)}Hn.fromStringWithSourceMap=function(e,r,n){var i=new Hn,s=e.split(Tfe),o=0,a=function(){var f=g(),m=g()||"";return f+m;function g(){return o<s.length?s[o++]:void 0}},u=1,c=0,l=null;return r.eachMapping(function(f){if(l!==null)if(u<f.generatedLine)p(l,a()),u++,c=0;else{var m=s[o]||"",g=m.substr(0,f.generatedColumn-c);s[o]=m.substr(f.generatedColumn-c),c=f.generatedColumn,p(l,g),l=f;return}for(;u<f.generatedLine;)i.add(a()),u++;if(c<f.generatedColumn){var m=s[o]||"";i.add(m.substr(0,f.generatedColumn)),s[o]=m.substr(f.generatedColumn),c=f.generatedColumn}l=f},this),o<s.length&&(l&&p(l,a()),i.add(s.splice(o).join(""))),r.sources.forEach(function(f){var m=r.sourceContentFor(f);m!=null&&(n!=null&&(f=hb.join(n,f)),i.setSourceContent(f,m))}),i;function p(f,m){if(f===null||f.source===void 0)i.add(m);else{var g=n?hb.join(n,f.source):f.source;i.add(new Hn(f.originalLine,f.originalColumn,g,m,f.name))}}};Hn.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[Mp]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Hn.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[Mp]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Hn.prototype.walk=function(e){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Mp]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};Hn.prototype.join=function(e){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};Hn.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[Mp]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};Hn.prototype.setSourceContent=function(e,r){this.sourceContents[hb.toSetString(e)]=r};Hn.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Mp]&&this.children[r].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)e(hb.fromSetString(i[r]),this.sourceContents[i[r]])};Hn.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};Hn.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new Dfe(e),i=!1,s=null,o=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((s!==l.source||o!==l.line||a!==l.column||u!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),s=l.source,o=l.line,a=l.column,u=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var p=0,f=c.length;p<f;p++)c.charCodeAt(p)===$fe?(r.line++,r.column=0,p+1===f?(s=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){n.setSourceContent(c,l)}),{code:r.code,map:n}};EV.SourceNode=Hn});var CV=b(db=>{db.SourceMapGenerator=gx().SourceMapGenerator;db.SourceMapConsumer=SV().SourceMapConsumer;db.SourceNode=xV().SourceNode});var PV=b((s2e,LV)=>{var Mfe=Object.prototype.toString,_x=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Rfe(t){return Mfe.call(t).slice(8,-1)==="ArrayBuffer"}function kfe(t,e,r){e>>>=0;var n=t.byteLength-e;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return _x?Buffer.from(t.slice(e,e+r)):new Buffer(new Uint8Array(t.slice(e,e+r)))}function Ofe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return _x?Buffer.from(t,e):new Buffer(t,e)}function Nfe(t,e,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return Rfe(t)?kfe(t,e,r):typeof t=="string"?Ofe(t,e):_x?Buffer.from(t):new Buffer(t)}LV.exports=Nfe});var NV=b((Wu,Sx)=>{var Bfe=CV().SourceMapConsumer,wx=require("path"),ds;try{ds=require("fs"),(!ds.existsSync||!ds.readFileSync)&&(ds=null)}catch{}var Ffe=PV();function DV(t,e){return t.require(e)}var TV=!1,$V=!1,Ax=!1,Sd="auto",qu={},Ed={},Ufe=/^data:application\/json[^,]+base64,/,Sa=[],Ea=[];function Ex(){return Sd==="browser"?!0:Sd==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function jfe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function qfe(){return typeof process=="object"&&process!==null?process.version:""}function Wfe(){if(typeof process=="object"&&process!==null)return process.stderr}function Vfe(t){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(t)}function mb(t){return function(e){for(var r=0;r<t.length;r++){var n=t[r](e);if(n)return n}return null}}var xx=mb(Sa);Sa.push(function(t){if(t=t.trim(),/^file:/.test(t)&&(t=t.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),t in qu)return qu[t];var e="";try{if(ds)ds.existsSync(t)&&(e=ds.readFileSync(t,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",t,!1),r.send(null),r.readyState===4&&r.status===200&&(e=r.responseText)}}catch{}return qu[t]=e});function Ix(t,e){if(!t)return e;var r=wx.dirname(t),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+wx.resolve(r.slice(i.length),e).replace(/\\/g,"/")):i+wx.resolve(r.slice(i.length),e)}function Gfe(t){var e;if(Ex())try{var r=new XMLHttpRequest;r.open("GET",t,!1),r.send(null),e=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}e=xx(t);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,o;o=i.exec(e);)s=o;return s?s[1]:null}var Cx=mb(Ea);Ea.push(function(t){var e=Gfe(t);if(!e)return null;var r;if(Ufe.test(e)){var n=e.slice(e.indexOf(",")+1);r=Ffe(n,"base64").toString(),e=t}else e=Ix(t,e),r=xx(e);return r?{url:e,map:r}:null});function Lx(t){var e=Ed[t.source];if(!e){var r=Cx(t.source);r?(e=Ed[t.source]={url:r.url,map:new Bfe(r.map)},e.map.sourcesContent&&e.map.sources.forEach(function(i,s){var o=e.map.sourcesContent[s];if(o){var a=Ix(e.url,i);qu[a]=o}})):e=Ed[t.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var n=e.map.originalPositionFor(t);if(n.source!==null)return n.source=Ix(e.url,n.source),n}return t}function RV(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var r=Lx({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+RV(e[2])+")":t}function Kfe(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),t?e+=t:e+="<anonymous>";var r=this.getLineNumber();if(r!=null){e+=":"+r;var n=this.getColumnNumber();n&&(e+=":"+n)}}var i="",s=this.getFunctionName(),o=!0,a=this.isConstructor(),u=!(this.isToplevel()||a);if(u){var c=this.getTypeName();c==="[object Object]"&&(c="null");var l=this.getMethodName();s?(c&&s.indexOf(c)!=0&&(i+=c+"."),i+=s,l&&s.indexOf("."+l)!=s.length-l.length-1&&(i+=" [as "+l+"]")):i+=c+"."+(l||"<anonymous>")}else a?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=e,o=!1);return o&&(i+=" ("+e+")"),i}function MV(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(r){e[r]=/^(?:is|get)/.test(r)?function(){return t[r].call(t)}:t[r]}),e.toString=Kfe,e}function kV(t,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),t.isNative())return e.curPosition=null,t;var r=t.getFileName()||t.getScriptNameOrSourceURL();if(r){var n=t.getLineNumber(),i=t.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,o=s.test(qfe())?0:62;n===1&&i>o&&!Ex()&&!t.isEval()&&(i-=o);var a=Lx({source:r,line:n,column:i});e.curPosition=a,t=MV(t);var u=t.getFunctionName;return t.getFunctionName=function(){return e.nextPosition==null?u():e.nextPosition.name||u()},t.getFileName=function(){return a.source},t.getLineNumber=function(){return a.line},t.getColumnNumber=function(){return a.column+1},t.getScriptNameOrSourceURL=function(){return a.source},t}var c=t.isEval()&&t.getEvalOrigin();return c&&(c=RV(c),t=MV(t),t.getEvalOrigin=function(){return c}),t}function Xfe(t,e){Ax&&(qu={},Ed={});for(var r=t.name||"Error",n=t.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},o=[],a=e.length-1;a>=0;a--)o.push(`
    at `+kV(e[a],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+o.reverse().join("")}function OV(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var r=e[1],n=+e[2],i=+e[3],s=qu[r];if(!s&&ds&&ds.existsSync(r))try{s=ds.readFileSync(r,"utf8")}catch{s=""}if(s){var o=s.split(/(?:\r\n|\r|\n)/)[n-1];if(o)return r+":"+n+`
`+o+`
`+new Array(i).join(" ")+"^"}}return null}function zfe(t){var e=OV(t),r=Wfe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(t.stack),Vfe(1)}function Jfe(){var t=process.emit;process.emit=function(e){if(e==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(e).length>0;if(r&&!n)return zfe(arguments[1])}return t.apply(this,arguments)}}var Yfe=Sa.slice(0),Qfe=Ea.slice(0);Wu.wrapCallSite=kV;Wu.getErrorSource=OV;Wu.mapSourcePosition=Lx;Wu.retrieveSourceMap=Cx;Wu.install=function(t){if(t=t||{},t.environment&&(Sd=t.environment,["node","browser","auto"].indexOf(Sd)===-1))throw new Error("environment "+Sd+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(Sa.length=0),Sa.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(Ea.length=0),Ea.unshift(t.retrieveSourceMap)),t.hookRequire&&!Ex()){var e=DV(Sx,"module"),r=e.prototype._compile;r.__sourceMapSupport||(e.prototype._compile=function(s,o){return qu[o]=s,Ed[o]=void 0,r.call(this,s,o)},e.prototype._compile.__sourceMapSupport=!0)}if(Ax||(Ax="emptyCacheBetweenOperations"in t?t.emptyCacheBetweenOperations:!1),TV||(TV=!0,Error.prepareStackTrace=Xfe),!$V){var n="handleUncaughtExceptions"in t?t.handleUncaughtExceptions:!0;try{var i=DV(Sx,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&jfe()&&($V=!0,Jfe())}};Wu.resetRetrieveHandlers=function(){Sa.length=0,Ea.length=0,Sa=Yfe.slice(0),Ea=Qfe.slice(0),Cx=mb(Ea),xx=mb(Sa)}});var bb=B(Lt()),BV=B(require("fs")),FV=B(require("net")),UV=B(require("os")),jV=B(require("path"));var Ox;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return qn(Object.create(null))}:a?function(){return qn({__proto__:null})}:function(){return qn({})},has:u?function(h,H){return r.call(h,H)}:function(h,H){return H in h},get:u?function(h,H){return r.call(h,H)?h[H]:void 0}:function(h,H){return h[H]}},l=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:xd(),m=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:_b(),g=!p&&typeof WeakMap=="function"?WeakMap:be(),y=new g;function v(h,H,_,A){if(re(_)){if(!Le(h))throw new TypeError;if(!He(H))throw new TypeError;return O(h,H)}else{if(!Le(h))throw new TypeError;if(!ge(H))throw new TypeError;if(!ge(A)&&!re(A)&&!he(A))throw new TypeError;return he(A)&&(A=void 0),_=Y(_),I(h,H,_,A)}}e("decorate",v);function w(h,H){function _(A,D){if(!ge(A))throw new TypeError;if(!re(D)&&!Be(D))throw new TypeError;Z(h,H,A,D)}return _}e("metadata",w);function R(h,H,_,A){if(!ge(_))throw new TypeError;return re(A)||(A=Y(A)),Z(h,H,_,A)}e("defineMetadata",R);function U(h,H,_){if(!ge(H))throw new TypeError;return re(_)||(_=Y(_)),k(h,H,_)}e("hasMetadata",U);function x(h,H,_){if(!ge(H))throw new TypeError;return re(_)||(_=Y(_)),X(h,H,_)}e("hasOwnMetadata",x);function P(h,H,_){if(!ge(H))throw new TypeError;return re(_)||(_=Y(_)),C(h,H,_)}e("getMetadata",P);function V(h,H,_){if(!ge(H))throw new TypeError;return re(_)||(_=Y(_)),L(h,H,_)}e("getOwnMetadata",V);function q(h,H){if(!ge(h))throw new TypeError;return re(H)||(H=Y(H)),te(h,H)}e("getMetadataKeys",q);function N(h,H){if(!ge(h))throw new TypeError;return re(H)||(H=Y(H)),ie(h,H)}e("getOwnMetadataKeys",N);function $(h,H,_){if(!ge(H))throw new TypeError;re(_)||(_=Y(_));var A=T(H,_,!1);if(re(A)||!A.delete(h))return!1;if(A.size>0)return!0;var D=y.get(H);return D.delete(_),D.size>0||y.delete(H),!0}e("deleteMetadata",$);function O(h,H){for(var _=h.length-1;_>=0;--_){var A=h[_],D=A(H);if(!re(D)&&!he(D)){if(!He(D))throw new TypeError;H=D}}return H}function I(h,H,_,A){for(var D=h.length-1;D>=0;--D){var M=h[D],j=M(H,_,A);if(!re(j)&&!he(j)){if(!ge(j))throw new TypeError;A=j}}return A}function T(h,H,_){var A=y.get(h);if(re(A)){if(!_)return;A=new f,y.set(h,A)}var D=A.get(H);if(re(D)){if(!_)return;D=new f,A.set(H,D)}return D}function k(h,H,_){var A=X(h,H,_);if(A)return!0;var D=Vu(H);return he(D)?!1:k(h,D,_)}function X(h,H,_){var A=T(H,_,!1);return re(A)?!1:Ir(A.has(h))}function C(h,H,_){var A=X(h,H,_);if(A)return L(h,H,_);var D=Vu(H);if(!he(D))return C(h,D,_)}function L(h,H,_){var A=T(H,_,!1);if(!re(A))return A.get(h)}function Z(h,H,_,A){var D=T(_,A,!0);D.set(h,H)}function te(h,H){var _=ie(h,H),A=Vu(h);if(A===null)return _;var D=te(A,H);if(D.length<=0)return _;if(_.length<=0)return D;for(var M=new m,j=[],W=0,F=_;W<F.length;W++){var ne=F[W],ue=M.has(ne);ue||(M.add(ne),j.push(ne))}for(var me=0,De=D;me<De.length;me++){var ne=De[me],ue=M.has(ne);ue||(M.add(ne),j.push(ne))}return j}function ie(h,H){var _=[],A=T(h,H,!1);if(re(A))return _;for(var D=A.keys(),M=gt(D),j=0;;){var W=eo(M);if(!W)return _.length=j,_;var F=Zs(W);try{_[j]=F}catch(ne){try{xa(M)}finally{throw ne}}j++}}function se(h){if(h===null)return 1;switch(typeof h){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return h===null?1:6;default:return 6}}function re(h){return h===void 0}function he(h){return h===null}function we(h){return typeof h=="symbol"}function ge(h){return typeof h=="object"?h!==null:typeof h=="function"}function Ct(h,H){switch(se(h)){case 0:return h;case 1:return h;case 2:return h;case 3:return h;case 4:return h;case 5:return h}var _=H===3?"string":H===5?"number":"default",A=pt(h,i);if(A!==void 0){var D=A.call(h,_);if(ge(D))throw new TypeError;return D}return ve(h,_==="default"?"number":_)}function ve(h,H){if(H==="string"){var _=h.toString;if(J(_)){var A=_.call(h);if(!ge(A))return A}var D=h.valueOf;if(J(D)){var A=D.call(h);if(!ge(A))return A}}else{var D=h.valueOf;if(J(D)){var A=D.call(h);if(!ge(A))return A}var M=h.toString;if(J(M)){var A=M.call(h);if(!ge(A))return A}}throw new TypeError}function Ir(h){return!!h}function Yr(h){return""+h}function Y(h){var H=Ct(h,3);return we(H)?H:Yr(H)}function Le(h){return Array.isArray?Array.isArray(h):h instanceof Object?h instanceof Array:Object.prototype.toString.call(h)==="[object Array]"}function J(h){return typeof h=="function"}function He(h){return typeof h=="function"}function Be(h){switch(se(h)){case 3:return!0;case 4:return!0;default:return!1}}function pt(h,H){var _=h[H];if(_!=null){if(!J(_))throw new TypeError;return _}}function gt(h){var H=pt(h,s);if(!J(H))throw new TypeError;var _=H.call(h);if(!ge(_))throw new TypeError;return _}function Zs(h){return h.value}function eo(h){var H=h.next();return H.done?!1:H}function xa(h){var H=h.return;H&&H.call(h)}function Vu(h){var H=Object.getPrototypeOf(h);if(typeof h!="function"||h===l||H!==l)return H;var _=h.prototype,A=_&&Object.getPrototypeOf(_);if(A==null||A===Object.prototype)return H;var D=A.constructor;return typeof D!="function"||D===h?H:D}function xd(){var h={},H=[],_=function(){function j(W,F,ne){this._index=0,this._keys=W,this._values=F,this._selector=ne}return j.prototype["@@iterator"]=function(){return this},j.prototype[s]=function(){return this},j.prototype.next=function(){var W=this._index;if(W>=0&&W<this._keys.length){var F=this._selector(this._keys[W],this._values[W]);return W+1>=this._keys.length?(this._index=-1,this._keys=H,this._values=H):this._index++,{value:F,done:!1}}return{value:void 0,done:!0}},j.prototype.throw=function(W){throw this._index>=0&&(this._index=-1,this._keys=H,this._values=H),W},j.prototype.return=function(W){return this._index>=0&&(this._index=-1,this._keys=H,this._values=H),{value:W,done:!0}},j}();return function(){function j(){this._keys=[],this._values=[],this._cacheKey=h,this._cacheIndex=-2}return Object.defineProperty(j.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),j.prototype.has=function(W){return this._find(W,!1)>=0},j.prototype.get=function(W){var F=this._find(W,!1);return F>=0?this._values[F]:void 0},j.prototype.set=function(W,F){var ne=this._find(W,!0);return this._values[ne]=F,this},j.prototype.delete=function(W){var F=this._find(W,!1);if(F>=0){for(var ne=this._keys.length,ue=F+1;ue<ne;ue++)this._keys[ue-1]=this._keys[ue],this._values[ue-1]=this._values[ue];return this._keys.length--,this._values.length--,W===this._cacheKey&&(this._cacheKey=h,this._cacheIndex=-2),!0}return!1},j.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=h,this._cacheIndex=-2},j.prototype.keys=function(){return new _(this._keys,this._values,A)},j.prototype.values=function(){return new _(this._keys,this._values,D)},j.prototype.entries=function(){return new _(this._keys,this._values,M)},j.prototype["@@iterator"]=function(){return this.entries()},j.prototype[s]=function(){return this.entries()},j.prototype._find=function(W,F){return this._cacheKey!==W&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=W)),this._cacheIndex<0&&F&&(this._cacheIndex=this._keys.length,this._keys.push(W),this._values.push(void 0)),this._cacheIndex},j}();function A(j,W){return j}function D(j,W){return W}function M(j,W){return[j,W]}}function _b(){return function(){function h(){this._map=new f}return Object.defineProperty(h.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),h.prototype.has=function(H){return this._map.has(H)},h.prototype.add=function(H){return this._map.set(H,H),this},h.prototype.delete=function(H){return this._map.delete(H)},h.prototype.clear=function(){this._map.clear()},h.prototype.keys=function(){return this._map.keys()},h.prototype.values=function(){return this._map.values()},h.prototype.entries=function(){return this._map.entries()},h.prototype["@@iterator"]=function(){return this.keys()},h.prototype[s]=function(){return this.keys()},h}()}function be(){var h=16,H=c.create(),_=A();return function(){function F(){this._key=A()}return F.prototype.has=function(ne){var ue=D(ne,!1);return ue!==void 0?c.has(ue,this._key):!1},F.prototype.get=function(ne){var ue=D(ne,!1);return ue!==void 0?c.get(ue,this._key):void 0},F.prototype.set=function(ne,ue){var me=D(ne,!0);return me[this._key]=ue,this},F.prototype.delete=function(ne){var ue=D(ne,!1);return ue!==void 0?delete ue[this._key]:!1},F.prototype.clear=function(){this._key=A()},F}();function A(){var F;do F="@@WeakMap@@"+W();while(c.has(H,F));return H[F]=!0,F}function D(F,ne){if(!r.call(F,_)){if(!ne)return;Object.defineProperty(F,_,{value:c.create()})}return F[_]}function M(F,ne){for(var ue=0;ue<ne;++ue)F[ue]=Math.random()*255|0;return F}function j(F){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(F)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(F)):M(new Uint8Array(F),F):M(new Array(F),F)}function W(){var F=j(h);F[6]=F[6]&79|64,F[8]=F[8]&191|128;for(var ne="",ue=0;ue<h;++ue){var me=F[ue];(ue===4||ue===6||ue===8)&&(ne+="-"),me<16&&(ne+="0"),ne+=me.toString(16).toLowerCase()}return ne}}function qn(h){return h.__=void 0,delete h.__,h}})})(Ox||(Ox={}));var p4={["pwa-extensionHost"]:null,["node-terminal"]:null,["pwa-node"]:null,["pwa-chrome"]:null,["pwa-msedge"]:null},f4={["extension.js-debug.addCustomBreakpoints"]:null,["extension.pwa-node-debug.attachNodeProcess"]:null,["extension.js-debug.clearAutoAttachVariables"]:null,["extension.js-debug.setAutoAttachVariables"]:null,["extension.js-debug.autoAttachToProcess"]:null,["extension.js-debug.createDebuggerTerminal"]:null,["extension.js-debug.createDiagnostics"]:null,["extension.js-debug.getDiagnosticLogs"]:null,["extension.js-debug.debugLink"]:null,["extension.js-debug.npmScript"]:null,["extension.js-debug.pickNodeProcess"]:null,["extension.js-debug.prettyPrint"]:null,["extension.js-debug.removeAllCustomBreakpoints"]:null,["extension.js-debug.removeCustomBreakpoint"]:null,["extension.js-debug.revealPage"]:null,["extension.js-debug.startProfile"]:null,["extension.js-debug.stopProfile"]:null,["extension.js-debug.toggleSkippingFile"]:null,["extension.node-debug.startWithStopOnEntry"]:null,["extension.js-debug.requestCDPProxy"]:null,["extension.js-debug.openEdgeDevTools"]:null,["extension.js-debug.callers.add"]:null,["extension.js-debug.callers.goToCaller"]:null,["extension.js-debug.callers.gotToTarget"]:null,["extension.js-debug.callers.remove"]:null,["extension.js-debug.callers.removeAll"]:null,["extension.js-debug.enableSourceMapStepping"]:null,["extension.js-debug.disableSourceMapStepping"]:null},rhe=new Set(Object.keys(f4)),nhe=new Set(Object.keys(p4));var Te=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{}),Nx=(t,e)=>{let r=setTimeout(t,e);return{dispose:()=>clearTimeout(r)}};function Ku(t){return new Promise((e,r)=>{let n=t.length;for(let i of t)i.then(s=>{s?(e(s),n=-1):--n===0&&e(void 0)}).catch(r)})}function je(){let t=null,e=null,r=!1,n,i=new Promise((s,o)=>{t=a=>{r=!0,n=a,s(a)},e=a=>{r=!0,o(a)}});return{resolve:t,reject:e,promise:i,get settledValue(){return n},hasSettled:()=>r}}var eb=B(kb()),FW=B(i_()),Zv=require("fs"),tb=B(ce());var Sf=require("fs"),zt=B(ce()),bg=B(require("path"));var gr=t=>!!t,uc=t=>Em(t,e=>e!==null),rD=t=>Em(t,e=>e!==void 0),Ta=t=>e=>e instanceof t,Sm=(t,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(t)))};function Em(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];e(i,n)&&(r[n]=i)}return r}function Hs(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];r[n]=e(i,n)}return r}function nD(t,e){let r={};for(let n of Object.keys(t))e(n,t[n])&&(r[n]=t[n]);return r}function iD(...t){if(t.length===0)return{};let e={},r=Object.create(null);for(let n of t)if(n)for(let i of Object.keys(n)){let s=i.toLowerCase();r[s]?e[r[s]]=n[i]:(r[s]=i,e[i]=n[i])}return e}function sD(t,e){if(t.hasOwnProperty(e))return t[e];let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase()===r)return t[n]}var k_=Symbol("unset");function $e(t){let e=k_,r=(...n)=>(e===k_&&(r.value=e=t(...n)),e);return r.forget=()=>{e=k_,r.value=void 0},r.value=void 0,r}function $a(t){let e=new Map,r=n=>{if(e.has(n))return e.get(n);let i=t(n);return e.set(n,i),i};return r.clear=()=>e.clear(),r}function oD(t){let e,r=n=>((e==null?void 0:e.arg)===n||(e={arg:n,val:t(n)}),e.val);return r.clear=()=>e=void 0,r}function aD(t,e){let r,n=()=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>{r=void 0,e()},t)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}function uD(t,e){let r,n=()=>{r===void 0&&(r=setTimeout(()=>{r=void 0,e()},t))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}function cD(t,e){let r=[],n=[];for(let i of t)e(i)?r.push(i):n.push(i);return[r,n]}function Xp(t){let e=[];for(let r of t)e=e.concat(r);return e}var vz=2**31-1,xm=()=>{let t=0;return()=>t++&vz};var z=class{constructor(){this._listeners=new Set;this.event=(e,r,n)=>{let i={listener:e,thisArg:r};this._listeners.add(i);let s={dispose:()=>{s.dispose=()=>{},this._listeners.delete(i)}};return n&&n.push(s),s}}get size(){return this._listeners.size}fire(e){let r=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let n of this._listeners)this._deliveryQueue.push({data:n,event:e});if(r){for(let n=0;n<this._deliveryQueue.length;n++){let{data:i,event:s}=this._deliveryQueue[n];i.listener.call(i.thisArg,s)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},zp=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,r){let n=this.map.get(e);n||(n=new z,this.map.set(e,n));let i=n.event(r);return{dispose:$e(()=>{i.dispose(),(n==null?void 0:n.size)===0&&this.map.delete(e)})}}emit(e,r){var n;(n=this.listeners.get(e))==null||n.fire(r)}};var Ma=B(ce()),tf=B(require("path"));var qe=Symbol("AnyLaunchConfiguration"),lD={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:N_("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},Yp={...lD,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},pD={...Yp,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},bz={...Yp,type:"node-terminal",request:"attach",name:pD.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},_z={...Yp,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},wz={...Yp,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},O_={...lD,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:N_("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},Az={...O_,type:"pwa-msedge",useWebView:!1},fD={...O_,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},Iz={...fD,type:"pwa-msedge",useWebView:!1},Sz={...Yp,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function N_(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var hD=t=>{!t.sourceMapPathOverrides&&t.cwd&&(t.sourceMapPathOverrides=N_(t.cwd)),t.resolveSourceMapLocations===void 0&&!t.remoteRoot&&(t.resolveSourceMapLocations=t.outFiles)};function Ez({...t}){return hD(t),t.request==="attach"?{...Sz,...t}:{...wz,...t}}function xz(t,e){return t.request==="attach"?{...O_,browserAttachLocation:e,...t}:{...fD,browserLaunchLocation:e,...t}}function Cz(t,e){return t.request==="attach"?{...Az,browserAttachLocation:e,...t}:{...Iz,browserLaunchLocation:e,...t}}function Lz(t){let e={..._z,...t};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function Pz(t){return hD(t),t.request==="launch"?{...pD,...t}:{...bz,...t}}function cc(t,e){let r,n=e==="remote"?"ui":"workspace";switch(t.type){case"pwa-node":r=Ez(t);break;case"pwa-msedge":r=Cz(t,n);break;case"pwa-chrome":r=xz(t,n);break;case"pwa-extensionHost":r=Lz(t);break;case"node-terminal":r=Pz(t);break;default:throw Sm(t,"Unknown config: {value}")}return Tz(r)}function Dz(t){var n,i,s;let e="${workspaceFolder}",r={...t,rootPath:void 0,outFiles:t.outFiles.filter(o=>!o.includes(e)),sourceMapPathOverrides:Em(t.sourceMapPathOverrides,o=>!o.includes("${workspaceFolder}"))};return"vueComponentPaths"in r&&(r.vueComponentPaths=r.vueComponentPaths.filter(o=>!o.includes(e))),"resolveSourceMapLocations"in r&&(r.resolveSourceMapLocations=((n=r.resolveSourceMapLocations)==null?void 0:n.filter(o=>!o.includes(e)))??null),"cwd"in r&&((i=r.cwd)!=null&&i.includes(e))&&(r.cwd=void 0),"webRoot"in r&&((s=r.webRoot)!=null&&s.includes(e))&&(r.webRoot="/"),r}function Tz(t){return t.__workspaceFolder||(t=Dz(t)),t=Jp(t,"workspaceFolder",t.__workspaceFolder),t=Jp(t,"webRoot","webRoot"in t?t.webRoot:t.__workspaceFolder),t}function Jp(t,e,r){let n;if(typeof t=="string")n=t.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!r)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return r});else if(t instanceof Array)n=t.map(i=>Jp(i,e,r));else if(typeof t=="object"&&t){let i={};for(let[s,o]of Object.entries(t))i[Jp(s,e,r)]=Jp(o,e,r);n=i}else n=t;return n}var Cm="js-debug",Qp="1.78.0",$z="ms-vscode",dD=Cm.includes("nightly"),tme=`${$z}.${Cm}`;var yD=require("crypto"),vD=B(i_()),bD=require("os"),ke=B(require("path"));var Mi=B(require("fs")),mD=B(require("util"));async function lc({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}async function no({stat:t},e){if(e)try{return await t(e)}catch{return}}function gD(t){return new Promise(e=>{Mi.stat(t,(r,n)=>e(r?void 0:n))})}function HD(t){return new Promise(e=>{Mi.readFile(t,"utf8",async(r,n)=>{e(r?"":n)})})}var nme=mD.promisify(Mi.writeFile);var Ur=Symbol("FsUtils"),Xn=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,Mi.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},B_=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:r}=await this.dap.remoteFileExistsRequest({localFilePath:e});return r}catch{return!1}}readFile(){throw new Error("not implemented")}},Lm=class{constructor(e,r,n){this.remoteFilePrefix=e;this.localFsUtils=r;this.remoteFsUtils=n}static create(e,r,n){let i=new Xn(r);return e!==void 0?new this(e.toLowerCase(),i,new B_(n)):i}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var Mz=process.platform==="win32"?"\\\\.\\pipe\\":(0,bD.tmpdir)(),Rz=0,Pm=()=>ke.join(Mz,`node-cdp.${process.pid}-${(0,yD.randomBytes)(4).toString("hex")}-${Rz++}.sock`);async function Dm(t,e,r){let n;if(process.platform==="win32"){let i=r.WINDIR||"C:\\Windows";n=ke.join(i,"System32","where.exe")}else n="/usr/bin/which";try{if(await no(t,n)){let s=(await(0,vD.default)(n,[e],{env:uc(r)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let o=String(r.PATHEXT||".exe").toUpperCase().split(";");for(let a of s){let u=ke.extname(a).toUpperCase();if(u&&o.includes(u))return a}}else if(s.length>0)return s[0];return}return e}catch{}}async function _D(t,e,r){if(e){if(process.platform==="win32"&&!ke.extname(e)){let n=r.lookup("PATHEXT");if(n){let i=n.split(";");for(let s of i){let o=e+s;if(await no(t,o))return o}}}if(await no(t,e))return e}}var wD=t=>t.includes(`.asar${ke.sep}`);function io(...t){return ke.posix.isAbsolute(t[0])?ft(ke.posix.join(...t)):ke.win32.isAbsolute(t[0])?ke.win32.join(...t):ke.join(...t)}function Zr(...t){return ke.posix.isAbsolute(t[0])?ke.posix.resolve(...t):ke.win32.isAbsolute(t[0])?ke.win32.resolve(...t):ke.resolve(...t)}function ef(t,e){return ke.posix.isAbsolute(t)?ke.posix.relative(t,e):ke.win32.isAbsolute(t)?ke.win32.relative(t,e):ke.relative(t,e)}var kz=/\/|\\/,Zp="file:///",AD=t=>t.startsWith(Zp)&&t[Zp.length+1]===":",F_=t=>t.split(kz);function U_(t,e=!1){if(!t)return t;if(AD(t)){let r=Zp.length;t=Zp+t[r].toLowerCase()+t.substr(r+1)}else Tm(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function _t(t,e=!1){if(!t)return t;if(t=U_(t,e),AD(t)){let r=Zp.length;t=t.substr(0,r+1)+t.substr(r+1).replace(/\//g,"\\")}else Tm(t)&&(t=t.replace(/\//g,"\\"));return t}function ft(t){return t.replace(/\\\//g,"/").replace(/\\/g,"/")}var ID=(t,e)=>{let r=ke.relative(t,e);return r.length&&!ke.isAbsolute(r)&&!r.startsWith("..")},SD=(t,e)=>{let r=ke.relative(t,e);return!ke.isAbsolute(r)&&!r.startsWith("..")},j_=t=>t.startsWith("\\\\"),Tm=t=>/^[A-Za-z]:/.test(t)||j_(t);var pc=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:r}){!e||!r?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=r.map(n=>{let i=n.startsWith("!");return{negated:i,pattern:n.slice(i?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:r,pattern:n}=this.patterns[e];if(r)continue;let i=tf.resolve(this.rootPath,n).split(/[\\/]/g),s=i.findIndex(u=>u.includes("*"));if(s===-1){yield{cwd:i.slice(0,-1).join("/"),pattern:i[i.length-1],negations:[]};continue}let o=i.slice(0,s).join("/"),a=[];for(let u=e+1;u<this.patterns.length;u++){let{negated:c,pattern:l}=this.patterns[u];if(c)if(l.startsWith("**"))a.push(ft(l));else{let p=tf.relative(o,tf.resolve(this.rootPath,l));p.startsWith("..")||a.push(ft(p))}}yield{cwd:o,negations:a,pattern:i.slice(s).join("/")}}}};pc=K([(0,Ma.injectable)()],pc);var Ri=class extends pc{constructor({rootPath:e,outFiles:r}){super({rootPath:e,patterns:r})}};Ri=K([(0,Ma.injectable)(),E(0,(0,Ma.inject)(qe))],Ri);var ys=class extends pc{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};ys=K([(0,Ma.injectable)(),E(0,(0,Ma.inject)(qe))],ys);var xD=require("crypto"),CD=require("os"),LD=B(require("path"));var rf=require("fs"),ED=require("path"),Mm=require("zlib"),Nz=(t,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,$m=class{constructor(e,r){this.file=e;this.dap=r;try{(0,rf.mkdirSync)((0,ED.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,Mm.createGzip)(),this.stream.pipe((0,rf.createWriteStream)(e))):this.stream=(0,rf.createWriteStream)(e)}async setup(){var e;(e=this.dap)==null||e.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){var r,n;this.stream&&(this.stream.write(JSON.stringify(e,Nz)+`
`),(n=(r=this.stream).flush)==null||n.call(r,Mm.constants.Z_SYNC_FLUSH))}};var Bz={["runtime"]:null,["runtime.sourcecreate"]:null,["runtime.assertion"]:null,["runtime.launch"]:null,["runtime.target"]:null,["runtime.welcome"]:null,["runtime.exception"]:null,["runtime.sourcemap"]:null,["runtime.breakpoints"]:null,["sourcemap.parsing"]:null,["perf.function"]:null,["cdp.send"]:null,["cdp.receive"]:null,["dap.send"]:null,["dap.receive"]:null,["internal"]:null,["proxyActivity"]:null},dme=Object.keys(Bz),pe=Symbol("ILogger");function Fz(t,e=(0,CD.tmpdir)()){if(t===!1)return{stdio:!1,logFile:null};let r={stdio:!0,logFile:LD.join(e,`vscode-debugadapter-${(0,xD.randomBytes)(4).toString("hex")}.json.gz`)};return t===!0?r:{...r,...t}}function PD(t,e){let r=Fz(e),n={sinks:[]};return r.logFile&&n.sinks.push(new $m(r.logFile,t)),n}var vo=B(ce()),T$=B(Fm());var Um=class extends Error{constructor(r,n,i){super(`Unexpected ${r} response from ${n}: ${i??"<empty body>"}`);this.statusCode=r;this.url=n;this.body=i}},ka=Symbol("IResourceProvider");var it=B(Lt());var ee=class extends Error{constructor(r){super("__errorMarker"in r?r.error.format:r.format);this._cause="__errorMarker"in r?r.error:r}get cause(){return this._cause}};function eT(t,e){t.output({category:"console",output:e+`
`})}function Qe(t,e=9222){return{__errorMarker:!0,error:{id:e,format:t,showUser:!1}}}function Je(t,e=9223){return{__errorMarker:!0,error:{id:e,format:t,showUser:!0}}}var n0=()=>Je(it.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs' or 'nvm' to be installed."),9224),tT=()=>Je(it.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),rT=()=>Je(it.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),i0=(t,e)=>Je(it.t("Node.js version '{0}' not installed using version manager {1}.",t,e),9226),nT=t=>Je(it.t("Cannot launch debug target in terminal ({0}).",t),9227),iT=t=>Je(it.t("Can't load environment variables from file ({0}).",t),9228),sT=t=>Je(it.t("The configured `cwd` {0} does not exist.",t),9245),s0=(t,e)=>Je(it.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,t,e),9229),oT=(t,e)=>Je(it.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,t),9230),aT=t=>Je(it.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',t),9231),gc=()=>Je(it.t("An error occurred taking a profile from the target."),9235),uT=()=>Je(it.t("Please stop the running profile before starting a new one."),9236),cT=t=>Qe(t,9238),jm=(t,e,r)=>Je(e==="*"&&!r.length?it.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):it.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',t,e,JSON.stringify([...new Set(r)])),9233),lT=t=>Je(it.t('Unable to launch browser: "{0}"',t.message),9240),lf=t=>Je(t??it.t("Unable to attach to browser"),9242),qm=()=>Je(it.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var pT=()=>Qe(it.t("Variables not available in async stacks"),9234),uo=(t,e)=>Je(it.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(t.condition),t.line,e),9237),o0=()=>Qe(it.t("Thread not found"),9244),Wm=(t,e)=>Je(it.t("Could not read source map for {0}: {1}",t,e)),fT=()=>Je(it.t("UWP webview debugging is not available on your platform.")),hT=()=>Je(it.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),dT=t=>typeof t=="object"&&!!t&&"__errorMarker"in t,mT=(t,e)=>t instanceof ee&&t.cause.id===e,gT=t=>Je(it.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",t));var HT=new WeakSet;var H7="Request",y7=t=>t.endsWith("Request"),_n=Symbol("IDapApi"),yc=Symbol("IRootDapApi"),Hc=class{constructor(e,r){this.transport=e;this.logger=r;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=je();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(n=>this._onMessage(n.message,n.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if(r!=="then")return r==="on"?(n,i)=>(this._requestHandlers.set(n,i),()=>this._requestHandlers.delete(n)):r==="off"?n=>this._requestHandlers.delete(n):n=>{if(y7(r))return this.enqueueRequest(r.slice(0,-H7.length),n);this._send({seq:0,type:"event",event:r,body:n})}}})}createTestApi(){let e=(i,s)=>{let o=this._eventListeners.get(i);o||(o=new Set,this._eventListeners.set(i,o)),o.add(s)},r=(i,s)=>{let o=this._eventListeners.get(i);o&&o.delete(s)},n=(i,s)=>new Promise(o=>{let a=u=>{s&&!s(u)||(r(i,a),o(u))};e(i,a)});return new Proxy({},{get:(i,s)=>s==="on"?e:s==="off"?r:s==="once"?n:o=>this.enqueueRequest(s,o)})}enqueueRequest(e,r){return new Promise(n=>{let i={seq:0,type:"request",command:e,arguments:r||{}};this._send(i),this._pendingRequests.set(i.seq,n)})}stop(){this.closed=!0,this.transport.close()}_send(e,r){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),r==null||r();else{e.seq=this._sequence++;let n=e.type!=="event"||!HT.has(e.body);this.transport.send(e,n,r)}}async _onMessage(e,r){var n,i,s,o;if(e.type==="request"){let a={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let u=this._requestHandlers.get(e.command);if(!u)console.error(`Unknown request: ${e.command}`);else{let c=await u(e.arguments);if(dT(c))this._send({...a,success:!1,message:c.error.format,body:{error:c.error}});else{let l={...a,body:c};a.command==="initialize"?(this._send(l),this._initialized.resolve(this)):a.command==="disconnect"?this._send({...a,body:c},()=>{this.stop()}):this._send(l)}}(n=this.telemetryReporter)==null||n.reportOperation("dapOperation",e.command,r.elapsed().ms)}catch(u){u instanceof ee?this._send({...a,success:!1,body:{error:u.cause}}):(console.error(u),this._send({...a,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${u.stack||u.message}`,showUser:!1,sendTelemetry:!1}}})),(i=this.telemetryReporter)==null||i.reportOperation("dapOperation",e.command,r.elapsed().ms,u)}}if(e.type==="event"){let a=this._eventListeners.get(e.event)||new Set;for(let u of a)u(e.body)}if(e.type==="response"){let a=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(a,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)a(e.body);else{let u=(o=(s=e.body)==null?void 0:s.error)==null?void 0:o.format;a(u||e.message||"Unknown error")}}}};var Vm=class{constructor(e,r){this.key=e;this.value=r}toString(){return`${this.key}: ${this.value}`}},Oi=class{constructor(e,r){this.projection=e;this.initialContents=r;let n=Array.from(r||[]).map(i=>[this.projection(i[0]),new Vm(i[0],i[1])]);this.projectionToKeyAndValue=new Map(n)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let r=this.projection(e);return this.projectionToKeyAndValue.delete(r)}forEach(e,r){this.projectionToKeyAndValue.forEach(n=>{e.call(r,n.value,n.key,this)},r)}get(e){let r=this.projection(e),n=this.projectionToKeyAndValue.get(r);return n?n.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,r){return this.projectionToKeyAndValue.set(this.projection(e),new Vm(e,r)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};var Ze=Symbol("ISourcePathResolver");var C$=require("dns"),rn=B(require("path")),As=require("url");var w$=require("url");var u0={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},c0="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",v7={5:c0,"5module":c0+" export import",6:c0+" const class extends export import super"},b7=/^in(stanceof)?$/,h0="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",wT="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",_7=new RegExp("["+h0+"]"),w7=new RegExp("["+h0+wT+"]");h0=wT=null;var AT=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],A7=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function p0(t,e){for(var r=65536,n=0;n<e.length;n+=2){if(r+=e[n],r>t)return!1;if(r+=e[n+1],r>=t)return!0}}function bs(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&_7.test(String.fromCharCode(t)):e===!1?!1:p0(t,AT)}function vc(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&w7.test(String.fromCharCode(t)):e===!1?!1:p0(t,AT)||p0(t,A7)}var Me=function(e,r){r===void 0&&(r={}),this.label=e,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function wn(t,e){return new Me(t,{beforeExpr:!0,binop:e})}var An={beforeExpr:!0},jr={startsExpr:!0},d0={};function Ce(t,e){return e===void 0&&(e={}),e.keyword=t,d0[t]=new Me(t,e)}var d={num:new Me("num",jr),regexp:new Me("regexp",jr),string:new Me("string",jr),name:new Me("name",jr),privateId:new Me("privateId",jr),eof:new Me("eof"),bracketL:new Me("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Me("]"),braceL:new Me("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Me("}"),parenL:new Me("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Me(")"),comma:new Me(",",An),semi:new Me(";",An),colon:new Me(":",An),dot:new Me("."),question:new Me("?",An),questionDot:new Me("?."),arrow:new Me("=>",An),template:new Me("template"),invalidTemplate:new Me("invalidTemplate"),ellipsis:new Me("...",An),backQuote:new Me("`",jr),dollarBraceL:new Me("${",{beforeExpr:!0,startsExpr:!0}),eq:new Me("=",{beforeExpr:!0,isAssign:!0}),assign:new Me("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Me("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Me("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:wn("||",1),logicalAND:wn("&&",2),bitwiseOR:wn("|",3),bitwiseXOR:wn("^",4),bitwiseAND:wn("&",5),equality:wn("==/!=/===/!==",6),relational:wn("</>/<=/>=",7),bitShift:wn("<</>>/>>>",8),plusMin:new Me("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:wn("%",10),star:wn("*",10),slash:wn("/",10),starstar:new Me("**",{beforeExpr:!0}),coalesce:wn("??",1),_break:Ce("break"),_case:Ce("case",An),_catch:Ce("catch"),_continue:Ce("continue"),_debugger:Ce("debugger"),_default:Ce("default",An),_do:Ce("do",{isLoop:!0,beforeExpr:!0}),_else:Ce("else",An),_finally:Ce("finally"),_for:Ce("for",{isLoop:!0}),_function:Ce("function",jr),_if:Ce("if"),_return:Ce("return",An),_switch:Ce("switch"),_throw:Ce("throw",An),_try:Ce("try"),_var:Ce("var"),_const:Ce("const"),_while:Ce("while",{isLoop:!0}),_with:Ce("with"),_new:Ce("new",{beforeExpr:!0,startsExpr:!0}),_this:Ce("this",jr),_super:Ce("super",jr),_class:Ce("class",jr),_extends:Ce("extends",An),_export:Ce("export"),_import:Ce("import",jr),_null:Ce("null",jr),_true:Ce("true",jr),_false:Ce("false",jr),_in:Ce("in",{beforeExpr:!0,binop:7}),_instanceof:Ce("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ce("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ce("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ce("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},qr=/\r\n?|\n|\u2028|\u2029/,Ym=new RegExp(qr.source,"g");function Ni(t){return t===10||t===13||t===8232||t===8233}function IT(t,e,r){r===void 0&&(r=t.length);for(var n=e;n<r;n++){var i=t.charCodeAt(n);if(Ni(i))return n<r-1&&i===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}var ST=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,In=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ET=Object.prototype,I7=ET.hasOwnProperty,S7=ET.toString,mf=Object.hasOwn||function(t,e){return I7.call(t,e)},yT=Array.isArray||function(t){return S7.call(t)==="[object Array]"};function Oa(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var E7=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ff=function(e,r){this.line=e,this.column=r};ff.prototype.offset=function(e){return new ff(this.line,this.column+e)};var Na=function(e,r,n){this.start=r,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)};function bc(t,e){for(var r=1,n=0;;){var i=IT(t,n,e);if(i<0)return new ff(r,e-n);++r,n=i}}var hf={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},vT=!1;function x7(t){var e={};for(var r in hf)e[r]=t&&mf(t,r)?t[r]:hf[r];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!vT&&typeof console=="object"&&console.warn&&(vT=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),yT(e.onToken)){var n=e.onToken;e.onToken=function(i){return n.push(i)}}return yT(e.onComment)&&(e.onComment=C7(e,e.onComment)),e}function C7(t,e){return function(r,n,i,s,o,a){var u={type:r?"Block":"Line",value:n,start:i,end:s};t.locations&&(u.loc=new Na(this,o,a)),t.ranges&&(u.range=[i,s]),e.push(u)}}var df=1,_c=2,m0=4,xT=8,CT=16,LT=32,g0=64,PT=128,gf=256,H0=df|_c|gf;function y0(t,e){return _c|(t?m0:0)|(e?xT:0)}var Km=0,v0=1,vs=2,DT=3,TT=4,$T=5,ht=function(e,r,n){this.options=e=x7(e),this.sourceFile=e.sourceFile,this.keywords=Oa(v7[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var i="";e.allowReserved!==!0&&(i=u0[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(i+=" await")),this.reservedWords=Oa(i);var s=(i?i+" ":"")+u0.strict;this.reservedWordsStrict=Oa(s),this.reservedWordsStrictBind=Oa(s+" "+u0.strictBind),this.input=String(r),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(qr).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=d.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(df),this.regexpState=null,this.privateNameStack=[]},Bi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ht.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Bi.inFunction.get=function(){return(this.currentVarScope().flags&_c)>0};Bi.inGenerator.get=function(){return(this.currentVarScope().flags&xT)>0&&!this.currentVarScope().inClassFieldInit};Bi.inAsync.get=function(){return(this.currentVarScope().flags&m0)>0&&!this.currentVarScope().inClassFieldInit};Bi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&gf)return!1;if(e.flags&_c)return(e.flags&m0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Bi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,r=t.inClassFieldInit;return(e&g0)>0||r||this.options.allowSuperOutsideMethod};Bi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&PT)>0};Bi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Bi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,r=t.inClassFieldInit;return(e&(_c|gf))>0||r};Bi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&gf)>0};ht.extend=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var n=this,i=0;i<e.length;i++)n=e[i](n);return n};ht.parse=function(e,r){return new this(r,e).parse()};ht.parseExpressionAt=function(e,r,n){var i=new this(n,e,r);return i.nextToken(),i.parseExpression()};ht.tokenizer=function(e,r){return new this(r,e)};Object.defineProperties(ht.prototype,Bi);var xr=ht.prototype,L7=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;xr.strictDirective=function(t){for(;;){In.lastIndex=t,t+=In.exec(this.input)[0].length;var e=L7.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){In.lastIndex=t+e[0].length;var r=In.exec(this.input),n=r.index+r[0].length,i=this.input.charAt(n);return i===";"||i==="}"||qr.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,In.lastIndex=t,t+=In.exec(this.input)[0].length,this.input[t]===";"&&t++}};xr.eat=function(t){return this.type===t?(this.next(),!0):!1};xr.isContextual=function(t){return this.type===d.name&&this.value===t&&!this.containsEsc};xr.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};xr.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};xr.canInsertSemicolon=function(){return this.type===d.eof||this.type===d.braceR||qr.test(this.input.slice(this.lastTokEnd,this.start))};xr.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};xr.semicolon=function(){!this.eat(d.semi)&&!this.insertSemicolon()&&this.unexpected()};xr.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};xr.expect=function(t){this.eat(t)||this.unexpected()};xr.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};function Qm(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}xr.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var r=e?t.parenthesizedAssign:t.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}};xr.checkExpressionErrors=function(t,e){if(!t)return!1;var r=t.shorthandAssign,n=t.doubleProto;if(!e)return r>=0||n>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};xr.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};xr.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ye=ht.prototype;ye.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==d.eof;){var r=this.parseStatement(null,!0,e);t.body.push(r)}if(this.inModule)for(var n=0,i=Object.keys(this.undefinedExports);n<i.length;n+=1){var s=i[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var b0={kind:"loop"},P7={kind:"switch"};ye.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;In.lastIndex=this.pos;var e=In.exec(this.input),r=this.pos+e[0].length,n=this.input.charCodeAt(r);if(n===91||n===92||n>55295&&n<56320)return!0;if(t)return!1;if(n===123)return!0;if(bs(n,!0)){for(var i=r+1;vc(n=this.input.charCodeAt(i),!0);)++i;if(n===92||n>55295&&n<56320)return!0;var s=this.input.slice(r,i);if(!b7.test(s))return!0}return!1};ye.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;In.lastIndex=this.pos;var t=In.exec(this.input),e=this.pos+t[0].length,r;return!qr.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(vc(r=this.input.charCodeAt(e+8))||r>55295&&r<56320))};ye.parseStatement=function(t,e,r){var n=this.type,i=this.startNode(),s;switch(this.isLet(t)&&(n=d._var,s="let"),n){case d._break:case d._continue:return this.parseBreakContinueStatement(i,n.keyword);case d._debugger:return this.parseDebuggerStatement(i);case d._do:return this.parseDoStatement(i);case d._for:return this.parseForStatement(i);case d._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case d._class:return t&&this.unexpected(),this.parseClass(i,!0);case d._if:return this.parseIfStatement(i);case d._return:return this.parseReturnStatement(i);case d._switch:return this.parseSwitchStatement(i);case d._throw:return this.parseThrowStatement(i);case d._try:return this.parseTryStatement(i);case d._const:case d._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case d._while:return this.parseWhileStatement(i);case d._with:return this.parseWithStatement(i);case d.braceL:return this.parseBlock(!0,i);case d.semi:return this.parseEmptyStatement(i);case d._export:case d._import:if(this.options.ecmaVersion>10&&n===d._import){In.lastIndex=this.pos;var o=In.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===d._import?this.parseImport(i):this.parseExport(i,r);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var c=this.value,l=this.parseExpression();return n===d.name&&l.type==="Identifier"&&this.eat(d.colon)?this.parseLabeledStatement(i,c,l,t):this.parseExpressionStatement(i,l)}};ye.parseBreakContinueStatement=function(t,e){var r=e==="break";this.next(),this.eat(d.semi)||this.insertSemicolon()?t.label=null:this.type!==d.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var i=this.labels[n];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(r||i.kind==="loop")||t.label&&r))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,r?"BreakStatement":"ContinueStatement")};ye.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ye.parseDoStatement=function(t){return this.next(),this.labels.push(b0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(d._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(d.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ye.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(b0),this.enterScope(0),this.expect(d.parenL),this.type===d.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var r=this.isLet();if(this.type===d._var||this.type===d._const||r){var n=this.startNode(),i=r?"let":this.value;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===d._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var s=this.isContextual("let"),o=!1,a=new Qm,u=this.parseExpression(e>-1?"await":!0,a);return this.type===d._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===d._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(t,u)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(t,u))};ye.parseFunctionStatement=function(t,e,r){return this.next(),this.parseFunction(t,pf|(r?0:f0),!1,e)};ye.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(d._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ye.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(d.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ye.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(d.braceL),this.labels.push(P7),this.enterScope(0);for(var e,r=!1;this.type!==d.braceR;)if(this.type===d._case||this.type===d._default){var n=this.type===d._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,e.test=null),this.expect(d.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ye.parseThrowStatement=function(t){return this.next(),qr.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var D7=[];ye.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===d._catch){var e=this.startNode();if(this.next(),this.eat(d.parenL)){e.param=this.parseBindingAtom();var r=e.param.type==="Identifier";this.enterScope(r?LT:0),this.checkLValPattern(e.param,r?TT:vs),this.expect(d.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(d._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ye.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ye.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(b0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ye.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ye.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ye.parseLabeledStatement=function(t,e,r,n){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===e&&this.raise(r.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===d._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var c=this.labels[u];if(c.statementStart===t.start)c.statementStart=this.start,c.kind=a;else break}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=r,this.finishNode(t,"LabeledStatement")};ye.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ye.parseBlock=function(t,e,r){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(d.braceL),t&&this.enterScope(0);this.type!==d.braceR;){var n=this.parseStatement(null);e.body.push(n)}return r&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};ye.parseFor=function(t,e){return t.init=e,this.expect(d.semi),t.test=this.type===d.semi?null:this.parseExpression(),this.expect(d.semi),t.update=this.type===d.parenR?null:this.parseExpression(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ye.parseForIn=function(t,e){var r=this.type===d._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,r?"ForInStatement":"ForOfStatement")};ye.parseVar=function(t,e,r){for(t.declarations=[],t.kind=r;;){var n=this.startNode();if(this.parseVarId(n,r),this.eat(d.eq)?n.init=this.parseMaybeAssign(e):r==="const"&&!(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():n.id.type!=="Identifier"&&!(e&&(this.type===d._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(d.comma))break}return t};ye.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?v0:vs,!1)};var pf=1,f0=2,MT=4;ye.parseFunction=function(t,e,r,n,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===d.star&&e&f0&&this.unexpected(),t.generator=this.eat(d.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&pf&&(t.id=e&MT&&this.type!==d.name?null:this.parseIdent(),t.id&&!(e&f0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?v0:vs:DT));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(y0(t.async,t.generator)),e&pf||(t.id=this.type===d.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,r,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,e&pf?"FunctionDeclaration":"FunctionExpression")};ye.parseFunctionParams=function(t){this.expect(d.parenL),t.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ye.parseClass=function(t,e){this.next();var r=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(d.braceL);this.type!==d.braceR;){var o=this.parseClassElement(t.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raise(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&T7(n,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=r,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};ye.parseClassElement=function(t){if(this.eat(d.semi))return null;var e=this.options.ecmaVersion,r=this.startNode(),n="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(d.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===d.star?a=!0:n="static"}if(r.static=a,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===d.star)&&!this.canInsertSemicolon()?s=!0:n="async"),!n&&(e>=9||!s)&&this.eat(d.star)&&(i=!0),!n&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:n=u)}if(n?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=n,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),e<13||this.type===d.parenL||o!=="method"||i||s){var c=!r.static&&Xm(r,"constructor"),l=c&&t;c&&o!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=c?"constructor":o,this.parseClassMethod(r,i,s,l)}else this.parseClassField(r);return r};ye.isClassElementNameStart=function(){return this.type===d.name||this.type===d.privateId||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword};ye.parseClassElementName=function(t){this.type===d.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ye.parseClassMethod=function(t,e,r,n){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),r&&this.raise(i.start,"Constructor can't be an async method")):t.static&&Xm(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,r,n);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ye.parseClassField=function(t){if(Xm(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Xm(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(d.eq)){var e=this.currentThisScope(),r=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=r}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ye.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(gf|g0);this.type!==d.braceR;){var r=this.parseStatement(null);t.body.push(r)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};ye.parseClassId=function(t,e){this.type===d.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,vs,!1)):(e===!0&&this.unexpected(),t.id=null)};ye.parseClassSuper=function(t){t.superClass=this.eat(d._extends)?this.parseExprSubscripts(!1):null};ye.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ye.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,r=t.used,n=this.privateNameStack.length,i=n===0?null:this.privateNameStack[n-1],s=0;s<r.length;++s){var o=r[s];mf(e,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function T7(t,e){var r=e.key.name,n=t[r],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),n==="iget"&&i==="iset"||n==="iset"&&i==="iget"||n==="sget"&&i==="sset"||n==="sset"&&i==="sget"?(t[r]="true",!1):n?!0:(t[r]=i,!1)}function Xm(t,e){var r=t.computed,n=t.key;return!r&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}ye.parseExport=function(t,e){if(this.next(),this.eat(d.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(d._default)){this.checkExport(e,"default",this.lastTokStart);var r;if(this.type===d._function||(r=this.isAsyncFunction())){var n=this.startNode();this.next(),r&&this.next(),t.declaration=this.parseFunction(n,pf|MT,!1,r)}else if(this.type===d._class){var i=this.startNode();t.declaration=this.parseClass(i,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var s=0,o=t.specifiers;s<o.length;s+=1){var a=o[s];this.checkUnreserved(a.local),this.checkLocalExport(a.local),a.local.type==="Literal"&&this.raise(a.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ye.checkExport=function(t,e,r){t&&(mf(t,e)&&this.raiseRecoverable(r,"Duplicate export '"+e+"'"),t[e]=!0)};ye.checkPatternExport=function(t,e){var r=e.type;if(r==="Identifier")this.checkExport(t,e.name,e.start);else if(r==="ObjectPattern")for(var n=0,i=e.properties;n<i.length;n+=1){var s=i[n];this.checkPatternExport(t,s)}else if(r==="ArrayPattern")for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(t,u)}else r==="Property"?this.checkPatternExport(t,e.value):r==="AssignmentPattern"?this.checkPatternExport(t,e.left):r==="RestElement"?this.checkPatternExport(t,e.argument):r==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};ye.checkVariableExport=function(t,e){if(t)for(var r=0,n=e;r<n.length;r+=1){var i=n[r];this.checkPatternExport(t,i.id)}};ye.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ye.parseExportSpecifiers=function(t){var e=[],r=!0;for(this.expect(d.braceL);!this.eat(d.braceR);){if(r)r=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;var n=this.startNode();n.local=this.parseModuleExportName(),n.exported=this.eatContextual("as")?this.parseModuleExportName():n.local,this.checkExport(t,n.exported[n.exported.type==="Identifier"?"name":"value"],n.exported.start),e.push(this.finishNode(n,"ExportSpecifier"))}return e};ye.parseImport=function(t){return this.next(),this.type===d.string?(t.specifiers=D7,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===d.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ye.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===d.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLValSimple(r.local,vs),t.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(d.comma))return t}if(this.type===d.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,vs),t.push(this.finishNode(n,"ImportNamespaceSpecifier")),t}for(this.expect(d.braceL);!this.eat(d.braceR);){if(e)e=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;var i=this.startNode();i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,vs),t.push(this.finishNode(i,"ImportSpecifier"))}return t};ye.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===d.string){var t=this.parseLiteral(this.value);return E7.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ye.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};ye.isDirectiveCandidate=function(t){return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Jn=ht.prototype;Jn.toAssignable=function(t,e,r){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var n=0,i=t.properties;n<i.length;n+=1){var s=i[n];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,r);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return t};Jn.toAssignableList=function(t,e){for(var r=t.length,n=0;n<r;n++){var i=t[n];i&&this.toAssignable(i,e)}if(r){var s=t[r-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Jn.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Jn.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==d.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Jn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case d.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(d.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case d.braceL:return this.parseObj(!0)}return this.parseIdent()};Jn.parseBindingList=function(t,e,r){for(var n=[],i=!0;!this.eat(t);)if(i?i=!1:this.expect(d.comma),e&&this.type===d.comma)n.push(null);else{if(r&&this.afterTrailingComma(t))break;if(this.type===d.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),n.push(s),this.type===d.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),n.push(o)}}return n};Jn.parseBindingListItem=function(t){return t};Jn.parseMaybeDefault=function(t,e,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(d.eq))return r;var n=this.startNodeAt(t,e);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};Jn.checkLValSimple=function(t,e,r){e===void 0&&(e=Km);var n=e!==Km;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===vs&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),r&&(mf(r,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),r[t.name]=!0),e!==$T&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,r);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};Jn.checkLValPattern=function(t,e,r){switch(e===void 0&&(e=Km),t.type){case"ObjectPattern":for(var n=0,i=t.properties;n<i.length;n+=1){var s=i[n];this.checkLValInnerPattern(s,e,r)}break;case"ArrayPattern":for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,e,r)}break;default:this.checkLValSimple(t,e,r)}};Jn.checkLValInnerPattern=function(t,e,r){switch(e===void 0&&(e=Km),t.type){case"Property":this.checkLValInnerPattern(t.value,e,r);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,r);break;case"RestElement":this.checkLValPattern(t.argument,e,r);break;default:this.checkLValPattern(t,e,r)}};var zn=function(e,r,n,i,s){this.token=e,this.isExpr=!!r,this.preserveSpace=!!n,this.override=i,this.generator=!!s},et={b_stat:new zn("{",!1),b_expr:new zn("{",!0),b_tmpl:new zn("${",!1),p_stat:new zn("(",!1),p_expr:new zn("(",!0),q_tmpl:new zn("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new zn("function",!1),f_expr:new zn("function",!0),f_expr_gen:new zn("function",!0,!1,null,!0),f_gen:new zn("function",!1,!1,null,!0)},wc=ht.prototype;wc.initialContext=function(){return[et.b_stat]};wc.curContext=function(){return this.context[this.context.length-1]};wc.braceIsBlock=function(t){var e=this.curContext();return e===et.f_expr||e===et.f_stat?!0:t===d.colon&&(e===et.b_stat||e===et.b_expr)?!e.isExpr:t===d._return||t===d.name&&this.exprAllowed?qr.test(this.input.slice(this.lastTokEnd,this.start)):t===d._else||t===d.semi||t===d.eof||t===d.parenR||t===d.arrow?!0:t===d.braceL?e===et.b_stat:t===d._var||t===d._const||t===d.name?!1:!this.exprAllowed};wc.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};wc.updateContext=function(t){var e,r=this.type;r.keyword&&t===d.dot?this.exprAllowed=!1:(e=r.updateContext)?e.call(this,t):this.exprAllowed=r.beforeExpr};wc.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};d.parenR.updateContext=d.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===et.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};d.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?et.b_stat:et.b_expr),this.exprAllowed=!0};d.dollarBraceL.updateContext=function(){this.context.push(et.b_tmpl),this.exprAllowed=!0};d.parenL.updateContext=function(t){var e=t===d._if||t===d._for||t===d._with||t===d._while;this.context.push(e?et.p_stat:et.p_expr),this.exprAllowed=!0};d.incDec.updateContext=function(){};d._function.updateContext=d._class.updateContext=function(t){t.beforeExpr&&t!==d._else&&!(t===d.semi&&this.curContext()!==et.p_stat)&&!(t===d._return&&qr.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===d.colon||t===d.braceL)&&this.curContext()===et.b_stat)?this.context.push(et.f_expr):this.context.push(et.f_stat),this.exprAllowed=!1};d.backQuote.updateContext=function(){this.curContext()===et.q_tmpl?this.context.pop():this.context.push(et.q_tmpl),this.exprAllowed=!1};d.star.updateContext=function(t){if(t===d._function){var e=this.context.length-1;this.context[e]===et.f_expr?this.context[e]=et.f_expr_gen:this.context[e]=et.f_gen}this.exprAllowed=!0};d.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==d.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ae=ht.prototype;Ae.checkPropClash=function(t,e,r){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,i;switch(n.type){case"Identifier":i=n.name;break;case"Literal":i=String(n.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(e.proto&&(r?r.doubleProto<0&&(r.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var o=e[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(n.start,"Redefinition of property")}else o=e[i]={init:!1,get:!1,set:!1};o[s]=!0}};Ae.parseExpression=function(t,e){var r=this.start,n=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===d.comma){var s=this.startNodeAt(r,n);for(s.expressions=[i];this.eat(d.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i};Ae.parseMaybeAssign=function(t,e,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,i=-1,s=-1,o=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Qm,n=!0);var a=this.start,u=this.startLoc;(this.type===d.parenL||this.type===d.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var c=this.parseMaybeConditional(t,e);if(r&&(c=r.call(this,c,a,u)),this.type.isAssign){var l=this.startNodeAt(a,u);return l.operator=this.value,this.type===d.eq&&(c=this.toAssignable(c,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===d.eq?this.checkLValPattern(c):this.checkLValSimple(c),l.left=c,this.next(),l.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(l,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),c};Ae.parseMaybeConditional=function(t,e){var r=this.start,n=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(d.question)){var s=this.startNodeAt(r,n);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(d.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i};Ae.parseExprOps=function(t,e){var r=this.start,n=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===r&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,r,n,-1,t)};Ae.parseExprOp=function(t,e,r,n,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==d._in)&&s>n){var o=this.type===d.logicalOR||this.type===d.logicalAND,a=this.type===d.coalesce;a&&(s=d.logicalAND.binop);var u=this.value;this.next();var c=this.start,l=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),c,l,s,i),f=this.buildBinary(e,r,t,p,u,o||a);return(o&&this.type===d.coalesce||a&&(this.type===d.logicalOR||this.type===d.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,r,n,i)}return t};Ae.buildBinary=function(t,e,r,n,i,s){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=r,o.operator=i,o.right=n,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Ae.parseMaybeUnary=function(t,e,r,n){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(n),e=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===d.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,n),this.checkExpressionErrors(t,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&RT(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===d.privateId)(n||this.privateNameStack.length===0)&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==d._in&&this.unexpected();else{if(o=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(i,s);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}if(!r&&this.eat(d.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return o};function RT(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&RT(t.expression)}Ae.parseExprSubscripts=function(t,e){var r=this.start,n=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,r,n,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};Ae.parseSubscripts=function(t,e,r,n,i){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var a=this.parseSubscript(t,e,r,n,s,o,i);if(a.optional&&(o=!0),a===t||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(e,r);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}t=a}};Ae.parseSubscript=function(t,e,r,n,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(d.questionDot);n&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(d.bracketL);if(c||u&&this.type!==d.parenL&&this.type!==d.backQuote||this.eat(d.dot)){var l=this.startNodeAt(e,r);l.object=t,c?(l.property=this.parseExpression(),this.expect(d.bracketR)):this.type===d.privateId&&t.type!=="Super"?l.property=this.parsePrivateIdent():l.property=this.parseIdent(this.options.allowReserved!=="never"),l.computed=!!c,a&&(l.optional=u),t=this.finishNode(l,"MemberExpression")}else if(!n&&this.eat(d.parenL)){var p=new Qm,f=this.yieldPos,m=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1,p);if(i&&!u&&!this.canInsertSemicolon()&&this.eat(d.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=m,this.awaitIdentPos=g,this.parseArrowExpression(this.startNodeAt(e,r),y,!0,o);this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=m||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var v=this.startNodeAt(e,r);v.callee=t,v.arguments=y,a&&(v.optional=u),t=this.finishNode(v,"CallExpression")}else if(this.type===d.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var w=this.startNodeAt(e,r);w.tag=t,w.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(w,"TaggedTemplateExpression")}return t};Ae.parseExprAtom=function(t,e){this.type===d.slash&&this.readRegexp();var r,n=this.potentialArrowAt===this.start;switch(this.type){case d._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===d.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==d.dot&&this.type!==d.bracketL&&this.type!==d.parenL&&this.unexpected(),this.finishNode(r,"Super");case d._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case d.name:var i=this.start,s=this.startLoc,o=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&a.name==="async"&&!this.canInsertSemicolon()&&this.eat(d._function))return this.overrideContext(et.f_expr),this.parseFunction(this.startNodeAt(i,s),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(d.arrow))return this.parseArrowExpression(this.startNodeAt(i,s),[a],!1,e);if(this.options.ecmaVersion>=8&&a.name==="async"&&this.type===d.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return a=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(d.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,s),[a],!0,e)}return a;case d.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case d.num:case d.string:return this.parseLiteral(this.value);case d._null:case d._true:case d._false:return r=this.startNode(),r.value=this.type===d._null?null:this.type===d._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case d.parenL:var c=this.start,l=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(t.parenthesizedAssign=c),t.parenthesizedBind<0&&(t.parenthesizedBind=c)),l;case d.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(d.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case d.braceL:return this.overrideContext(et.b_expr),this.parseObj(!1,t);case d._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case d._class:return this.parseClass(this.startNode(),!1);case d._new:return this.parseNew();case d.backQuote:return this.parseTemplate();case d._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};Ae.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case d.parenL:return this.parseDynamicImport(t);case d.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};Ae.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(d.parenR)){var e=this.start;this.eat(d.comma)&&this.eat(d.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Ae.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Ae.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Ae.parseParenExpression=function(){this.expect(d.parenL);var t=this.parseExpression();return this.expect(d.parenR),t};Ae.parseParenAndDistinguishExpression=function(t,e){var r=this.start,n=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],c=!0,l=!1,p=new Qm,f=this.yieldPos,m=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==d.parenR;)if(c?c=!1:this.expect(d.comma),s&&this.afterTrailingComma(d.parenR,!0)){l=!0;break}else if(this.type===d.ellipsis){g=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===d.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,p,this.parseParenItem));var y=this.lastTokEnd,v=this.lastTokEndLoc;if(this.expect(d.parenR),t&&!this.canInsertSemicolon()&&this.eat(d.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=m,this.parseParenArrowList(r,n,u,e);(!u.length||l)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=m||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",y,v)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var w=this.startNodeAt(r,n);return w.expression=i,this.finishNode(w,"ParenthesizedExpression")}else return i};Ae.parseParenItem=function(t){return t};Ae.parseParenArrowList=function(t,e,r,n){return this.parseArrowExpression(this.startNodeAt(t,e),r,!1,n)};var $7=[];Ae.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(d.dot)){t.meta=e;var r=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,i=this.startLoc,s=this.type===d._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,i,!0,!1),s&&t.callee.type==="ImportExpression"&&this.raise(n,"Cannot use new with import()"),this.eat(d.parenL)?t.arguments=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1):t.arguments=$7,this.finishNode(t,"NewExpression")};Ae.parseTemplateElement=function(t){var e=t.isTagged,r=this.startNode();return this.type===d.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===d.backQuote,this.finishNode(r,"TemplateElement")};Ae.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(r.quasis=[n];!n.tail;)this.type===d.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(d.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(d.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(r,"TemplateLiteral")};Ae.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===d.name||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===d.star)&&!qr.test(this.input.slice(this.lastTokEnd,this.start))};Ae.parseObj=function(t,e){var r=this.startNode(),n=!0,i={};for(r.properties=[],this.next();!this.eat(d.braceR);){if(n)n=!1;else if(this.expect(d.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(d.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),r.properties.push(s)}return this.finishNode(r,t?"ObjectPattern":"ObjectExpression")};Ae.parseProperty=function(t,e){var r=this.startNode(),n,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(d.ellipsis))return t?(r.argument=this.parseIdent(!1),this.type===d.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(this.type===d.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),r.argument=this.parseMaybeAssign(!1,e),this.type===d.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(t||e)&&(s=this.start,o=this.startLoc),t||(n=this.eat(d.star)));var a=this.containsEsc;return this.parsePropertyName(r),!t&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(r)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(d.star),this.parsePropertyName(r,e)):i=!1,this.parsePropertyValue(r,t,n,i,s,o,e,a),this.finishNode(r,"Property")};Ae.parsePropertyValue=function(t,e,r,n,i,s,o,a){if((r||n)&&this.type===d.colon&&this.unexpected(),this.eat(d.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===d.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(r,n);else if(!e&&!a&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==d.comma&&this.type!==d.braceR&&this.type!==d.eq){(r||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var u=t.kind==="get"?0:1;if(t.value.params.length!==u){var c=t.value.start;t.kind==="get"?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((r||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key)):this.type===d.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Ae.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(d.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(d.bracketR),t.key;t.computed=!1}return t.key=this.type===d.num||this.type===d.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Ae.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Ae.parseMethod=function(t,e,r){var n=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(y0(e,n.generator)|g0|(r?PT:0)),this.expect(d.parenL),n.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(n,"FunctionExpression")};Ae.parseArrowExpression=function(t,e,r,n){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(y0(r,!1)|CT),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")};Ae.parseFunctionBody=function(t,e,r,n){var i=e&&this.type!==d.braceL,s=this.strict,o=!1;if(i)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!s&&!o&&!e&&!r&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,$T),t.body=this.parseBlock(!1,void 0,o&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=u}this.exitScope()};Ae.isSimpleParamList=function(t){for(var e=0,r=t;e<r.length;e+=1){var n=r[e];if(n.type!=="Identifier")return!1}return!0};Ae.checkParams=function(t,e){for(var r=Object.create(null),n=0,i=t.params;n<i.length;n+=1){var s=i[n];this.checkLValInnerPattern(s,v0,e?null:r)}};Ae.parseExprList=function(t,e,r,n){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(d.comma),e&&this.afterTrailingComma(t))break;var o=void 0;r&&this.type===d.comma?o=null:this.type===d.ellipsis?(o=this.parseSpread(n),n&&this.type===d.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),i.push(o)}return i};Ae.checkUnreserved=function(t){var e=t.start,r=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,r).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};Ae.parseIdent=function(t,e){var r=this.startNode();return this.type===d.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,(r.name==="class"||r.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};Ae.parsePrivateIdent=function(){var t=this.startNode();return this.type===d.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};Ae.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===d.semi||this.canInsertSemicolon()||this.type!==d.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(d.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Ae.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var zm=ht.prototype;zm.raise=function(t,e){var r=bc(this.input,t);e+=" ("+r.line+":"+r.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=r,n.raisedAt=this.pos,n};zm.raiseRecoverable=zm.raise;zm.curPosition=function(){if(this.options.locations)return new ff(this.curLine,this.pos-this.lineStart)};var co=ht.prototype,M7=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};co.enterScope=function(t){this.scopeStack.push(new M7(t))};co.exitScope=function(){this.scopeStack.pop()};co.treatFunctionsAsVarInScope=function(t){return t.flags&_c||!this.inModule&&t.flags&df};co.declareName=function(t,e,r){var n=!1;if(e===vs){var i=this.currentScope();n=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&df&&delete this.undefinedExports[t]}else if(e===TT){var s=this.currentScope();s.lexical.push(t)}else if(e===DT){var o=this.currentScope();this.treatFunctionsAsVar?n=o.lexical.indexOf(t)>-1:n=o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(t)>-1&&!(u.flags&LT&&u.lexical[0]===t)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(t)>-1){n=!0;break}if(u.var.push(t),this.inModule&&u.flags&df&&delete this.undefinedExports[t],u.flags&H0)break}n&&this.raiseRecoverable(r,"Identifier '"+t+"' has already been declared")};co.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};co.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};co.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&H0)return e}};co.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&H0&&!(e.flags&CT))return e}};var lo=function(e,r,n){this.type="",this.start=r,this.end=0,e.options.locations&&(this.loc=new Na(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[r,0])},Hf=ht.prototype;Hf.startNode=function(){return new lo(this,this.start,this.startLoc)};Hf.startNodeAt=function(t,e){return new lo(this,t,e)};function kT(t,e,r,n){return t.type=e,t.end=r,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=r),t}Hf.finishNode=function(t,e){return kT.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Hf.finishNodeAt=function(t,e,r,n){return kT.call(this,t,e,r,n)};Hf.copyNode=function(t){var e=new lo(this,t.start,this.startLoc);for(var r in t)e[r]=t[r];return e};var OT="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",NT=OT+" Extended_Pictographic",BT=NT,FT=BT+" EBase EComp EMod EPres ExtPict",R7=FT,k7={9:OT,10:NT,11:BT,12:FT,13:R7},bT="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",UT="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",jT=UT+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",qT=jT+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",WT=qT+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",O7=WT+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",N7={9:UT,10:jT,11:qT,12:WT,13:O7},VT={};function B7(t){var e=VT[t]={binary:Oa(k7[t]+" "+bT),nonBinary:{General_Category:Oa(bT),Script:Oa(N7[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(Gm=0,l0=[9,10,11,12,13];Gm<l0.length;Gm+=1)_T=l0[Gm],B7(_T);var _T,Gm,l0,de=ht.prototype,_s=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=VT[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};_s.prototype.reset=function(e,r,n){var i=n.indexOf("u")!==-1;this.start=e|0,this.source=r+"",this.flags=n,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9};_s.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};_s.prototype.at=function(e,r){r===void 0&&(r=!1);var n=this.source,i=n.length;if(e>=i)return-1;var s=n.charCodeAt(e);if(!(r||this.switchU)||s<=55295||s>=57344||e+1>=i)return s;var o=n.charCodeAt(e+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};_s.prototype.nextIndex=function(e,r){r===void 0&&(r=!1);var n=this.source,i=n.length;if(e>=i)return i;var s=n.charCodeAt(e),o;return!(r||this.switchU)||s<=55295||s>=57344||e+1>=i||(o=n.charCodeAt(e+1))<56320||o>57343?e+1:e+2};_s.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};_s.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};_s.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};_s.prototype.eat=function(e,r){return r===void 0&&(r=!1),this.current(r)===e?(this.advance(r),!0):!1};function Jm(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}de.validateRegExpFlags=function(t){for(var e=t.validFlags,r=t.flags,n=0;n<r.length;n++){var i=r.charAt(n);e.indexOf(i)===-1&&this.raise(t.start,"Invalid regular expression flag"),r.indexOf(i,n+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};de.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};de.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,r=t.backReferenceNames;e<r.length;e+=1){var n=r[e];t.groupNames.indexOf(n)===-1&&t.raise("Invalid named capture referenced")}};de.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};de.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};de.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};de.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!r,!0}return t.pos=e,!1};de.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};de.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};de.regexp_eatBracedQuantifier=function(t,e){var r=t.pos;if(t.eat(123)){var n=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=r}return!1};de.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};de.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};de.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};de.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};de.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};de.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};de.regexp_eatSyntaxCharacter=function(t){var e=t.current();return GT(e)?(t.lastIntValue=e,t.advance(),!0):!1};function GT(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}de.regexp_eatPatternCharacters=function(t){for(var e=t.pos,r=0;(r=t.current())!==-1&&!GT(r);)t.advance();return t.pos!==e};de.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};de.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};de.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};de.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Jm(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Jm(t.lastIntValue);return!0}return!1};de.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,r=this.options.ecmaVersion>=11,n=t.current(r);return t.advance(r),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,r)&&(n=t.lastIntValue),F7(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function F7(t){return bs(t,!0)||t===36||t===95}de.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,r=this.options.ecmaVersion>=11,n=t.current(r);return t.advance(r),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,r)&&(n=t.lastIntValue),U7(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function U7(t){return vc(t,!0)||t===36||t===95||t===8204||t===8205}de.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};de.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var r=t.lastIntValue;if(t.switchU)return r>t.maxBackReference&&(t.maxBackReference=r),!0;if(r<=t.numCapturingParens)return!0;t.pos=e}return!1};de.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};de.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};de.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};de.regexp_eatZero=function(t){return t.current()===48&&!Zm(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};de.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};de.regexp_eatControlLetter=function(t){var e=t.current();return KT(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function KT(t){return t>=65&&t<=90||t>=97&&t<=122}de.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var r=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(n&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&j7(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=r}return!1};function j7(t){return t>=0&&t<=1114111}de.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};de.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};de.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(q7(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function q7(t){return t===100||t===68||t===115||t===83||t===119||t===87}de.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var r=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,r,n),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i),!0}return!1};de.regexp_validateUnicodePropertyNameAndValue=function(t,e,r){mf(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(r)||t.raise("Invalid property value")};de.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};de.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";XT(e=t.current());)t.lastStringValue+=Jm(e),t.advance();return t.lastStringValue!==""};function XT(t){return KT(t)||t===95}de.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";W7(e=t.current());)t.lastStringValue+=Jm(e),t.advance();return t.lastStringValue!==""};function W7(t){return XT(t)||Zm(t)}de.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};de.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};de.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var r=t.lastIntValue;t.switchU&&(e===-1||r===-1)&&t.raise("Invalid character class"),e!==-1&&r!==-1&&e>r&&t.raise("Range out of order in character class")}}};de.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var r=t.current();(r===99||YT(r))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};de.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};de.regexp_eatClassControlLetter=function(t){var e=t.current();return Zm(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};de.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};de.regexp_eatDecimalDigits=function(t){var e=t.pos,r=0;for(t.lastIntValue=0;Zm(r=t.current());)t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();return t.pos!==e};function Zm(t){return t>=48&&t<=57}de.regexp_eatHexDigits=function(t){var e=t.pos,r=0;for(t.lastIntValue=0;zT(r=t.current());)t.lastIntValue=16*t.lastIntValue+JT(r),t.advance();return t.pos!==e};function zT(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function JT(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}de.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+r*8+t.lastIntValue:t.lastIntValue=e*8+r}else t.lastIntValue=e;return!0}return!1};de.regexp_eatOctalDigit=function(t){var e=t.current();return YT(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function YT(t){return t>=48&&t<=55}de.regexp_eatFixedHexDigits=function(t,e){var r=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var i=t.current();if(!zT(i))return t.pos=r,!1;t.lastIntValue=16*t.lastIntValue+JT(i),t.advance()}return!0};var yf=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Na(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Ee=ht.prototype;Ee.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new yf(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Ee.getToken=function(){return this.next(),new yf(this)};typeof Symbol<"u"&&(Ee[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===d.eof,value:e}}}});Ee.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(d.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Ee.readToken=function(t){return bs(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Ee.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Ee.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var n=void 0,i=e;(n=IT(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,r),e,this.pos,t,this.curPosition())};Ee.skipLineComment=function(t){for(var e=this.pos,r=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Ni(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,r,this.curPosition())};Ee.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&ST.test(String.fromCharCode(t)))++this.pos;else break e}}};Ee.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=t,this.value=e,this.updateContext(r)};Ee.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(d.ellipsis)):(++this.pos,this.finishToken(d.dot))};Ee.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(d.assign,2):this.finishOp(d.slash,1)};Ee.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),r=1,n=t===42?d.star:d.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++r,n=d.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(d.assign,r+1):this.finishOp(n,r)};Ee.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(d.assign,3)}return this.finishOp(t===124?d.logicalOR:d.logicalAND,2)}return e===61?this.finishOp(d.assign,2):this.finishOp(t===124?d.bitwiseOR:d.bitwiseAND,1)};Ee.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(d.assign,2):this.finishOp(d.bitwiseXOR,1)};Ee.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||qr.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(d.incDec,2):e===61?this.finishOp(d.assign,2):this.finishOp(d.plusMin,1)};Ee.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),r=1;return e===t?(r=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(d.assign,r+1):this.finishOp(d.bitShift,r)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(r=2),this.finishOp(d.relational,r))};Ee.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(d.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(d.arrow)):this.finishOp(t===61?d.eq:d.prefix,1)};Ee.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(d.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(d.assign,3)}return this.finishOp(d.coalesce,2)}}return this.finishOp(d.question,1)};Ee.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),bs(e,!0)||e===92))return this.finishToken(d.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+eg(e)+"'")};Ee.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(d.parenL);case 41:return++this.pos,this.finishToken(d.parenR);case 59:return++this.pos,this.finishToken(d.semi);case 44:return++this.pos,this.finishToken(d.comma);case 91:return++this.pos,this.finishToken(d.bracketL);case 93:return++this.pos,this.finishToken(d.bracketR);case 123:return++this.pos,this.finishToken(d.braceL);case 125:return++this.pos,this.finishToken(d.braceR);case 58:return++this.pos,this.finishToken(d.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(d.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(d.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+eg(t)+"'")};Ee.finishOp=function(t,e){var r=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,r)};Ee.readRegexp=function(){for(var t,e,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(qr.test(n)&&this.raise(r,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var i=this.input.slice(r,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new _s(this));a.reset(r,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(d.regexp,{pattern:i,flags:o,value:u})};Ee.readInt=function(t,e,r){for(var n=this.options.ecmaVersion>=12&&e===void 0,i=r&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,c=e??1/0;u<c;++u,++this.pos){var l=this.input.charCodeAt(this.pos),p=void 0;if(n&&l===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=l;continue}if(l>=97?p=l-97+10:l>=65?p=l-65+10:l>=48&&l<=57?p=l-48:p=1/0,p>=t)break;a=l,o=o*t+p}return n&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:o};function V7(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function QT(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}Ee.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var r=this.readInt(t);return r==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=QT(this.input.slice(e,this.pos)),++this.pos):bs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,r)};Ee.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var r=this.pos-e>=2&&this.input.charCodeAt(e)===48;r&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!r&&!t&&this.options.ecmaVersion>=11&&n===110){var i=QT(this.input.slice(e,this.pos));return++this.pos,bs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,i)}r&&/[89]/.test(this.input.slice(e,this.pos))&&(r=!1),n===46&&!r&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!r&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),bs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=V7(this.input.slice(e,this.pos),r);return this.finishToken(d.num,s)};Ee.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else e=this.readHexChar(4);return e};function eg(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}Ee.readString=function(t){for(var e="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(r,this.pos),e+=this.readEscapedChar(!1),r=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ni(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(r,this.pos++),this.finishToken(d.string,e)};var ZT={};Ee.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===ZT)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Ee.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ZT;this.raise(t,e)};Ee.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===d.template||this.type===d.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(d.dollarBraceL)):(++this.pos,this.finishToken(d.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(d.template,t));if(r===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Ni(r)){switch(t+=this.input.slice(e,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Ee.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(d.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Ee.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return eg(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Ni(e)?"":String.fromCharCode(e)}};Ee.readHexChar=function(t){var e=this.pos,r=this.readInt(16,t);return r===null&&this.invalidStringToken(e,"Bad character escape sequence"),r};Ee.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,r=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(vc(i,n))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(r,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?bs:vc)(o,n)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=eg(o),r=this.pos}else break;e=!1}return t+this.input.slice(r,this.pos)};Ee.readWord=function(){var t=this.readWord1(),e=d.name;return this.keywords.test(t)&&(e=d0[t]),this.finishToken(e,t)};var G7="8.7.0";ht.acorn={Parser:ht,version:G7,defaultOptions:hf,Position:ff,SourceLocation:Na,getLineInfo:bc,Node:lo,TokenType:Me,tokTypes:d,keywordTypes:d0,TokContext:zn,tokContexts:et,isIdentifierChar:vc,isIdentifierStart:bs,Token:yf,isNewLine:Ni,lineBreak:qr,lineBreakG:Ym,nonASCIIwhitespace:ST};function e$(t,e){return ht.parse(t,e)}function tg(t,e,r){return ht.parseExpressionAt(t,e,r)}var b$=require("crypto");var{stringify:K7}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var rg={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Yn=17,X7={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Yn,ClassExpression:Yn,FunctionExpression:Yn,ObjectExpression:Yn,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Ac(t,e){let{generator:r}=t;if(t.write("("),e!=null&&e.length>0){r[e[0].type](e[0],t);let{length:n}=e;for(let i=1;i<n;i++){let s=e[i];t.write(", "),r[s.type](s,t)}}t.write(")")}function a$(t,e,r,n){let i=t.expressionsPrecedence[e.type];if(i===Yn)return!0;let s=t.expressionsPrecedence[r.type];return i!==s?!n&&i===15&&s===14&&r.operator==="**"||i<s:i!==13&&i!==14?!1:e.operator==="**"&&r.operator==="**"?!n:n?rg[e.operator]<=rg[r.operator]:rg[e.operator]<rg[r.operator]}function ng(t,e,r,n){let{generator:i}=t;a$(t,e,r,n)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function z7(t,e,r,n){let i=e.split(`
`),s=i.length-1;if(t.write(i[0].trim()),s>0){t.write(n);for(let o=1;o<s;o++)t.write(r+i[o].trim()+n);t.write(r+i[s].trim())}}function Cr(t,e,r,n){let{length:i}=e;for(let s=0;s<i;s++){let o=e[s];t.write(r),o.type[0]==="L"?t.write("// "+o.value.trim()+`
`,o):(t.write("/*"),z7(t,o.value,r,n),t.write("*/"+n))}}function J7(t){let e=t;for(;e!=null;){let{type:r}=e;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")e=e.object;else return!1}}function _0(t,e){let{generator:r}=t,{declarations:n}=e;t.write(e.kind+" ");let{length:i}=n;if(i>0){r.VariableDeclarator(n[0],t);for(let s=1;s<i;s++)t.write(", "),r.VariableDeclarator(n[s],t)}}var t$,r$,n$,i$,s$,o$,Y7={Program(t,e){let r=e.indent.repeat(e.indentLevel),{lineEnd:n,writeComments:i}=e;i&&t.comments!=null&&Cr(e,t.comments,r,n);let s=t.body,{length:o}=s;for(let a=0;a<o;a++){let u=s[a];i&&u.comments!=null&&Cr(e,u.comments,r,n),e.write(r),this[u.type](u,e),e.write(n)}i&&t.trailingComments!=null&&Cr(e,t.trailingComments,r,n)},BlockStatement:o$=function(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,s=r+e.indent;e.write("{");let o=t.body;if(o!=null&&o.length>0){e.write(n),i&&t.comments!=null&&Cr(e,t.comments,s,n);let{length:a}=o;for(let u=0;u<a;u++){let c=o[u];i&&c.comments!=null&&Cr(e,c.comments,s,n),e.write(s),this[c.type](c,e),e.write(n)}e.write(r)}else i&&t.comments!=null&&(e.write(n),Cr(e,t.comments,s,n),e.write(r));i&&t.trailingComments!=null&&Cr(e,t.trailingComments,s,n),e.write("}"),e.indentLevel--},ClassBody:o$,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let r=e.expressionsPrecedence[t.expression.type];r===Yn||r===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e;e.indentLevel++;let s=r+e.indent,o=s+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+n);let{cases:a}=t,{length:u}=a;for(let c=0;c<u;c++){let l=a[c];i&&l.comments!=null&&Cr(e,l.comments,s,n),l.test?(e.write(s+"case "),this[l.test.type](l.test,e),e.write(":"+n)):e.write(s+"default:"+n);let{consequent:p}=l,{length:f}=p;for(let m=0;m<f;m++){let g=p[m];i&&g.comments!=null&&Cr(e,g.comments,o,n),e.write(o),this[g.type](g,e),e.write(n)}}e.indentLevel-=2,e.write(r+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:r}=t;r.param==null?e.write(" catch "):(e.write(" catch ("),this[r.param.type](r.param,e),e.write(") ")),this[r.body.type](r.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:r}=t;r.type[0]==="V"?_0(e,r):this[r.type](r,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:t$=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:r}=t;r.type[0]==="V"?_0(e,r):this[r.type](r,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:t$,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:r$=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),Ac(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:r$,VariableDeclaration(t,e){_0(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:r}=t,{type:n}=r,i=e.expressionsPrecedence[n];(n[0]!=="C"||n[1]!=="l"||n[5]!=="E")&&(i===Yn||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:r}=t,{length:n}=r,i=0;if(n>0){for(;i<n;){i>0&&e.write(", ");let s=r[i],o=s.type[6];if(o==="D")e.write(s.local.name,s),i++;else if(o==="N")e.write("* as "+s.local.name,s),i++;else break}if(i<n){for(e.write("{");;){let s=r[i],{name:o}=s.imported;if(e.write(o,s),o!==s.local.name&&e.write(" as "+s.local.name),++i<n)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:r}=t,{length:n}=r;if(n>0)for(let i=0;;){let s=r[i],{name:o}=s.local;if(e.write(o,s),o!==s.exported.name&&e.write(" as "+s.exported.name),++i<n)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let r=t.kind[0];(r==="g"||r==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),Ac(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:r}=t;r!=null&&(r.length===1&&r[0].type[0]==="I"?e.write(r[0].name,r[0]):Ac(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:n$=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:n$,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),ng(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:r,expressions:n}=t;e.write("`");let{length:i}=n;for(let o=0;o<i;o++){let a=n[o],u=r[o];e.write(u.value.raw,u),e.write("${"),this[a.type](a,e),e.write("}")}let s=r[r.length-1];e.write(s.value.raw,s),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){ng(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:s$=function(t,e){if(e.write("["),t.elements.length>0){let{elements:r}=t,{length:n}=r;for(let i=0;;){let s=r[i];if(s!=null&&this[s.type](s,e),++i<n)e.write(", ");else{s==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:s$,ObjectExpression(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,s=r+e.indent;if(e.write("{"),t.properties.length>0){e.write(n),i&&t.comments!=null&&Cr(e,t.comments,s,n);let o=","+n,{properties:a}=t,{length:u}=a;for(let c=0;;){let l=a[c];if(i&&l.comments!=null&&Cr(e,l.comments,s,n),e.write(s),this[l.type](l,e),++c<u)e.write(o);else break}e.write(n),i&&t.trailingComments!=null&&Cr(e,t.trailingComments,s,n),e.write(r+"}")}else i?t.comments!=null?(e.write(n),Cr(e,t.comments,s,n),t.trailingComments!=null&&Cr(e,t.trailingComments,s,n),e.write(r+"}")):t.trailingComments!=null?(e.write(n),Cr(e,t.trailingComments,s,n),e.write(r+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){t.static&&e.write("static "),this[t.key.type](t.key,e),e.write(" = "),this[t.value.type](t.value,e)},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:r}=t,{length:n}=r;for(let i=0;this[r[i].type](r[i],e),++i<n;)e.write(", ")}e.write("}")},SequenceExpression(t,e){Ac(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:r,argument:n,argument:{type:i}}=t;e.write(r);let s=a$(e,n,t);!s&&(r.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&n.prefix&&n.operator[0]===r&&(r==="+"||r==="-"))&&e.write(" "),s?(e.write(r.length>1?" (":"("),this[i](n,e),e.write(")")):this[i](n,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:i$=function(t,e){let r=t.operator==="in";r&&e.write("("),ng(e,t.left,t,!1),e.write(" "+t.operator+" "),ng(e,t.right,t,!0),r&&e.write(")")},LogicalExpression:i$,ConditionalExpression(t,e){let{test:r}=t,n=e.expressionsPrecedence[r.type];n===Yn||n<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[r.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let r=e.expressionsPrecedence[t.callee.type];r===Yn||r<e.expressionsPrecedence.CallExpression||J7(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),Ac(e,t.arguments)},CallExpression(t,e){let r=e.expressionsPrecedence[t.callee.type];r===Yn||r<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),Ac(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let r=e.expressionsPrecedence[t.object.type];r===Yn||r<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(K7(t.value),t)},RegExpLiteral(t,e){let{regex:r}=t;e.write(`/${r.pattern}/${r.flags}`,t)}},Q7={};var w0=class{constructor(e){let r=e??Q7;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:Y7,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:X7,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,r){this.output+=e,this.map(e,r)}writeToStreamAndMap(e,r){this.output.write(e),this.map(e,r)}map(e,r){if(r!=null){let{type:s}=r;if(s[0]==="L"&&s[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:o}=this;o.original=r.loc.start,o.name=r.name,this.sourceMap.addMapping(o)}if(s[0]==="T"&&s[8]==="E"||s[0]==="L"&&s[1]==="i"&&typeof r.value=="string"){let{length:o}=e,{column:a,line:u}=this;for(let c=0;c<o;c++)e[c]===`
`?(a=0,u++):a++;this.column=a,this.line=u;return}}let{length:n}=e,{lineEnd:i}=this;n>0&&(this.lineEndSize>0&&(i.length===1?e[n-1]===i:e.endsWith(i))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}};function ws(t,e){let r=new w0(e);return r.generator[t.type](t,r),r.output}var Ic=B(ig()),vf=B(Fm());var sg="\u2716";function en(t){return t.name===sg}function c$(){}var Ye=function(e,r){if(r===void 0&&(r={}),this.toks=this.constructor.BaseParser.tokenizer(e,r),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:d.eof,start:0,end:0},this.tok.validateRegExpFlags=c$,this.tok.validateRegExpPattern=c$,this.options.locations){var n=this.toks.curPosition();this.tok.loc=new Na(this.toks,n,n)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};Ye.prototype.startNode=function(){return new lo(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)};Ye.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start};Ye.prototype.startNodeAt=function(e){return this.options.locations?new lo(this.toks,e[0],e[1]):new lo(this.toks,e)};Ye.prototype.finishNode=function(e,r){return e.type=r,e.end=this.last.end,this.options.locations&&(e.loc.end=this.last.loc.end),this.options.ranges&&(e.range[1]=this.last.end),e};Ye.prototype.dummyNode=function(e){var r=this.startNode();return r.type=e,r.end=r.start,this.options.locations&&(r.loc.end=r.loc.start),this.options.ranges&&(r.range[1]=r.start),this.last={type:d.name,start:r.start,end:r.start,loc:r.loc},r};Ye.prototype.dummyIdent=function(){var e=this.dummyNode("Identifier");return e.name=sg,e};Ye.prototype.dummyString=function(){var e=this.dummyNode("Literal");return e.value=e.raw=sg,e};Ye.prototype.eat=function(e){return this.tok.type===e?(this.next(),!0):!1};Ye.prototype.isContextual=function(e){return this.tok.type===d.name&&this.tok.value===e};Ye.prototype.eatContextual=function(e){return this.tok.value===e&&this.eat(d.name)};Ye.prototype.canInsertSemicolon=function(){return this.tok.type===d.eof||this.tok.type===d.braceR||qr.test(this.input.slice(this.last.end,this.tok.start))};Ye.prototype.semicolon=function(){return this.eat(d.semi)};Ye.prototype.expect=function(e){if(this.eat(e))return!0;for(var r=1;r<=2;r++)if(this.lookAhead(r).type===e){for(var n=0;n<r;n++)this.next();return!0}};Ye.prototype.pushCx=function(){this.context.push(this.curIndent)};Ye.prototype.popCx=function(){this.curIndent=this.context.pop()};Ye.prototype.lineEnd=function(e){for(;e<this.input.length&&!Ni(this.input.charCodeAt(e));)++e;return e};Ye.prototype.indentationAfter=function(e){for(var r=0;;++e){var n=this.input.charCodeAt(e);if(n===32)++r;else if(n===9)r+=this.options.tabSize;else return r}};Ye.prototype.closes=function(e,r,n,i){return this.tok.type===e||this.tok.type===d.eof?!0:n!==this.curLineStart&&this.curIndent<r&&this.tokenStartsLine()&&(!i||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<r)};Ye.prototype.tokenStartsLine=function(){for(var e=this.tok.start-1;e>=this.curLineStart;--e){var r=this.input.charCodeAt(e);if(r!==9&&r!==32)return!1}return!0};Ye.prototype.extend=function(e,r){this[e]=r(this[e])};Ye.prototype.parse=function(){return this.next(),this.parseTopLevel()};Ye.extend=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var n=this,i=0;i<e.length;i++)n=e[i](n);return n};Ye.parse=function(e,r){return new this(e,r).parse()};Ye.BaseParser=ht;var og=Ye.prototype;function Z7(t){return t<14&&t>8||t===32||t===160||Ni(t)}og.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}};og.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===d.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=d.ellipsis),new yf(this.toks)}catch(s){if(!(s instanceof SyntaxError))throw s;var t=s.message,e=s.raisedAt,r=!0;if(/unterminated/i.test(t))if(e=this.lineEnd(s.pos+1),/string/.test(t))r={start:s.pos,end:e,type:d.string,value:this.input.slice(s.pos+1,e)};else if(/regular expr/i.test(t)){var n=this.input.slice(s.pos,e);try{n=new RegExp(n)}catch{}r={start:s.pos,end:e,type:d.regexp,value:n}}else/template/.test(t)?r={start:s.pos,end:e,type:d.template,value:this.input.slice(s.pos,e)}:r=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(t))for(;e<this.input.length&&!Z7(this.input.charCodeAt(e));)++e;else if(/character escape|expected hexadecimal/i.test(t))for(;e<this.input.length;){var i=this.input.charCodeAt(e++);if(i===34||i===39||Ni(i))break}else if(/unexpected character/i.test(t))e++,r=!1;else if(/regular expression/i.test(t))r=!0;else throw s;if(this.resetTo(e),r===!0&&(r={start:e,end:e,type:d.name,value:sg}),r)return this.options.locations&&(r.loc=new Na(this.toks,bc(this.input,r.start),bc(this.input,r.end))),r}};og.resetTo=function(t){this.toks.pos=t;var e=this.input.charAt(t-1);if(this.toks.exprAllowed=!e||/[[{(,;:?/*=+\-~!|&%^<>]/.test(e)||/[enwfd]/.test(e)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(t-10,t)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=Ym.lastIndex=0;for(var r;(r=Ym.exec(this.input))&&r.index<t;)++this.toks.curLine,this.toks.lineStart=r.index+r[0].length}};og.lookAhead=function(t){for(;t>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[t-1]};var rr=Ye.prototype;rr.parseTopLevel=function(){var t=this.startNodeAt(this.options.locations?[0,bc(this.input,0)]:0);for(t.body=[];this.tok.type!==d.eof;)t.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(t.body),this.last=this.tok,t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};rr.parseStatement=function(){var t=this.tok.type,e=this.startNode(),r;switch(this.toks.isLet()&&(t=d._var,r="let"),t){case d._break:case d._continue:this.next();var n=t===d._break;return this.semicolon()||this.canInsertSemicolon()?e.label=null:(e.label=this.tok.type===d.name?this.parseIdent():null,this.semicolon()),this.finishNode(e,n?"BreakStatement":"ContinueStatement");case d._debugger:return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement");case d._do:return this.next(),e.body=this.parseStatement(),e.test=this.eat(d._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(e,"DoWhileStatement");case d._for:this.next();var i=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(d.parenL),this.tok.type===d.semi)return this.parseFor(e,null);var s=this.toks.isLet();if(s||this.tok.type===d._var||this.tok.type===d._const){var o=this.parseVar(this.startNode(),!0,s?"let":this.tok.value);return o.declarations.length===1&&(this.tok.type===d._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==d._in&&(e.await=i),this.parseForIn(e,o)):this.parseFor(e,o)}var a=this.parseExpression(!0);return this.tok.type===d._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==d._in&&(e.await=i),this.parseForIn(e,this.toAssignable(a))):this.parseFor(e,a);case d._function:return this.next(),this.parseFunction(e,!0);case d._if:return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(),e.alternate=this.eat(d._else)?this.parseStatement():null,this.finishNode(e,"IfStatement");case d._return:return this.next(),this.eat(d.semi)||this.canInsertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement");case d._switch:var u=this.curIndent,c=this.curLineStart;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.pushCx(),this.expect(d.braceL);for(var l;!this.closes(d.braceR,u,c,!0);)if(this.tok.type===d._case||this.tok.type===d._default){var p=this.tok.type===d._case;l&&this.finishNode(l,"SwitchCase"),e.cases.push(l=this.startNode()),l.consequent=[],this.next(),p?l.test=this.parseExpression():l.test=null,this.expect(d.colon)}else l||(e.cases.push(l=this.startNode()),l.consequent=[],l.test=null),l.consequent.push(this.parseStatement());return l&&this.finishNode(l,"SwitchCase"),this.popCx(),this.eat(d.braceR),this.finishNode(e,"SwitchStatement");case d._throw:return this.next(),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement");case d._try:if(this.next(),e.block=this.parseBlock(),e.handler=null,this.tok.type===d._catch){var f=this.startNode();this.next(),this.eat(d.parenL)?(f.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(d.parenR)):f.param=null,f.body=this.parseBlock(),e.handler=this.finishNode(f,"CatchClause")}return e.finalizer=this.eat(d._finally)?this.parseBlock():null,!e.handler&&!e.finalizer?e.block:this.finishNode(e,"TryStatement");case d._var:case d._const:return this.parseVar(e,!1,r||this.tok.value);case d._while:return this.next(),e.test=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WhileStatement");case d._with:return this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WithStatement");case d.braceL:return this.parseBlock();case d.semi:return this.next(),this.finishNode(e,"EmptyStatement");case d._class:return this.parseClass(!0);case d._import:if(this.options.ecmaVersion>10){var m=this.lookAhead(1).type;if(m===d.parenL||m===d.dot)return e.expression=this.parseExpression(),this.semicolon(),this.finishNode(e,"ExpressionStatement")}return this.parseImport();case d._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,!0,!0);var g=this.parseExpression();return en(g)?(this.next(),this.tok.type===d.eof?this.finishNode(e,"EmptyStatement"):this.parseStatement()):t===d.name&&g.type==="Identifier"&&this.eat(d.colon)?(e.body=this.parseStatement(),e.label=g,this.finishNode(e,"LabeledStatement")):(e.expression=g,this.semicolon(),this.finishNode(e,"ExpressionStatement"))}};rr.parseBlock=function(){var t=this.startNode();this.pushCx(),this.expect(d.braceL);var e=this.curIndent,r=this.curLineStart;for(t.body=[];!this.closes(d.braceR,e,r,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(d.braceR),this.finishNode(t,"BlockStatement")};rr.parseFor=function(t,e){return t.init=e,t.test=t.update=null,this.eat(d.semi)&&this.tok.type!==d.semi&&(t.test=this.parseExpression()),this.eat(d.semi)&&this.tok.type!==d.parenR&&(t.update=this.parseExpression()),this.popCx(),this.expect(d.parenR),t.body=this.parseStatement(),this.finishNode(t,"ForStatement")};rr.parseForIn=function(t,e){var r=this.tok.type===d._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.popCx(),this.expect(d.parenR),t.body=this.parseStatement(),this.finishNode(t,r)};rr.parseVar=function(t,e,r){t.kind=r,this.next(),t.declarations=[];do{var n=this.startNode();n.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),n.init=this.eat(d.eq)?this.parseMaybeAssign(e):null,t.declarations.push(this.finishNode(n,"VariableDeclarator"))}while(this.eat(d.comma));if(!t.declarations.length){var i=this.startNode();i.id=this.dummyIdent(),t.declarations.push(this.finishNode(i,"VariableDeclarator"))}return e||this.semicolon(),this.finishNode(t,"VariableDeclaration")};rr.parseClass=function(t){var e=this.startNode();this.next(),this.tok.type===d.name?e.id=this.parseIdent():t===!0?e.id=this.dummyIdent():e.id=null,e.superClass=this.eat(d._extends)?this.parseExpression():null,e.body=this.startNode(),e.body.body=[],this.pushCx();var r=this.curIndent+1,n=this.curLineStart;for(this.eat(d.braceL),this.curIndent+1<r&&(r=this.curIndent,n=this.curLineStart);!this.closes(d.braceR,r,n);){var i=this.parseClassElement();i&&e.body.body.push(i)}return this.popCx(),this.eat(d.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(e.body,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};rr.parseClassElement=function(){if(this.eat(d.semi))return null;var t=this.options,e=t.ecmaVersion,r=t.locations,n=this.curIndent,i=this.curLineStart,s=this.startNode(),o="",a=!1,u=!1,c="method",l=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(d.braceL))return this.parseClassStaticBlock(s),s;this.isClassElementNameStart()||this.toks.type===d.star?l=!0:o="static"}if(s.static=l,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===d.star)&&!this.canInsertSemicolon()?u=!0:o="async"),!o){a=this.eat(d.star);var p=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=p:o=p)}if(o)s.computed=!1,s.key=this.startNodeAt(r?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),s.key.name=o,this.finishNode(s.key,"Identifier");else if(this.parseClassElementName(s),en(s.key))return en(this.parseMaybeAssign())&&this.next(),this.eat(d.comma),null;if(e<13||this.toks.type===d.parenL||c!=="method"||a||u){var f=!s.computed&&!s.static&&!a&&!u&&c==="method"&&(s.key.type==="Identifier"&&s.key.name==="constructor"||s.key.type==="Literal"&&s.key.value==="constructor");s.kind=f?"constructor":c,s.value=this.parseMethod(a,u),this.finishNode(s,"MethodDefinition")}else{if(this.eat(d.eq))if(this.curLineStart!==i&&this.curIndent<=n&&this.tokenStartsLine())s.value=null;else{var m=this.inAsync,g=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,s.value=this.parseMaybeAssign(),this.inAsync=m,this.inGenerator=g}else s.value=null;this.semicolon(),this.finishNode(s,"PropertyDefinition")}return s};rr.parseClassStaticBlock=function(t){var e=this.curIndent,r=this.curLineStart;for(t.body=[],this.pushCx();!this.closes(d.braceR,e,r,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(d.braceR),this.finishNode(t,"StaticBlock")};rr.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()};rr.parseClassElementName=function(t){this.toks.type===d.privateId?(t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};rr.parseFunction=function(t,e,r){var n=this.inAsync,i=this.inGenerator,s=this.inFunction;return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(d.star)),this.options.ecmaVersion>=8&&(t.async=!!r),this.tok.type===d.name?t.id=this.parseIdent():e===!0&&(t.id=this.dummyIdent()),this.inAsync=t.async,this.inGenerator=t.generator,this.inFunction=!0,t.params=this.parseFunctionParams(),t.body=this.parseBlock(),this.toks.adaptDirectivePrologue(t.body.body),this.inAsync=n,this.inGenerator=i,this.inFunction=s,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")};rr.parseExport=function(){var t=this.startNode();if(this.next(),this.eat(d.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?t.exported=this.parseExprAtom():t.exported=null),t.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(d._default)){var e;if(this.tok.type===d._function||(e=this.toks.isAsyncFunction())){var r=this.startNode();this.next(),e&&this.next(),t.declaration=this.parseFunction(r,"nullableID",e)}else this.tok.type===d._class?t.declaration=this.parseClass("nullableID"):(t.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(t,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(t.declaration=this.parseStatement(),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")};rr.parseImport=function(){var t=this.startNode();if(this.next(),this.tok.type===d.string)t.specifiers=[],t.source=this.parseExprAtom();else{var e;this.tok.type===d.name&&this.tok.value!=="from"&&(e=this.startNode(),e.local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(d.comma)),t.specifiers=this.parseImportSpecifiers(),t.source=this.eatContextual("from")&&this.tok.type===d.string?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e)}return this.semicolon(),this.finishNode(t,"ImportDeclaration")};rr.parseImportSpecifiers=function(){var t=[];if(this.tok.type===d.star){var e=this.startNode();this.next(),e.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),t.push(this.finishNode(e,"ImportNamespaceSpecifier"))}else{var r=this.curIndent,n=this.curLineStart,i=this.nextLineStart;for(this.pushCx(),this.eat(d.braceL),this.curLineStart>i&&(i=this.curLineStart);!this.closes(d.braceR,r+(this.curLineStart<=i?1:0),n);){var s=this.startNode();if(this.eat(d.star))s.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(s,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(s.imported=this.parseModuleExportName(),en(s.imported)))break;s.local=this.eatContextual("as")?this.parseModuleExportName():s.imported,this.finishNode(s,"ImportSpecifier")}t.push(s),this.eat(d.comma)}this.eat(d.braceR),this.popCx()}return t};rr.parseExportSpecifierList=function(){var t=[],e=this.curIndent,r=this.curLineStart,n=this.nextLineStart;for(this.pushCx(),this.eat(d.braceL),this.curLineStart>n&&(n=this.curLineStart);!this.closes(d.braceR,e+(this.curLineStart<=n?1:0),r)&&!this.isContextual("from");){var i=this.startNode();if(i.local=this.parseModuleExportName(),en(i.local))break;i.exported=this.eatContextual("as")?this.parseModuleExportName():i.local,this.finishNode(i,"ExportSpecifier"),t.push(i),this.eat(d.comma)}return this.eat(d.braceR),this.popCx(),t};rr.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===d.string?this.parseExprAtom():this.parseIdent()};var We=Ye.prototype;We.checkLVal=function(t){if(!t)return t;switch(t.type){case"Identifier":case"MemberExpression":return t;case"ParenthesizedExpression":return t.expression=this.checkLVal(t.expression),t;default:return this.dummyIdent()}};We.parseExpression=function(t){var e=this.storeCurrentPos(),r=this.parseMaybeAssign(t);if(this.tok.type===d.comma){var n=this.startNodeAt(e);for(n.expressions=[r];this.eat(d.comma);)n.expressions.push(this.parseMaybeAssign(t));return this.finishNode(n,"SequenceExpression")}return r};We.parseParenExpression=function(){this.pushCx(),this.expect(d.parenL);var t=this.parseExpression();return this.popCx(),this.expect(d.parenR),t};We.parseMaybeAssign=function(t){if(this.inGenerator&&this.toks.isContextual("yield")){var e=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==d.star&&!this.tok.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(d.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")}var r=this.storeCurrentPos(),n=this.parseMaybeConditional(t);if(this.tok.type.isAssign){var i=this.startNodeAt(r);return i.operator=this.tok.value,i.left=this.tok.type===d.eq?this.toAssignable(n):this.checkLVal(n),this.next(),i.right=this.parseMaybeAssign(t),this.finishNode(i,"AssignmentExpression")}return n};We.parseMaybeConditional=function(t){var e=this.storeCurrentPos(),r=this.parseExprOps(t);if(this.eat(d.question)){var n=this.startNodeAt(e);return n.test=r,n.consequent=this.parseMaybeAssign(),n.alternate=this.expect(d.colon)?this.parseMaybeAssign(t):this.dummyIdent(),this.finishNode(n,"ConditionalExpression")}return r};We.parseExprOps=function(t){var e=this.storeCurrentPos(),r=this.curIndent,n=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),e,-1,t,r,n)};We.parseExprOp=function(t,e,r,n,i,s){if(this.curLineStart!==s&&this.curIndent<i&&this.tokenStartsLine())return t;var o=this.tok.type.binop;if(o!=null&&(!n||this.tok.type!==d._in)&&o>r){var a=this.startNodeAt(e);if(a.left=t,a.operator=this.tok.value,this.next(),this.curLineStart!==s&&this.curIndent<i&&this.tokenStartsLine())a.right=this.dummyIdent();else{var u=this.storeCurrentPos();a.right=this.parseExprOp(this.parseMaybeUnary(!1),u,o,n,i,s)}return this.finishNode(a,/&&|\|\||\?\?/.test(a.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(a,e,r,n,i,s)}return t};We.parseMaybeUnary=function(t){var e=this.storeCurrentPos(),r;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.tok.type.prefix){var n=this.startNode(),i=this.tok.type===d.incDec;i||(t=!0),n.operator=this.tok.value,n.prefix=!0,this.next(),n.argument=this.parseMaybeUnary(!0),i&&(n.argument=this.checkLVal(n.argument)),r=this.finishNode(n,i?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===d.ellipsis){var s=this.startNode();this.next(),s.argument=this.parseMaybeUnary(t),r=this.finishNode(s,"SpreadElement")}else if(!t&&this.tok.type===d.privateId)r=this.parsePrivateIdent();else for(r=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(e);o.operator=this.tok.value,o.prefix=!1,o.argument=this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}if(!t&&this.eat(d.starstar)){var a=this.startNodeAt(e);return a.operator="**",a.left=r,a.right=this.parseMaybeUnary(!1),this.finishNode(a,"BinaryExpression")}return r};We.parseExprSubscripts=function(){var t=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),t,!1,this.curIndent,this.curLineStart)};We.parseSubscripts=function(t,e,r,n,i){for(var s=this.options.ecmaVersion>=11,o=!1;;){if(this.curLineStart!==i&&this.curIndent<=n&&this.tokenStartsLine())if(this.tok.type===d.dot&&this.curIndent===n)--n;else break;var a=t.type==="Identifier"&&t.name==="async"&&!this.canInsertSemicolon(),u=s&&this.eat(d.questionDot);if(u&&(o=!0),u&&this.tok.type!==d.parenL&&this.tok.type!==d.bracketL&&this.tok.type!==d.backQuote||this.eat(d.dot)){var c=this.startNodeAt(e);c.object=t,this.curLineStart!==i&&this.curIndent<=n&&this.tokenStartsLine()?c.property=this.dummyIdent():c.property=this.parsePropertyAccessor()||this.dummyIdent(),c.computed=!1,s&&(c.optional=u),t=this.finishNode(c,"MemberExpression")}else if(this.tok.type===d.bracketL){this.pushCx(),this.next();var l=this.startNodeAt(e);l.object=t,l.property=this.parseExpression(),l.computed=!0,s&&(l.optional=u),this.popCx(),this.expect(d.bracketR),t=this.finishNode(l,"MemberExpression")}else if(!r&&this.tok.type===d.parenL){var p=this.parseExprList(d.parenR);if(a&&this.eat(d.arrow))return this.parseArrowExpression(this.startNodeAt(e),p,!0);var f=this.startNodeAt(e);f.callee=t,f.arguments=p,s&&(f.optional=u),t=this.finishNode(f,"CallExpression")}else if(this.tok.type===d.backQuote){var m=this.startNodeAt(e);m.tag=t,m.quasi=this.parseTemplate(),t=this.finishNode(m,"TaggedTemplateExpression")}else break}if(o){var g=this.startNodeAt(e);g.expression=t,t=this.finishNode(g,"ChainExpression")}return t};We.parseExprAtom=function(){var t;switch(this.tok.type){case d._this:case d._super:var e=this.tok.type===d._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,e);case d.name:var r=this.storeCurrentPos(),n=this.parseIdent(),i=!1;if(n.name==="async"&&!this.canInsertSemicolon()){if(this.eat(d._function))return this.toks.overrideContext(et.f_expr),this.parseFunction(this.startNodeAt(r),!1,!0);this.tok.type===d.name&&(n=this.parseIdent(),i=!0)}return this.eat(d.arrow)?this.parseArrowExpression(this.startNodeAt(r),[n],i):n;case d.regexp:t=this.startNode();var s=this.tok.value;return t.regex={pattern:s.pattern,flags:s.flags},t.value=s.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case d.num:case d.string:return t=this.startNode(),t.value=this.tok.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===d.num&&t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal");case d._null:case d._true:case d._false:return t=this.startNode(),t.value=this.tok.type===d._null?null:this.tok.type===d._true,t.raw=this.tok.type.keyword,this.next(),this.finishNode(t,"Literal");case d.parenL:var o=this.storeCurrentPos();this.next();var a=this.parseExpression();if(this.expect(d.parenR),this.eat(d.arrow)){var u=a.expressions||[a];return u.length&&en(u[u.length-1])&&u.pop(),this.parseArrowExpression(this.startNodeAt(o),u)}if(this.options.preserveParens){var c=this.startNodeAt(o);c.expression=a,a=this.finishNode(c,"ParenthesizedExpression")}return a;case d.bracketL:return t=this.startNode(),t.elements=this.parseExprList(d.bracketR,!0),this.finishNode(t,"ArrayExpression");case d.braceL:return this.toks.overrideContext(et.b_expr),this.parseObj();case d._class:return this.parseClass(!1);case d._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case d._new:return this.parseNew();case d.backQuote:return this.parseTemplate();case d._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}};We.parseExprImport=function(){var t=this.startNode(),e=this.parseIdent(!0);switch(this.tok.type){case d.parenL:return this.parseDynamicImport(t);case d.dot:return t.meta=e,this.parseImportMeta(t);default:return t.name="import",this.finishNode(t,"Identifier")}};We.parseDynamicImport=function(t){return t.source=this.parseExprList(d.parenR)[0]||this.dummyString(),this.finishNode(t,"ImportExpression")};We.parseImportMeta=function(t){return this.next(),t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty")};We.parseNew=function(){var t=this.startNode(),e=this.curIndent,r=this.curLineStart,n=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(d.dot))return t.meta=n,t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty");var i=this.storeCurrentPos();return t.callee=this.parseSubscripts(this.parseExprAtom(),i,!0,e,r),this.tok.type===d.parenL?t.arguments=this.parseExprList(d.parenR):t.arguments=[],this.finishNode(t,"NewExpression")};We.parseTemplateElement=function(){var t=this.startNode();return this.tok.type===d.invalidTemplate?t.value={raw:this.tok.value,cooked:null}:t.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),t.tail=this.tok.type===d.backQuote,this.finishNode(t,"TemplateElement")};We.parseTemplate=function(){var t=this.startNode();this.next(),t.expressions=[];var e=this.parseTemplateElement();for(t.quasis=[e];!e.tail;)this.next(),t.expressions.push(this.parseExpression()),this.expect(d.braceR)?e=this.parseTemplateElement():(e=this.startNode(),e.value={cooked:"",raw:""},e.tail=!0,this.finishNode(e,"TemplateElement")),t.quasis.push(e);return this.expect(d.backQuote),this.finishNode(t,"TemplateLiteral")};We.parseObj=function(){var t=this.startNode();t.properties=[],this.pushCx();var e=this.curIndent+1,r=this.curLineStart;for(this.eat(d.braceL),this.curIndent+1<e&&(e=this.curIndent,r=this.curLineStart);!this.closes(d.braceR,e,r);){var n=this.startNode(),i=void 0,s=void 0,o=void 0;if(this.options.ecmaVersion>=9&&this.eat(d.ellipsis)){n.argument=this.parseMaybeAssign(),t.properties.push(this.finishNode(n,"SpreadElement")),this.eat(d.comma);continue}if(this.options.ecmaVersion>=6&&(o=this.storeCurrentPos(),n.method=!1,n.shorthand=!1,i=this.eat(d.star)),this.parsePropertyName(n),this.toks.isAsyncProp(n)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(d.star),this.parsePropertyName(n)):s=!1,en(n.key)){en(this.parseMaybeAssign())&&this.next(),this.eat(d.comma);continue}if(this.eat(d.colon))n.kind="init",n.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===d.parenL||this.tok.type===d.braceL))n.kind="init",n.method=!0,n.value=this.parseMethod(i,s);else if(this.options.ecmaVersion>=5&&n.key.type==="Identifier"&&!n.computed&&(n.key.name==="get"||n.key.name==="set")&&this.tok.type!==d.comma&&this.tok.type!==d.braceR&&this.tok.type!==d.eq)n.kind=n.key.name,this.parsePropertyName(n),n.value=this.parseMethod(!1);else{if(n.kind="init",this.options.ecmaVersion>=6)if(this.eat(d.eq)){var a=this.startNodeAt(o);a.operator="=",a.left=n.key,a.right=this.parseMaybeAssign(),n.value=this.finishNode(a,"AssignmentExpression")}else n.value=n.key;else n.value=this.dummyIdent();n.shorthand=!0}t.properties.push(this.finishNode(n,"Property")),this.eat(d.comma)}return this.popCx(),this.eat(d.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(t,"ObjectExpression")};We.parsePropertyName=function(t){if(this.options.ecmaVersion>=6)if(this.eat(d.bracketL)){t.computed=!0,t.key=this.parseExpression(),this.expect(d.bracketR);return}else t.computed=!1;var e=this.tok.type===d.num||this.tok.type===d.string?this.parseExprAtom():this.parseIdent();t.key=e||this.dummyIdent()};We.parsePropertyAccessor=function(){if(this.tok.type===d.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===d.privateId)return this.parsePrivateIdent()};We.parseIdent=function(){var t=this.tok.type===d.name?this.tok.value:this.tok.type.keyword;if(!t)return this.dummyIdent();var e=this.startNode();return this.next(),e.name=t,this.finishNode(e,"Identifier")};We.parsePrivateIdent=function(){var t=this.startNode();return t.name=this.tok.value,this.next(),this.finishNode(t,"PrivateIdentifier")};We.initFunction=function(t){t.id=null,t.params=[],this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};We.toAssignable=function(t,e){if(!(!t||t.type==="Identifier"||t.type==="MemberExpression"&&!e))if(t.type==="ParenthesizedExpression")this.toAssignable(t.expression,e);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(t.type==="ObjectExpression"){t.type="ObjectPattern";for(var r=0,n=t.properties;r<n.length;r+=1){var i=n[r];this.toAssignable(i,e)}}else if(t.type==="ArrayExpression")t.type="ArrayPattern",this.toAssignableList(t.elements,e);else if(t.type==="Property")this.toAssignable(t.value,e);else if(t.type==="SpreadElement")t.type="RestElement",this.toAssignable(t.argument,e);else if(t.type==="AssignmentExpression")t.type="AssignmentPattern",delete t.operator;else return this.dummyIdent()}return t};We.toAssignableList=function(t,e){for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.toAssignable(i,e)}return t};We.parseFunctionParams=function(t){return t=this.parseExprList(d.parenR),this.toAssignableList(t,!0)};We.parseMethod=function(t,e){var r=this.startNode(),n=this.inAsync,i=this.inGenerator,s=this.inFunction;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=!!t),this.options.ecmaVersion>=8&&(r.async=!!e),this.inAsync=r.async,this.inGenerator=r.generator,this.inFunction=!0,r.params=this.parseFunctionParams(),r.body=this.parseBlock(),this.toks.adaptDirectivePrologue(r.body.body),this.inAsync=n,this.inGenerator=i,this.inFunction=s,this.finishNode(r,"FunctionExpression")};We.parseArrowExpression=function(t,e,r){var n=this.inAsync,i=this.inGenerator,s=this.inFunction;return this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!r),this.inAsync=t.async,this.inGenerator=!1,this.inFunction=!0,t.params=this.toAssignableList(e,!0),t.expression=this.tok.type!==d.braceL,t.expression?t.body=this.parseMaybeAssign():(t.body=this.parseBlock(),this.toks.adaptDirectivePrologue(t.body.body)),this.inAsync=n,this.inGenerator=i,this.inFunction=s,this.finishNode(t,"ArrowFunctionExpression")};We.parseExprList=function(t,e){this.pushCx();var r=this.curIndent,n=this.curLineStart,i=[];for(this.next();!this.closes(t,r+1,n);){if(this.eat(d.comma)){i.push(e?null:this.dummyIdent());continue}var s=this.parseMaybeAssign();if(en(s)){if(this.closes(t,r,n))break;this.next()}else i.push(s);this.eat(d.comma)}return this.popCx(),this.eat(t)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),i};We.parseAwait=function(){var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(),this.finishNode(t,"AwaitExpression")};hf.tabSize=4;function l$(t,e){return Ye.parse(t,e)}var A0={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},po=t=>t.start,I0=t=>t.end,p$=(t,e)=>t.slice(po(e),I0(e)),fo=(t,e=!1)=>(e?e$:l$)(t,A0),ag=t=>{let e=fo(t);for(let r of e.body)r.type==="FunctionDeclaration"&&r.id&&en(r.id)&&(r.id=null);return e.body};function f$(t,e,r){return e.length>1||e[0].type!=="FunctionDeclaration"?m$(t,e,!0,r):h$(t,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...t.map(n=>({type:"Identifier",name:n}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,r)}var h$=(t,e,r,n)=>{let i={type:"Identifier",name:"e"},o=n?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:i,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[i],optional:!1}}}]}}}]:e;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:t.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:o}}:{type:"ArrowFunctionExpression",params:t.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:o}}},eJ=(t,e)=>({type:"CallExpression",arguments:t.map(r=>({type:"Identifier",name:r})),callee:e,optional:!1}),d$=(t,e,r)=>eJ(t,m$(t,e,r,!0));function m$(t,e,r,n){let i=e[e.length-1];if(i.type!=="ReturnStatement"){let s=tJ(i);s&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:s}])}return h$(t,e,r,n)}function tJ(t){switch(t.type){case"ExpressionStatement":return t.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:t},optional:!1};case"ReturnStatement":return t.argument||void 0;default:return}}var S0=class{constructor(e,r,n,i,s){this.original=e;this.metadata=r;this.actualRoot=n;this.actualSources=i;this.hasNames=s;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=S0.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let o=0;o<i.length;o++)this.sourceActualToOriginal.set(i[o],e.sources[o]),this.sourceOriginalToActual.set(e.sources[o],i[o])}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return _t(ug(nr(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){let r=this.original.originalPositionFor(e);return r.source&&(r.source=this.sourceOriginalToActual.get(r.source)??r.source),r}generatedPositionFor(e){return this.original.generatedPositionFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}allGeneratedPositionsFor(e){return this.original.allGeneratedPositionsFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,r){return this.original.sourceContentFor(this.sourceActualToOriginal.get(e)??e,r)}eachMapping(e,r,n){return this.original.eachMapping(e,r,n)}destroy(){this.original.destroy()}},Ba=S0;Ba.idCounter=0;async function H$(t,e,r,n){let i=ht.parse(e,{locations:!0,ecmaVersion:"latest"}),s=new vf.SourceMapGenerator({file:t}),o=ws(i,{sourceMap:{setSourceContent:(a,u)=>s.setSourceContent(a,u),applySourceMap:(a,u,c)=>s.applySourceMap(a,u,c),toJSON:()=>s.toJSON(),toString:()=>s.toString(),addMapping:a=>s.addMapping({generated:a.original,original:{column:a.generated.column,line:a.generated.line},source:t,name:a.name})}});return s.setSourceContent(t,o),new Ba(await vf.SourceMapConsumer.fromSourceMap(s),{sourceMapUrl:n,compiledPath:r},"",[t],!1)}function y$(t){let e;try{e=fo(t,!0)}catch{return}let r=(u,c)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:u,right:c}}),n=!1,i=!1,s=(0,Ic.replace)(e,{enter(u,c){switch(u.type){case"ClassDeclaration":return r(u.id||{type:"Identifier",name:"_default"},{...u,type:"ClassExpression"});case"FunctionDeclaration":return this.skip(),r(u.id||{type:"Identifier",name:"_default"},{...u,type:"FunctionExpression"});case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return Ic.VisitorOption.Skip;case"AwaitExpression":n=!0;return;case"ForOfStatement":u.await&&(n=!0);return;case"ReturnStatement":i=!0;return;case"VariableDeclaration":if(!c||!("body"in c)||!(c.body instanceof Array))return;let l=c.body,p=u.declarations.map(f=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:f.id,right:f.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(u),1,...p)}}});if(!n||i)return;let o=s.body[s.body.length-1];o.type==="ExpressionStatement"&&(s.body[s.body.length-1]={type:"ReturnStatement",argument:o.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:s.body}},arguments:[],optional:!1}};return ws(a)}function bf(t){try{let e=tg(t,0,A0);return e.end<t.length||e.type!=="ObjectExpression"?t:`(${t})`}catch{return t}}function Sc(t){if(!t)return;let e="sourceMappingURL",r=t.length,n=e.length,i=r,s=0;for(;;){if(i=t.lastIndexOf(e,i),i===-1||i<4)return;if(i-=4,t[i]==="/"&&t[i+1]==="/"&&!(t[i+2]!=="#"&&t[i+2]!=="@")&&!(t[i+3]!==" "&&t[i+3]!=="	")&&(s=i+4+n,!(s<r&&t[s]!=="=")))break}let o=t.substring(s+1),a=o.indexOf(`
`);return a!==-1&&(o=o.substring(0,a)),o.trim()}function cg(t,e,r){let n=r.generatedPositionFor({source:t,line:e.lineNumber,column:e.columnNumber-1,bias:vf.SourceMapConsumer.GREATEST_LOWER_BOUND}),i=a=>{if(a.line===null||a.column===null)return 1e11;let u=r.originalPositionFor(a);return u.line!==null?Math.abs(e.lineNumber-u.line):1e11},s=i(n),o=r.allGeneratedPositionsFor({source:t,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,u)=>a.line!==u.line?a.line-u.line:a.column-u.column).map(a=>[a,i(a)]);return o.push([n,s]),o.sort(([a,u],[c,l])=>u-l||a.line-c.line||a.column-c.column),o[0][0]}var E0=(t,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(t)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===t||e.type==="VariableDeclarator"&&e.id===t||e.type==="AssignmentPattern"&&e.left===t||e.type==="CatchClause"&&e.param===t||"kind"in e&&e.kind==="init"&&e.value===t||e.type==="RestElement"&&e.argument===t||e.type==="AssignmentPattern"&&e.left===t);function ho(t){try{new Function(t)}catch(e){return e}}function rJ(t,e){let r=fo(t),n,i;return(0,Ic.traverse)(r,{enter:s=>{let o=s;e>=o.start&&e<o.end&&(s.type==="CallExpression"||s.type==="NewExpression"?i=s:n=s)}}),i||n}var g$=/^[^()]+/g;function v$(t,e){try{let n=rJ(t,e);if(n&&"callee"in n){let i=n.callee;return{text:`${t.slice(i.start,i.end)}(...)`,start:i.start,end:i.end}}else{let i=n;return{text:t.slice(i.start,i.end),start:i.start,end:i.end}}}catch{}g$.lastIndex=e-1;let r=g$.exec(t);if(r)return{text:r[0],start:e,end:e+r[0].length}}var Ht=()=>`
//# sourceURL=eval-${(0,b$.randomBytes)(4).toString("hex")}${".cdp"}
`;function Fa(t){return nJ(""+t)}function nJ(t){let e=tg(t,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${t}`);let r=e.params.map(o=>{if(o.type!=="Identifier")throw new Error("Parameter must be identifier");return o.name}),{start:n,end:i}=e.body,s=o=>`
    ${o.map((a,u)=>`let ${r[u]} = ${a}`).join("; ")};
    ${t.slice(n+1,i-1)}
  `;return{expr:(...o)=>`(()=>{${s(o)}})();
${Ht()}`,decl:(...o)=>`function(){${s(o)};
${Ht()}}`}}var Ec=class extends Error{constructor(r){super(r.text);this.details=r}},_f=class{constructor(e){this.objectId=e}};function Hr(t){let e=(""+t).replace("}",Ht()+"}"),r=async({cdp:n,args:i,...s})=>{let o=await n.Runtime.callFunctionOn({functionDeclaration:e,arguments:i.map(a=>a instanceof _f?{objectId:a.objectId}:{value:a}),...s});if(!o)throw new Ec({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(o.exceptionDetails)throw new Ec(o.exceptionDetails);return o.result};return r.source=e,r}var _$=()=>"globalThis.__jsDebugIsReady = true; "+Ht();var wf=new Set(["page","iframe","worker","service_worker"]),P0=new Set(["page","iframe"]),L0=new Set(["page","iframe"]),iJ=L0,xc=class{constructor(e,r,n,i,s,o,a,u,c){this._manager=e;this._targetInfo=r;this.launchConfig=o;this.sessionId=a;this.logger=u;this._attached=!1;this._onNameChangedEmitter=new z;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=n,n.pause(),this.parentTarget=i,this._waitingForDebugger=s,this._updateFromInfo(r),this._ondispose=c}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return L0.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:_$()})])}parent(){return this.parentTarget&&!wf.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let r of this._children.values())wf.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return iJ.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return L0.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let r=e.auxData,n=e.name;if(!r)return n;let i=r.frameId,s=i?this._manager.frameModel.frameForId(i):void 0;return s&&r.isDefault&&!s.parentFrame()?"top":s&&r.isDefault?s.displayName():s?`${n}`:n}supportsCustomBreakpoints(){return P0.has(this.type())}scriptUrlToUrl(e){return mo(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){var i;let e=(i=this._customNameComputeFn)==null?void 0:i.call(this,this);if(e)return e;if(this.type()==="service_worker"){let s=this._manager.serviceWorkerModel.version(this.id());if(s)return s.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!(r&&this._manager.targetList().some(s=>s instanceof xc&&s!==this&&s._targetInfo.title===this._targetInfo.title)))return r;try{let s=new w$.URL(this._targetInfo.url);s.protocol==="data:"?r=" <data>":s?r+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:r+=` (${this._targetInfo.url})`}catch{r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};function Fi(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Cc(t,e){if(t.length<=e)return t;let r=e>>1,n=e-r-1,i=t.codePointAt(t.length-n-1);i&&i>=65536&&(--n,++r);let s=t.codePointAt(r-1);return r>0&&s&&s>=65536&&--r,t.substr(0,r)+"\u2026"+t.substr(t.length-n,n)}var A$="/\\.?*()^${}|[]+",I$=t=>A$.includes(t);function Lr(t,e){let r=A$.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}var go=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let r=e.indexOf(`
`);r!==-1;r=e.indexOf(`
`,r+1))this.lines.push(r+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let r=e.base0;if(r.lineNumber>this.lines.length)return this.source.length;let n=this.lines[r.lineNumber],i=this.lines[r.lineNumber+1]??this.source.length+1;return n+Math.min(i-n-1,r.columnNumber)}};var pg=process.platform!=="win32";function $0(){return pg}function fg(t){return pg?t:t.toLowerCase()}function hg(t,e){return pg?t===e:t.toLowerCase()===e.toLowerCase()}function Ua(){return $0()?new Map:new Oi(fg)}var x$,S$=process.platform==="win32"?(x$=process.env.PATHEXT)==null?void 0:x$.toLowerCase().split(";"):void 0,L$=t=>{let e=fg(rn.basename(t));if(S$){for(let r of S$)if(e.endsWith(r))return e.slice(0,-r.length)}return e},oJ=async(t,e)=>{for(;;){if(await e(t))return t;let r=rn.dirname(t);if(r===t)return;t=r}},dg=(t,e,r)=>oJ(e,n=>t.exists(rn.join(n,r))),aJ=new Set(["localhost","127.0.0.1","::1"]);var E$=t=>aJ.has(t.toLowerCase()),uJ=t=>{try{return new As.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}};var Lc=$a(async t=>{let e=uJ(t);if(E$(e))return!0;try{let r=await C$.promises.lookup(e);return E$(r.address)}catch{return!1}});function mo(t,e){try{return new As.URL(e,t).href}catch{}}function ug(t,e){try{return new As.URL(e),e}catch{}let r;try{r=new As.URL(t||"")}catch{return e}let n=r.protocol+"//";return r.username&&(n+=r.username+":"+r.password+"@"),n+=r.host,n+=rn.dirname(r.pathname),n[n.length-1]!=="/"&&(n+="/"),n+=e,n}function mg(t){try{return new As.URL(t),!0}catch{return!1}}function P$(t){return t.replace(/\/$/,"").replace(/\\$/,"")}var cJ=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i;function st(t){let e=cJ.exec(t);if(e)t=`${e[1]}:///${e[2]}`;else if(t.startsWith("vscode-webview-resource://"))t=new As.URL(t).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(n,i,s)=>s.length===1?`${i}:///`:`${i}://`);else if(!Qn(t))return;return t=t.replace("file:///",""),t=decodeURIComponent(t),t.startsWith("/")&&process.platform==="win32"&&t[1]!=="/"&&(t="/"+t),t[0]!=="/"&&!t.match(/^[A-Za-z]:/)&&(t="/"+t),_t(t)}function D$(t){return Qn(t)&&(t=t.replace("file:///","\\\\"),t=t.replace(/\//g,"\\"),t=decodeURIComponent(t)),t}function Ve(t){return M0==="win32"?"file:///"+Ho(t):"file://"+Ho(t)}function gg(t){return t.startsWith("/")?"file://"+Ho(t):"file:///"+Ho(t)}function yr(t){return rn.posix.isAbsolute(t)||rn.win32.isAbsolute(t)}function nr(t){return!!t&&t.startsWith("data:")}var D0=(t,e,r)=>{if(!r||t===":"){e.add(t);return}if(t==="/"){e.add(`\\${t}`);return}I$(t)?e.add(`\\${t}`):e.add(t);let n=encodeURIComponent(t);t!=="\\"&&n!==t&&e.add(n)},lJ=t=>{switch(t.size){case 0:return"";case 1:return t.values().next().value;default:let e=[...t];return e.some(r=>r.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},Af=new Set,T0=(t,e,r,n)=>{let i="";for(let s of t.slice(e,r))pg?D0(s,Af,n):(D0(s.toLowerCase(),Af,n),D0(s.toUpperCase(),Af,n)),i+=lJ(Af),Af.clear();return i};function Wr(t,[e,r]=[0,t.length]){if(r<=e)return t;let n=[],i=T0(t,0,e,!1),s=T0(t,r,t.length,!1),o=t.slice(e,r);for(let a of[decodeURIComponent(o),st(o)]){if(!a)continue;let u=T0(a,0,a.length,!0);n.push(pJ(`${i}${u}${s}`).concat("($|\\?)"))}return n.join("|")}var pJ=t=>t.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,r="",n)=>`${r}[${n.toUpperCase()}${n.toLowerCase()}]:`);function Qn(t){return t.startsWith("file:///")}var M0=process.platform;function Ho(t){return t=Zn(t),M0==="win32"?(j_(t)&&(t=t.slice(1)),t.split(/[\\//]/g).map((e,r)=>r>0?encodeURIComponent(e):e).join("/")):t.split("/").map(encodeURIComponent).join("/")}function Zn(t){return t&&M0==="win32"&&t[1]===":"?t[0].toUpperCase()+t.substring(1):t}var yo=(t,e=[])=>{let r=t.urlFilter||"file"in t&&t.file||t.url,n=r?hJ(r,...e):void 0;return i=>!i.url.startsWith("devtools://")&&(n==null?void 0:n(i.url))!==!1},Pc=t=>e=>e.type==="page"&&t(e);function fJ(t){return!!t&&!rn.isAbsolute(t)&&!!(0,As.parse)(t).protocol}var hJ=(...t)=>{let e=i=>{i=i.toLowerCase();let s=st(i);s?i=s:fJ(i)&&i.includes("://")&&(i=i.substr(i.indexOf("://")+3)),i.endsWith("/")&&(i=i.substr(0,i.length-1));let o=i.indexOf("#");return o!==-1&&(i=i.slice(0,i[o-1]==="/"?o-1:o)),i},r=t.map(i=>Lr(e(i),"/*").replace(/(\/\*$)|\*/g,".*")),n=new RegExp("^("+r.join("|")+")$","g");return i=>(n.lastIndex=0,n.test(e(i)))};var Is=Symbol("ISourceMapFactory"),If=class{constructor(e,r,n,i){this.pathResolve=e;this.resourceProvider=r;this.dap=n;this.logger=i;this.hasWarnedAboutMaps=new WeakSet}async load(e){var o,a;let r=await this.parseSourceMap(e.sourceMapUrl),n=r.sourceRoot;r.sourceRoot=void 0;let i=!1,s=[];if("sections"in r){s=[];let u=0;for(let c of r.sections)s.push(...c.map.sources),c.map.sources=c.map.sources.map(()=>`source${u++}.js`),i||=!!((o=c.map.names)!=null&&o.length)}else"sources"in r&&Array.isArray(r.sources)&&(s=r.sources,r.sources=r.sources.map((u,c)=>`source${c}.js`),i=!!((a=r.names)!=null&&a.length));return new Ba(await new T$.SourceMapConsumer(r),e,n??"",s,i)}async parseSourceMap(e){let r;try{r=await this.parseSourceMapDirect(e)}catch(n){if(r=await this.parsePathMappedSourceMap(e),!r)throw n}if("sections"in r){let n=await Promise.all(r.sections.map((i,s)=>"url"in i?this.parseSourceMap(i.url).then(o=>({offset:i.offset,map:o})).catch(o=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${s}: ${o}`)}):i));r.sections=n.filter(gr)}return r}async parsePathMappedSourceMap(e){if(nr(e))return;let r=await this.pathResolve.urlToAbsolutePath({url:e});if(r)try{return this.parseSourceMapDirect(r)}catch(n){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",n)}}guardSourceMapFn(e,r,n){try{return r()}catch(i){if(!/error parsing/i.test(String(i.message)))throw i;if(!this.hasWarnedAboutMaps.has(e)){let s=Wm(e.metadata.compiledPath,i.message).error;this.dap.output({output:s.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return n()}}dispose(){}async parseSourceMapDirect(e){let r=st(e);r&&(r=this.pathResolve.rebaseRemoteToLocal(r));let n=await this.resourceProvider.fetch(r||e);if(!n.ok)throw n.error;let i=n.body;return i.slice(0,3)===")]}"&&(i=i.substring(i.indexOf(`
`))),JSON.parse(i)}};If=K([(0,vo.injectable)(),E(0,(0,vo.inject)(Ze)),E(1,(0,vo.inject)(ka)),E(2,(0,vo.inject)(yc)),E(3,(0,vo.inject)(pe))],If);var bo=class extends If{constructor(){super(...arguments);this.knownMaps=new Oi(r=>r.toLowerCase());this.overwrittenSourceMaps=[]}load(r){let n=this.knownMaps.get(r.sourceMapUrl);if(!n)return this.loadNewSourceMap(r);let i=r.cacheKey,s=n.metadata.cacheKey;return n.reloadIfNoMtime?i&&s&&i===s?(n.reloadIfNoMtime=!1,n.prom):(this.overwrittenSourceMaps.push(n.prom),this.loadNewSourceMap(r)):s&&i&&i!==s?(this.overwrittenSourceMaps.push(n.prom),this.loadNewSourceMap(r)):n.prom}loadNewSourceMap(r){let n=super.load(r);return this.knownMaps.set(r.sourceMapUrl,{metadata:r,reloadIfNoMtime:!1,prom:n}),n}dispose(){for(let r of this.knownMaps.values())r.prom.then(n=>n.destroy(),()=>{});for(let r of this.overwrittenSourceMaps)r.then(n=>n.destroy(),()=>{});this.knownMaps.clear()}invalidateCache(){for(let r of this.knownMaps.values())r.reloadIfNoMtime=!0}};bo=K([(0,vo.injectable)()],bo);var N$=B(k0());var $c=Symbol("ISearchStrategy"),Gge=Symbol("ISearchStrategyFallback"),B$=async(t,e)=>{typeof e>"u"&&(e=await HD(t));let r=Sc(e);if(!r)return;let n=nr(r);if(n||(r=mo(Ve(t),r)),!r||!r.startsWith("data:")&&!r.startsWith("file://"))return;let i;if(n)i=(0,N$.xxHash32)(r);else{let s=await gD(st(r)||t);if(!s)return;i=s.mtimeMs}return{compiledPath:t,sourceMapUrl:r,cacheKey:i}};var vg=async(t,e,r,n={})=>{let i=Date.now();try{return await r()}finally{t.verbose("perf.function","",{method:e,duration:Date.now()-i,...n})}};var O0=Symbol("InlineSourceMapUrl"),F$=10*1e3,ja=class{constructor(e){e.__workspaceCachePath&&(this.path=bg.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await Sf.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await Sf.promises.mkdir(bg.dirname(this.path),{recursive:!0}),await Sf.promises.writeFile(this.path,JSON.stringify(e)))}};ja=K([(0,zt.injectable)(),E(0,(0,zt.inject)(qe))],ja);var Ui=class{constructor(e,r,n,i,s,o){this.outFiles=e;this.repo=r;this.logger=n;this.sourceMapFactory=i;this.sourcePathResolver=s;this.state=o}async createMapping(e){if(this.outFiles.empty)return new Map;let r=Ua(),n=await this.state.load();try{let{state:i}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async s=>{let o=[],a=await this.sourceMapFactory.load(s);for(let u of a.sources){let c=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:u,map:a}):st(u);c&&o.push({...s,sourceMapUrl:nr(s.sourceMapUrl)?{[O0]:s.sourceMapUrl}:s.sourceMapUrl,resolvedPath:c,sourceUrl:u})}return{discovered:o,compiledPath:_t(s.compiledPath)}},onProcessedMap:({discovered:s})=>{for(let o of s){let a=r.get(o.resolvedPath);a||(a=new Set,r.set(o.resolvedPath,a)),a.add(o)}},lastState:n,...e});i&&this.state.store(i).catch(s=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:s}))}catch(i){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:i})}return r}};Ui=K([(0,zt.injectable)(),E(0,(0,zt.inject)(Ri)),E(1,(0,zt.inject)($c)),E(2,(0,zt.inject)(pe)),E(3,(0,zt.inject)(Is)),E(4,(0,zt.inject)(Ze)),E(5,(0,zt.inject)(ja))],Ui);var Mc=class extends Ui{async getMetadataForPaths(r){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let n=await this.sourcePathToCompiled;return r.map(i=>n.get(i))}async createInitialMapping(){return vg(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};Mc=K([(0,zt.injectable)()],Mc);var Rc=class extends Ui{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(r){let n=r.map(o=>this.sourcePathToCompiled.get(o)),i=r.map((o,a)=>a).filter(o=>!n[o]);if(i.length){let o=new Set(i.map(u=>_t(r[u]))),a=this.createMapping({filter:(u,c)=>!c||c.discovered.some(l=>o.has(l.resolvedPath))});for(let u of i)this.sourcePathToCompiled.set(r[u],a),n[u]=a}return await Promise.all(n.map(async(o,a)=>(await o).get(r[a])))}};Rc=K([(0,zt.injectable)()],Rc);var Wa=Symbol("IBreakpointsPredictor"),qa=class{constructor(e,r,n,i){this.bpSearch=e;this.outFiles=r;this.logger=n;this.sourceMapFactory=i;this.predictedLocations=new Map;this.longParseEmitter=new z;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){var i;if(!e.source.path||!((i=e.breakpoints)!=null&&i.length))return;let r=await this.getMetadataForPaths([e.source.path]).then(s=>s[0]);if(!r)return;let n=async(s,o,a)=>{let u=typeof a.sourceMapUrl=="string"?a.sourceMapUrl:a.sourceMapUrl.hasOwnProperty(O0)?a.sourceMapUrl[O0]:await Sf.promises.readFile(a.compiledPath,"utf8").then(Sc);if(!u)return[];let c=await this.sourceMapFactory.load({...a,sourceMapUrl:u}),l=this.sourceMapFactory.guardSourceMapFn(c,()=>cg(a.sourceUrl,{lineNumber:s,columnNumber:o||1},c),()=>null);if(!l||l.line===null)return[];let p=await this.getMetadataForPaths([a.compiledPath]).then(f=>f[0]);return p?(await Promise.all([...p].map(m=>n(l.line,l.column,m)))).flat():[{absolutePath:a.compiledPath,lineNumber:l.line||1,columnNumber:l.column?l.column+1:1}]};for(let s of e.breakpoints??[]){let o=`${e.source.path}:${s.line}:${s.column||1}`;if(this.predictedLocations.has(o))return;let a=[];this.predictedLocations.set(o,a);for(let u of r)a.push(...await n(s.line,s.column||0,u))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(r=>r[0])}async getMetadataForPaths(e){let r=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:F$,patterns:[...this.outFiles.explode()].join(", ")})},F$),n=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(r),n}predictedResolvedLocations(e){let r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(r)??[]}};qa=K([(0,zt.injectable)(),E(0,(0,zt.inject)(Ui)),E(1,(0,zt.inject)(Ri)),E(2,(0,zt.inject)(pe)),E(3,(0,zt.inject)(Is))],qa);var Ki=B(ce());var _g=class{constructor(e=!1,r=!1){this.verified=e;this.hit=r}},wg=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(r=>{r.id!==void 0&&!this._statisticsById.has(r.id)&&this._statisticsById.set(r.id,new _g(r.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let r=this._statisticsById.get(e);if(r!==void 0)return r;{let n=new _g;return this._statisticsById.set(e,n),n}}statistics(){let e=0,r=0,n=0;for(let i of this._statisticsById.values())e++,i.hit&&n++,i.verified&&r++;return{set:e,verified:r,hit:n}}};var Gc=B(ce());var vM=require("crypto"),bM=B(ig()),Df=B(ce());var vJ=0,yt=Symbol("ICdpApi"),Va=class extends Error{constructor(r){super("<<message>>");this.method=r}setCause(r,n){var i;return this.cause={code:r,message:n},this.message=`CDP error ${r} calling method ${this.method}: ${n}`,this.stack=(i=this.stack)==null?void 0:i.replace("<<message>>",this.message),this}},$t=class{constructor(e,r,n){this.logger=r;this.telemetryReporter=n;this._connectionId=vJ++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new z;this.waitWrapper=_J();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([i,s])=>this._onMessage(i,s)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new Ag(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,r={},n){let i=++this._lastId,s={id:i,method:e,params:r};n&&(s.sessionId=n);let o=JSON.stringify(s);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:s}),this._transport.send(o),i}_onMessage(e,r){let n=JSON.parse(e),i=n;n.result&&n.result.scriptSource?i={...n,result:{...n.result,scriptSource:"<script source>"}}:n.method==="Debugger.scriptParsed"&&n.params&&nr(n.params.sourceMapURL)&&(i={...n,params:{...n.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:i});let s=this._sessions.get(n.sessionId||"");if(!s){let u=this._disposedSessions.get(n.sessionId);if(u){let c=(Date.now()-u.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${c} seconds ago`,{sessionId:n.sessionId,disposeOn:u});return}else throw new Error(`Unknown session id: ${n.sessionId} while processing: ${n.method}`)}let o=n.method,a;try{s._onMessage(n)}catch(u){a=u}o&&this.telemetryReporter.reportOperation("cdpOperation",o,r.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let r=new Ag(this,e,this.logger);return this._sessions.set(e,r),r.cdp()}disposeSession(e){let r=this._sessions.get(e);r&&(r._onClose(),this._disposedSessions.set(r.sessionId(),new Date),this._sessions.delete(r.sessionId()))}},bJ=+process.version.substring(1).split(".")[0]<11,Ag=class{constructor(e,r,n){this.logger=n;this._queue=[];this._prefixListeners=new zp;this._directListeners=new zp;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=r,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let r of e)this._processResponse(r)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,r)=>r==="pause"?()=>this.pause():r==="resume"?()=>this.resume():r==="session"?this:new Proxy({},{get:(n,i)=>{if(i!=="then")return i==="on"?(s,o)=>this.on(`${r}.${s}`,o):s=>this.send(`${r}.${i}`,s)}})})}on(e,r){return this._directListeners.listen(e,r)}onPrefix(e,r){return this._prefixListeners.listen(e,r)}send(e,r={}){return this.sendOrDie(e,r).catch(()=>{})}sendOrDie(e,r={}){if(!this._connection)return Promise.reject(new Va(e).setCause(0,"Connection is closed"));let n=this._connection._send(e,r,this._sessionId);return new Promise((i,s)=>{this._callbacks.set(n,{resolve:i,reject:s,from:new Va(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!bJ&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){var e;(e=this._connection)==null||e.waitWrapper(()=>{if(this.paused)return;let r=this._queue.shift();r&&(this._processResponse(r),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let n=e;this._directListeners.emit(n.method,n.params);for(let[i,s]of this._prefixListeners.listeners)n.method.startsWith(i)&&s.fire(n);return}let r=this._callbacks.get(e.id);r&&(this._callbacks.delete(e.id),"error"in e?r.reject(r.from.setCause(e.error.code,e.error.message)):"result"in e&&r.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function _J(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let t=!1,e=[],r=()=>{let n=e.shift();if(!n){t=!1;return}setImmediate(r),n()};return n=>{e.push(n),t||(t=!0,setImmediate(r))}}var Pf=B(ce());var fM=B(Lt()),ti=B(ce()),hM=B(k0()),dM=require("path"),G0=B(Fm()),mM=require("url");var Z$=require("path"),eM=require("worker_threads");var Ga=B(J$()),F0=require("fs"),U0=require("worker_threads");var MJ=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),RJ=Buffer.from(`
});`),kJ=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),OJ=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),NJ=Buffer.from("#!"),BJ=Buffer.from("\r")[0],FJ=Buffer.from(`
`)[0],UJ=(t,e)=>t.slice(0,e.length).equals(e),Y$=(t,e,r)=>{let n=e.length===64?Ga.shaHash:Ga.hash;if(n(t)===e)return!0;if(r){if(UJ(t,NJ)){let i=t.indexOf(FJ);return t[i-1]===BJ&&i--,n(t.slice(i))===e}if(n(Buffer.concat([MJ,t,RJ]))===e)return!0}return n(Buffer.concat([kJ,t,OJ]))===e},Q$=t=>t instanceof Buffer?t:Buffer.from(t,"utf-8");async function jJ(t){switch(t.type){case 0:try{let e=await F0.promises.readFile(t.file);return{id:t.id,hash:t.mode===0?(0,Ga.hash)(e):(0,Ga.shaHash)(e)}}catch{return{id:t.id}}case 1:try{return{id:t.id,hash:(0,Ga.hash)(Q$(t.data))}}catch{return{id:t.id}}case 2:try{let e=await F0.promises.readFile(t.file);return{id:t.id,matches:Y$(e,t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:Y$(Q$(t.data),t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}}}function qJ(t){t.on("message",e=>{jJ(e).then(r=>t.postMessage(r))})}U0.parentPort&&qJ(U0.parentPort);var Pg=class{constructor(e=3,r=(0,Z$.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=r;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=aD(3e4,()=>this.cleanup())}async hashBytes(e,r){return(await this.send({type:1,data:r,mode:e,id:this.idCounter++})).hash}async hashFile(e,r){return(await this.send({type:0,file:r,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,r,n){return(await this.send({type:3,data:e,id:this.idCounter++,expected:r,checkNode:n})).matches}async verifyFile(e,r,n){return(await this.send({type:2,file:e,id:this.idCounter++,expected:r,checkNode:n})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let r=this.getProcess();if(!r)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let n=je();return this.deferredMap.set(e.id,{deferred:n,request:e}),r.postMessage(e),n.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new eM.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",r=>{let n=r,i=this.deferredMap.get(n.id);i&&(i.deferred.resolve(n),this.deferredMap.delete(n.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let r=this.getProcess();if(r){this.deferCleanup();for(let{request:n}of this.deferredMap.values())r.postMessage(n)}else{for(let{deferred:n}of this.deferredMap.values())n.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var rM=require("fs"),tM=new Pg;async function nM(t,e,r){return!t||wD(t)?void 0:e?(typeof r=="string"?await tM.verifyBytes(r,e,!0):await tM.verifyFile(t,e,!0))?t:void 0:await new Xn(rM.promises).exists(t)?t:void 0}var Oc=Symbol("IContainer"),qi=Symbol("StoragePath"),Vr=Symbol("IInitializeParams"),wo=Symbol("VSCodeApi"),Nc=Symbol("IsVSCode"),iM=Symbol("ExtensionContext"),q0=Symbol("ProcessEnv"),xf=Symbol("execa"),nt=Symbol("FS"),Ka="ExtensionLocation",Xa=Symbol("IBrowserFinder"),Dg=Symbol("SessionSubStates"),j0=new WeakMap,Nt=(t,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let r=e,n=j0.get(t.container);return n?n.push(r):j0.set(t.container,[r]),e},Tg=t=>{var e;(e=j0.get(t))==null||e.forEach(r=>r.dispose())},$He=Symbol("IExtensionContribution");var Mg=B(ce());var sM=B(require("fs")),$g=B(require("path")),oM=t=>{let e={};f(e);function r(g,y){return t({category:"telemetry",output:g,data:y})}let n=g=>r("js-debug/dap/operation",{...e,...g}),i=g=>r("js-debug/cdp/operation",{...e,...g}),s=g=>r("js-debug/error",{...e,...g}),o=g=>{e.browser=(g.targetProject||g.targetProject)+"/"+g.targetVersion,r("js-debug/browserVersion",{...e,...g})},a=g=>r("js-debug/breakpointStats",{...e,...g}),u=g=>r("js-debug/statistics",{...e,...g}),c=g=>{e.nodeVersion=g.version,r("js-debug/nodeRuntime",{...e,...g})},l=g=>{r("js-debug/launch",{...e,...g,parameters:JSON.stringify(g.parameters)})},p=g=>{r("js-debug/diagnosticPrompt",{...e,...g})};function f(g){try{let y=$g.resolve($g.dirname(__filename),"..","..",".gitcommit");g.jsDebugCommitId=sM.readFileSync(y,"utf8")}catch{}}return{breakpointStats:a,statistics:u,browserVersion:o,cdpOperation:i,dapOperation:n,error:s,launch:l,nodeRuntime:c,diagnosticPrompt:p,setGlobalMetric:(g,y)=>{e[g]=y}}};var Cf=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,r,n){let i=this.measurements[e];i||(i=this.measurements[e]={times:[],errors:[]}),i.times.push(r),n&&i.errors.push(n)}flush(){let e={errors:[]};for(let r in this.measurements){let{times:n,errors:i}=this.measurements[r],s={operation:r,totalTime:0,max:0,avg:0,stddev:0,count:n.length,failed:i.length};for(let o of n)s.totalTime+=o,s.max=Math.max(s.max,o);s.avg=s.totalTime/s.count;for(let o of n)s.stddev+=(o-s.avg)**2;s.stddev=Math.sqrt(s.stddev/(n.length-1)),e[s.operation]=s,e[`!${s.operation}.errors`]=i,this.isVSCode||(e[`${s.operation}.errors`]=i)}return this.measurements=Object.create(null),e}};var Wi=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new z;this.loggers=oM(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new Cf(this.isVsCode),cdpOperation:new Cf(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...r){let n=this.loggers[e];n(...r)}reportOperation(e,r,n,i){this.batchers[e].add(r,n,i),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},Wi.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(r=>e.output(r)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[r,n]of e){let i=this.batchers[r].flush();i.length&&this.report(r,i),this.batchFlushTimeout[r]=void 0,clearTimeout(n)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=W0(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};Wi.batchFlushInterval=5e3,Wi=K([(0,Mg.injectable)(),E(0,(0,Mg.inject)(Nc))],Wi);var W0=t=>typeof t=="number"?Number(t.toFixed(1)):typeof t!="object"||!t?t:t instanceof Error?V0(t):t instanceof Array?t.map(W0):Hs(t,W0),aM=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function V0(t){let e=String(t.message),r=String(t.name);aM.lastIndex=0;let n=typeof t.stack=="string"?t.stack.replace(aM,"$1"):void 0;return{error:{message:e,name:r,stack:n}}}var Ao=Symbol("IScriptSkipper");function uM(t){return typeof t.lineNumber=="number"&&typeof t.columnNumber=="number"&&!!t.source}var cM=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),WJ=t=>t.endsWith(".hot-update.js"),VJ={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},Lf=class{constructor(e,r,n,i,s,o,a,u){this.url=r;this.inlineScriptOffset=o;this.runtimeScriptOffset=a;this.contentHash=u;this._scripts=[];this.sourceReference=e.getSourceReference(r),this._contentGetter=$e(i),this._container=e,this.absolutePath=n||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(s),this._existingAbsolutePath=nM(this.absolutePath,o||a?void 0:u,e._fileContentOverridesForTest.get(this.absolutePath))}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={url:e,sourceByUrl:new Map,metadata:{sourceMapUrl:e,compiledPath:this.absolutePath||this.url}}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(!/\.[^/]+$/.test(this.url))return"text/javascript"}async content(){var r;let e=await this._contentGetter();return(r=this.inlineScriptOffset)!=null&&r.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){var c,l;if(!this._container)return;if(Pr(this)&&this.sourceMap.url.endsWith("-pretty.map")){let p=(l=this._container._sourceMaps.get((c=this.sourceMap)==null?void 0:c.url))==null?void 0:l.map;return p&&{map:p,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let r=this.url||`eval://${this.sourceReference}.js`,n=r+"-pretty.map",s=r.split(/[\/\\]/).pop()+"-pretty.js",o=await H$(s,e,r,n);if(!o)return;this.setSourceMapUrl(n);let a=this,u={compiled:new Set([a]),map:o,loaded:Promise.resolve()};return this._container._sourceMaps.set(n,u),await this._container._addSourceMapSources(a,o),{map:o,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){let e=await this._existingAbsolutePath,r={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?fM.t("Skipped by skipFiles"):void 0};return e&&(r.sourceReference=0,r.path=e),r}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(yr(this._fqname)){for(let e of this._container.rootPaths)if(ID(e,this._fqname))return ft((0,dM.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){var n;if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(yr(this.url))return this.url;let e=st(this.url);if(e)return e;let r=this.url;try{let i=[],s=new mM.URL(this.url);if(s.protocol==="data:")return"<eval>/VM"+this.sourceReference;s.hostname&&i.push(s.hostname),s.port&&i.push("\uA789"+s.port),s.pathname&&i.push(/^\/[a-z]:/.test(s.pathname)?s.pathname.slice(1):s.pathname);let o=(n=s.searchParams)==null?void 0:n.toString();o&&i.push("?"+o),r=i.join("")}catch{}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}},Bt=class extends Lf{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},Pr=t=>!!t&&t instanceof Lf&&!!t.sourceMap,lM=(t,e)=>e instanceof Bt&&e.compiledToSourceUrl.has(t);var pM=2**31-1,Jt=class{constructor(e,r,n,i,s,o,a,u){this.sourceMapFactory=r;this.logger=n;this.launchConfig=i;this.initializeConfig=s;this.sourcePathResolver=o;this.scriptSkipper=a;this.resourceProvider=u;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new z;this.onScriptEmitter=new z;this._sourceByOriginalUrl=new Oi(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=Ua();this._sourceMaps=new Map;this._sourceMapTimeouts=VJ;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let c="webRoot"in i?i.webRoot:i.rootPath;c&&(this.rootPaths=[c,Zr(c,"..","ClientApp")]),a.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...i.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,r){r===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,r)}async loadedSources(){let e=[];for(let r of this._sourceByReference.values())e.push(r.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),this.onScriptEmitter.fire(e)}getScriptById(e){return this.scriptsById.get(e)}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let r=(0,hM.xxHash32)(e)&pM;for(let n=0;n<65535;n++){if(!this._sourceByReference.has(r))return r;r===pM&&(r=0),r++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),r}async preferredUiLocation(e){let r=!1,n=4;if(this._doSourceMappedStepping)for(;Pr(e.source);){let i=this._sourceMaps.get(e.source.sourceMap.url);if(!this.logger.assert(i,`Expected to have sourcemap for loaded source ${e.source.sourceMap.url}`))break;if(await Promise.race([i.loaded,Te(this._sourceMapTimeouts.resolveLocation)]),!i.map)return{...e,isMapped:r,unmappedReason:n};let s=this._sourceMappedUiLocation(e,i.map);if(!uM(s)){n=r?void 0:s;break}e=s,r=!0,n=void 0}return{...e,isMapped:r,unmappedReason:n}}currentSiblingUiLocations(e,r){return this._uiLocations(e).filter(n=>!r||n.source===r)}clear(e){this.scriptsById.clear();for(let r of this._sourceByReference.values())this.removeSource(r,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof bo&&this.sourceMapFactory.invalidateCache()}_uiLocations(e){return[...this.getSourceMapUiLocations(e),e,...this.getCompiledLocations(e)]}getSourceMapUiLocations(e){var s;if(!Pr(e.source)||!this._doSourceMappedStepping)return[];let r=(s=this._sourceMaps.get(e.source.sourceMap.url))==null?void 0:s.map;if(!r)return[];let n=this._sourceMappedUiLocation(e,r);if(!uM(n))return[];let i=this.getSourceMapUiLocations(n);return i.push(n),i}_sourceMappedUiLocation(e,r){let n=e.source;if(!Pr(n))return 1;if(this._temporarilyDisabledSourceMaps.has(n)||this._permanentlyDisabledSourceMaps.has(n))return 0;let i=this.getOptiminalOriginalPosition(r,za(e,n.inlineScriptOffset));if("isSourceMapLoadFailure"in i)return 2;if(!i.source)return 3;let s=n.sourceMap.sourceByUrl.get(i.source);return s?{lineNumber:i.line||1,columnNumber:i.column?i.column+1:1,source:s}:3}getCompiledLocations(e){if(!(e.source instanceof Bt))return[];let r=[];for(let[n,i]of e.source.compiledToSourceUrl){let s=this._sourceMaps.get(n.sourceMap.url);if(!s||!s.map)continue;let o=this.sourceMapFactory.guardSourceMapFn(s.map,()=>cg(i,e,s.map),cM);if(!o)continue;let{lineNumber:a,columnNumber:u}=Io({lineNumber:o.line||1,columnNumber:(o.column||0)+1},n.inlineScriptOffset),c={lineNumber:a,columnNumber:u,source:n};r=r.concat(c,this.getCompiledLocations(c))}return r}getOptiminalOriginalPosition(e,r){return this.sourceMapFactory.guardSourceMapFn(e,()=>{let n=e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:G0.SourceMapConsumer.GREATEST_LOWER_BOUND});return n.line!==null?n:e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:G0.SourceMapConsumer.LEAST_UPPER_BOUND})},cM)}async addSource(e,r,n,i,s,o){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e,absolutePath:a});let u=new Lf(this,e,a,r,n&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:n,compiledPath:a||e})?n:void 0,i,s,o);return this._addSource(u),u}async _addSource(e){let r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!lM(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof Bt&&this._sourceMapSourcesByUrl.set(e.url,e);let n=this._sourceByAbsolutePath.get(e.absolutePath);if((n===void 0||n.url.length>=e.url.length||lM(n,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then(u=>this._dap.loadedSource({reason:"new",source:u})),!Pr(e))return;let i=this._sourceMaps.get(e.sourceMap.url);if(i){i.compiled.add(e),i.map&&await this._addSourceMapSources(e,i.map);return}let s=je(),o={compiled:new Set([e]),loaded:s.promise};this._sourceMaps.set(e.sourceMap.url,o);try{o.map=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(u){if(this.initializeConfig.clientID==="visualstudio"){let c=e.sourceMap.metadata.sourceMapUrl;try{let l=await this.sourcePathResolver.urlToAbsolutePath({url:c});l&&(e.sourceMap.metadata.sourceMapUrl=Ve(l)),o.map=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:c,originalSourceMapError:V0(u)})}catch{}}if(!o.map)return this._dap.output({output:Wm(e.url,u.message).error.format+`
`,category:"stderr"}),s.resolve()}if(this._sourceMaps.get(e.sourceMap.url)!==o)return s.resolve();this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:o.map.id,metadata:o.map.metadata});let a=[];for(let u of o.compiled)a.push(this._addSourceMapSources(u,o.map));await Promise.all(a),this.scriptSkipper.initializeSkippingValueForSource(e),s.resolve()}removeSource(e,r=!1){let n=this._sourceByReference.get(e.sourceReference);if(n===void 0)return;if(this.logger.assert(e===n,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof Bt){this._sourceMapSourcesByUrl.delete(e.url);for(let[s,o]of e.compiledToSourceUrl)s.sourceMap.sourceByUrl.delete(o)}if(this._sourceByAbsolutePath.delete(e.absolutePath),Pr(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then(s=>this._dap.loadedSource({reason:"removed",source:s})),!Pr(e))return;let i=this._sourceMaps.get(e.sourceMap.url);this.logger.assert(i,`Source map missing for ${e.sourceMap.url} in removeSource()`)&&(this.logger.assert(i.compiled.has(e),`Source map ${e.sourceMap.url} does not contain source ${e.url}`),i.compiled.delete(e),i.compiled.size||(i.map&&i.map.destroy(),this._sourceMaps.delete(e.sourceMap.url)),i.map&&this._removeSourceMapSources(e,i.map,r))}async _addSourceMapSources(e,r){let n=[];for(let i of r.sources){let s=await this.sourcePathResolver.urlToAbsolutePath({url:i,map:r}),o=s?Ve(s):r.computedSourceUrl(i),a=this._sourceMapSourcesByUrl.get(o);if(e===a)continue;if(a)if(WJ(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:i,sourceMapId:r.id,absolutePath:s,resolvedUrl:o});let u=s&&Ve(s),c=this.sourceMapFactory.guardSourceMapFn(r,()=>r.sourceContentFor(i,!0),()=>null),l;if(c){let f=Sc(c);if(f&&(!nr(f)&&s?l=mo(s?Ve(s):i,f):l=f),s&&l){let m={sourceMapUrl:l,compiledPath:s};this.sourcePathResolver.shouldResolveSourceMap(m)||(l=void 0)}}let p=new Bt(this,o,s,c!==null?()=>Promise.resolve(c):u?()=>this.resourceProvider.fetch(u).then(f=>f.body):()=>e.content(),l,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,p),n.push(this._addSource(p))}await Promise.all(n)}_removeSourceMapSources(e,r,n){for(let i of r.sources){let s=e.sourceMap.sourceByUrl.get(i);s&&(e.sourceMap.sourceByUrl.delete(i),s.compiledToSourceUrl.delete(e),!s.compiledToSourceUrl.size&&this.removeSource(s,n))}}async waitForSourceMapSources(e){if(!Pr(e))return[];let r=this._sourceMaps.get(e.sourceMap.url);return this.logger.assert(r,"Unrecognized source map url in waitForSourceMapSources()")?(await r.loaded,[...e.sourceMap.sourceByUrl.values()]):[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,r=!1){r?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};Jt=K([(0,ti.injectable)(),E(0,(0,ti.inject)(_n)),E(1,(0,ti.inject)(Is)),E(2,(0,ti.inject)(pe)),E(3,(0,ti.inject)(qe)),E(4,(0,ti.inject)(Vr)),E(5,(0,ti.inject)(Ze)),E(6,(0,ti.inject)(Ao)),E(7,(0,ti.inject)(ka))],Jt);function Io(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r+=e.lineOffset,r<=1&&(n+=e.columnOffset)),{...t,lineNumber:r,columnNumber:n}}function za(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r=Math.max(1,r-e.lineOffset),r<=1&&(n=Math.max(1,n-e.columnOffset))),{...t,lineNumber:r,columnNumber:n}}var gM=t=>({lineNumber:t.lineNumber+1,columnNumber:t.columnNumber+1}),So=t=>({lineNumber:t.lineNumber-1,columnNumber:t.columnNumber-1});var Bc=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return this}get base1(){return new nn(this.lineNumber+1,this.columnNumber+1)}get base01(){return new Fc(this.lineNumber,this.columnNumber+1)}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}},nn=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new Bc(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new Fc(this.lineNumber-1,this.columnNumber)}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}},Fc=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new Bc(this.lineNumber-1,this.columnNumber)}get base1(){return new nn(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}};var HM=/[$a-z_][$0-9A-Z_$]*/iy,Eo=Symbol("IRenameProvider"),Uc=class{constructor(e,r){this.sourceMapFactory=e;this.launchConfig=r;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return ri.None;let r=e.uiLocation();return r===void 0?ri.None:"then"in r?r.then(n=>this.provideForSource(n==null?void 0:n.source)):this.provideForSource(r==null?void 0:r.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof Bt))return ri.None;let r=e.compiledToSourceUrl.keys().next().value;if(!r)throw new Error("unreachable");let n=this.renames.get(r.url);if(n)return n;let i=this.sourceMapFactory.load(r.sourceMap.metadata).then(async s=>{if(!(s!=null&&s.hasNames))return ri.None;let o=await r.content();return o?this.createFromSourceMap(s,o):ri.None}).catch(()=>ri.None);return this.renames.set(r.url,i),i}createFromSourceMap(e,r){let n=new go(r),i=[];return e.eachMapping(s=>{if(!s.name)return;let o=new Fc(s.generatedLine,s.generatedColumn),a=n.convert(o);HM.lastIndex=a;let u=HM.exec(r);u&&i.push({compiled:u[0],original:s.name,position:o})}),i.sort((s,o)=>s.position.compare(o.position)),new ri(i)}};Uc=K([(0,Pf.injectable)(),E(0,(0,Pf.inject)(Is)),E(1,(0,Pf.inject)(qe))],Uc);var K0=class{constructor(e){this.renames=e}getOriginalName(e,r){var n;return(n=this.getClosestRename(r,i=>i.compiled===e))==null?void 0:n.original}getCompiledName(e,r){var n;return(n=this.getClosestRename(r,i=>i.original===e))==null?void 0:n.compiled}getClosestRename(e,r){let n=e.base01,i;for(let s of this.renames){if(!r(s))continue;if(!(s.position.compare(n)<0)&&i)return i;i=s}return i}},ri=K0;ri.None=new K0([]);var Ss="$returnValue",GJ="__js_debug_hoisted_",yM=()=>GJ+(0,vM.randomBytes)(8).toString("hex"),Sn=Symbol("IEvaluator"),jc=class{constructor(e,r){this.cdp=e;this.renameProvider=r}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:n,renames:i}={}){r!==!1&&(e+=Ht());let s=new Map;s.set(Ss,yM());for(let u of n??[])s.set(u,yM());let{transformed:o,hoisted:a}=this.replaceVariableInExpression(e,s,i);return a.size?{canEvaluateDirectly:!1,invoke:(u,c={})=>Promise.all([...s].map(([l,p])=>this.hoistValue(l===Ss?this.returnValue:c[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:o}))}:{canEvaluateDirectly:!0,invoke:u=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:o})}}async evaluate(e,r){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let n=r;if(r!=null&&r.stackFrame){let i=await this.renameProvider.provideOnStackframe(r.stackFrame);n={...n,renames:{mapping:i,position:r.stackFrame.rawPosition}}}return this.prepare(e.expression,n).invoke(e)}async hoistValue(e,r){let n=e==null?void 0:e.objectId,i=`setTimeout(() => { delete globalThis.${r} }, 0)`;n?await this.cdp.Runtime.callFunctionOn({objectId:n,functionDeclaration:`function() { globalThis.${r} = this; ${i}; ${Ht()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${r} = ${JSON.stringify(e==null?void 0:e.value)};${i};`+Ht()})}replaceVariableInExpression(e,r,n){let i=new Set,s=!1,o=(p,f)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:f}),a=[],u=fo(e),c=(0,bM.replace)(u,{enter(p,f){let m=p;if(p.type!=="Identifier"||e[m.start-1]===".")return;let g=r.get(p.name);if(g)return i.add(p.name),s=!0,this.skip(),E0(p,f)?{type:"Identifier",name:g}:o(g,KJ);let y=n==null?void 0:n.mapping.getCompiledName(p.name,n.position);if(y)return s=!0,this.skip(),E0(p,f)?{type:"Identifier",name:y}:o(y,p)},leave:()=>{a.pop()}});if(!s)return{hoisted:i,transformed:e};let l=u.body[u.body.length-1].end;return{hoisted:i,transformed:ws(c)+e.slice(l)}}};jc=K([(0,Df.injectable)(),E(0,(0,Df.inject)(yt)),E(1,(0,Df.inject)(Eo))],jc);var KJ={type:"Identifier",name:"undefined"};var qc=class{static parse(e,r,n,i){n&&(r=X0(r));let s=r&&ho(r);if(s)throw new ee(uo(e,s.message));let{canEvaluateDirectly:o,invoke:a}=i.prepare(r);return new qc(o?r:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){if(!this.invoke)return Promise.resolve(!0);let r=await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0});return(r==null?void 0:r.result.value)===!0}},X0=t=>`(()=>{try{return ${t};}catch(e){console.error(e);return true}})()`;var XJ=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,xo=class{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let r=XJ.exec(e);if(!r)throw new ee(aT(e));let[,n="=",i]=r,s=n==="%"?`return (numHits % ${i}) === 0;`:n[0]==="="?`return numHits === ${i};`:`return numHits ${n} ${i};`;return new xo(new Function("numHits",s))}};var _M=require("crypto"),kg=B(ce());var Rg=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var Wc=class{constructor(e,r){this.breakCondition=r;let n=r&&ho(r);if(n)throw new ee(uo(e,n.message))}shouldStayPaused(){return Promise.resolve(!0)}};var Co=class{constructor(e){this.evaluator=e}compile(e,r){let n=this.logMessageToExpression(r),i=ho(n);if(i)throw new ee(uo(e,i.message));let{canEvaluateDirectly:s,invoke:o}=this.evaluator.prepare(n);return s?new Wc(e,this.logMessageToExpression(r)):new Rg(o)}serializeLogStatements(e){return d$([],e,!1)}logMessageToExpression(e){let r=c=>c.replace(/%/g,"%%"),n=[],i=[],s=0;for(;;){let c=e.indexOf("{",s);if(c===-1){n.push(r(e.slice(s)));break}n.push(r(e.slice(s,c)));let[l]=ag(e.slice(c));if(s=c+l.end,s-1===c+1||e[s-1]!=="}"){n.push(r(e.slice(c,s)));continue}if(l.type!=="BlockStatement")break;i.push(ws(this.serializeLogStatements(l.body))),n.push("%O")}let a=`console.log(${[JSON.stringify(n.join("")),...i].join(", ")}), false`,u=(0,_M.createHash)("sha1").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${u}.cdp`}};Co=K([(0,kg.injectable)(),E(0,(0,kg.inject)(Sn))],Co);var zJ=new Wc({line:0},void 0),Og=Symbol("IBreakpointConditionFactory"),Vc=class{constructor(e,r,n){this.logPointCompiler=e;this.evaluator=r;this.breakOnError=n.__breakOnConditionalError}getConditionFor(e){return e.condition?qc.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?xo.parse(e.hitCondition):zJ}};Vc=K([(0,Gc.injectable)(),E(0,(0,Gc.inject)(Co)),E(1,(0,Gc.inject)(Sn)),E(2,(0,Gc.inject)(qe))],Vc);var Fg=require("path");var Ng=(t,e)=>t.lineNumber===e.lineNumber&&t.columnNumber===e.columnNumber;var Bg=t=>!("location"in t),wM=t=>"location"in t,AM=(t,e)=>t.url&&e===t.url||t.urlRegex&&new RegExp(t.urlRegex).test(e),Kc=class{constructor(e,r,n){this._manager=e;this._source=r;this._originalPosition=n;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,r){this._source=e,this._originalPosition=r,this.updateCdpRefs(n=>n.map(i=>i.state===1?{...i,uiLocations:this._manager._sourceContainer.currentSiblingUiLocations(r)}:i))}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(r=>r.state===1).map(r=>this.updateUiLocations(e,r.cdpId,r.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let r=[this._setPredicted(e)],n=this._manager._sourceContainer.source(this.source);if((!n||!(n instanceof Bt))&&r.push(this._setByPath(e,Io(this.originalPosition,n==null?void 0:n.runtimeScriptOffset))),await Promise.all(r),n&&this.isEnabled){let i=this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n});await Promise.all(i.map(s=>this._setByUiLocation(e,Io(s,n.runtimeScriptOffset))))}}async updateUiLocations(e,r,n){this.updateExistingCdpRef(r,o=>({...o,locations:n}));let i=(await Promise.all(n.map(o=>e.rawLocationToUiLocation(e.rawLocation(o))))).find(o=>!!o);if(!i)return;let s=this._manager._sourceContainer.source(this.source);s&&this.updateExistingCdpRef(r,o=>{let a=this._manager._sourceContainer.currentSiblingUiLocations(i),u=a.filter(c=>c.source===s);return{...o,locations:n,uiLocations:u.length?u:a}})}compare(e){let r=this.originalPosition,n=e.originalPosition;return r.lineNumber!==n.lineNumber?r.lineNumber-n.lineNumber:r.columnNumber-n.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(r=>this.removeCdpBreakpoint(r));await Promise.all(e)}async updateForSourceMap(e,r){let n=this._manager._sourceContainer.source(this.source);if(!n)return[];let i=await r.source,s=this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n},i);if(!s.length)return[];let o=[];for(let a of s)o.push(this._setByScriptId(e,r,Io(a,n.runtimeScriptOffset)));for(let a of this.cdpBreakpoints){if(!Bg(a.args)||!this.breakpointIsForSource(a.args,i))continue;let u=a.args;s.some(c=>c.columnNumber-1===u.columnNumber&&c.lineNumber-1===u.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:n.url}),o.push(this.removeCdpBreakpoint(a)))}return await Promise.all(o),s}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(r=>Bg(r.args)))}breakpointIsForSource(e,r){if(AM(e,r.url))return!0;let n=this._manager._sourceContainer.sourcePathResolver.rebaseLocalToRemote(r.absolutePath);return!!AM(e,n)}getBreakCondition(){}updateExistingCdpRef(e,r){this.updateCdpRefs(n=>n.map(i=>i.state!==1||i.cdpId!==e?i:r(i)))}updateCdpRefs(e){let r=this;r.cdpBreakpoints=e(this.cdpBreakpoints);let n=new Set;this.setInCdpScriptIds.clear();for(let i of this.cdpBreakpoints)if(i.state===1){n.add(i.cdpId);for(let s of i.locations)this.setInCdpScriptIds.add(s.scriptId)}this._cdpIds=n}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let r=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),n=[];for(let i of r){let s=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(i.absolutePath);s!==void 0&&(typeof s=="string"?n.push(this._setByUrlRegexp(e,s,i)):n.push(s.then(o=>o?this._setByUrlRegexp(e,o,i):void 0)))}await Promise.all(n)}async _setByUiLocation(e,r){await Promise.all(r.source.scripts.map(n=>this._setByScriptId(e,n,r)))}async _setByPath(e,r){let n=this._manager._sourceContainer.source({path:this.source.path});if(!(n instanceof Bt&&[...n.compiledToSourceUrl.keys()].some(s=>s.absolutePath===this.source.path)))if(this.source.path){let i=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!i)return;await this._setByUrlRegexp(e,i,r)}else{let i=this._manager._sourceContainer.source(this.source),s=i==null?void 0:i.url;if(!s)return;await this._setByUrl(e,s,r),this.source.path!==s&&this.source.path!==void 0&&await this._setByUrl(e,Ve(this.source.path),r)}}hasSetOnLocation(e,r){return this.cdpBreakpoints.find(n=>e.scriptId&&wM(n.args)&&n.args.location.scriptId===e.scriptId&&Ng(n.args.location,r)||e.url&&Bg(n.args)&&new RegExp(n.args.urlRegex??"").test(e.url)&&Ng(n.args,r))}hasSetOnLocationByRegexp(e,r){return this.cdpBreakpoints.find(n=>{if(Bg(n.args))return n.args.urlRegex===e&&Ng(n.args,r);let i=this._manager._sourceContainer.getScriptById(n.args.location.scriptId);if(i)return Ng(n.args.location,r)&&new RegExp(e).test(i.url)})}async _setByUrl(e,r,n){return this._setByUrlRegexp(e,Wr(r),n)}async _setByUrlRegexp(e,r,n){n=So(n);let i=this.hasSetOnLocationByRegexp(r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{urlRegex:r,condition:this.getBreakCondition(),...n})}async _setByScriptId(e,r,n){n=So(n);let i=this.hasSetOnLocation(r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:r.scriptId,...n}})}async _setAny(e,r){if(!this.isEnabled)return;let n={state:0,args:r,deadletter:!1};n.done=(async()=>{let i=wM(r)?await e.cdp().Debugger.setBreakpoint(r):await e.cdp().Debugger.setBreakpointByUrl(r);if(!i)return;if(n.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:i.breakpointId});return}let s="actualLocation"in i?[i.actualLocation]:i.locations;this._manager._resolvedBreakpoints.set(i.breakpointId,this);let o={state:1,cdpId:i.breakpointId,args:r,locations:s,uiLocations:[]};return this.updateCdpRefs(a=>a.map(u=>u===n?o:u)),await this.updateUiLocations(e,i.breakpointId,s),o})(),this.updateCdpRefs(i=>[...i,n]),await n.done}async removeCdpBreakpoint(e){var r;this.updateCdpRefs(n=>n.filter(i=>i!==e)),e.state===0?(e.deadletter=!0,await e.done):(await((r=this._manager._thread)==null?void 0:r.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId})),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var ni=class extends Kc{constructor(r,n,i){super(r,n,{lineNumber:1,columnNumber:1});this.mode=i}static getModeKeyForSource(r,n){return r===1?(0,Fg.basename)(n,(0,Fg.extname)(n)||void 0):n}_setPredicted(){return Promise.resolve()}_setByPath(r,n){if(!this.source.path)return Promise.resolve();let i=ni.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(r,Lr(i),n):super._setByPath(r,n)}};var SM=B(Lt());var En=class extends Kc{constructor(r,n,i,s,o){super(r,i,{lineNumber:s.line,columnNumber:s.column||1});this.dapId=n;this.dapParams=s;this.condition=o;this.completedSet=je()}equivalentTo(r){return r.dapParams.column===this.dapParams.column&&r.dapParams.line===this.dapParams.line&&r.dapParams.hitCondition===this.dapParams.hitCondition&&r.dapParams.condition===this.dapParams.condition&&r.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(r){return this.condition.shouldStayPaused(r)}async toDap(){let r=this.enabled&&this.getResolvedUiLocation();return r?{id:this.dapId,verified:!0,source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:{id:this.dapId,verified:!1,message:SM.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(r){let n=this.getResolvedUiLocation();super.updateCdpRefs(r),this.getResolvedUiLocation()!==n&&this.notifyResolved()}getResolvedUiLocation(){for(let r of this.cdpBreakpoints)if(r.state===1&&r.uiLocations.length)return r.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var Ug=class extends En{constructor(e,r,n,i){super(e,r,n,i,new xo(()=>!1))}getResolvedUiLocation(){}};var $1=B(kf());var Jc=class extends ni{constructor(r,n){super(r,{path:n},1);this.pattern=n}async enable(r){if(this.isEnabled)return;this.isEnabled=!0;let n=(0,$1.makeRe)(ft(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(r,{urlRegex:n.source.replace(/([a-z]):/i,(i,s)=>`[${s.toLowerCase()}${s.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var Qc=B(ce());var Yc={dispose:()=>{}},ze=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let r of e)this.push({dispose:r})}push(...e){return this.disposed?(e.forEach(r=>r.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(r=>r!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(r=>r.dispose()));return this.items=[],this.disposed=!0,e}};var Xg=Symbol("IExperimentationService");var ir=Symbol("ITelemetryReporter");var pQ=/\/node_modules\/|^node\:/,fQ=2,M1=5e3,hQ=M1/2,mt=class{constructor(e,r,n){this.telemetry=r;this.experimentation=n;this.disposable=new ze;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(mt.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),mt.consecutiveQualifyingSessions>=fQ&&this.disposable.push(Nx(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(r.report("diagnosticPrompt",{event:"suggested"}),mt.didSuggest=!0,e.suggestDiagnosticTool({}))},M1))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(mt.didVerifyEmitter.fire(),mt.didSuggest&&(mt.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let r=this.disposable.push(e.Debugger.on("scriptParsed",n=>{n.sourceMapURL&&!pQ.test(n.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(r))}))}}dispose(){this.currentlyQualifying&&Date.now()-hQ>this.startedAt?mt.consecutiveQualifyingSessions++:mt.consecutiveQualifyingSessions=0,this.disposable.dispose()}};mt.consecutiveQualifyingSessions=0,mt.didVerifyEmitter=new z,mt.didSuggest=!1,mt=K([(0,Qc.injectable)(),E(0,(0,Qc.inject)(yc)),E(1,(0,Qc.inject)(ir)),E(2,(0,Qc.inject)(Xg))],mt);var R1=t=>t.originalPosition.columnNumber===1&&t.originalPosition.lineNumber===1,k1=500,O1=Symbol("DontCompare");var Cn=class{constructor(e,r,n,i,s,o,a){this.logger=n;this.launchConfig=i;this.conditionFactory=s;this.suggester=o;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new wg;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=Ua();this._byRef=new Map;this.moduleEntryBreakpoints=Ua();this._dap=e,this._sourceContainer=r,a==null||a.onLongParse(()=>e.longPrediction({})),r.onSourceMappedSteppingChange(()=>{if(this._thread)for(let u of this._byDapId.values())u.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(u,c)=>{if(!n.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[c];for(let f=0;f<p.length;f++)for(let m of p[f]){let g=m.absolutePath,y=g?this._byPath.get(g):void 0;for(let w of y||[])l.push(w.updateForSourceMap(this._thread,u));let v=this._byRef.get(m.sourceReference);for(let w of v||[])l.push(w.updateForSourceMap(this._thread,u));m.sourceMap&&p.push(m.sourceMap.sourceByUrl.values())}return Xp(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let r=this._byPath.get(e.source.absolutePath)||[],n=this._byRef.get(e.source.sourceReference)||[];return r.concat(n).some(i=>i.originalPosition.columnNumber===e.columnNumber&&i.originalPosition.lineNumber===e.lineNumber)}moveBreakpoints(e,r,n){let i=c=>cD(c,l=>{let p=this._sourceContainer.getOptiminalOriginalPosition(r,l.originalPosition);return p.column===null||p.line===null||l.updateSourceLocation({path:n.absolutePath,sourceReference:n.sourceReference},{lineNumber:p.line,columnNumber:p.column+1,source:n}),!1}),s=e.absolutePath,o=n.absolutePath,a=s?this._byPath.get(s):void 0;if(a&&o){let[c,l]=i(a);this._byPath.set(s,c),this._byPath.set(o,l)}let u=this._byRef.get(e.sourceReference);if(u){let[c,l]=i(u);this._byRef.set(e.sourceReference,c),this._byRef.set(n.sourceReference,l)}}async updateEntryBreakpointMode(e,r){if(r===this.entryBreakpointMode)return;let n=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=r,await Promise.all(n.map(i=>this.ensureModuleEntryBreakpoint(e,i.source)))}async applyEnabledFilter(e,r=O1){if(r!==O1&&this._enabledFilter!==r)return;this._enabledFilter=e||(()=>!0);let n=this._thread;n&&await Promise.all([...this._byDapId.values()].map(i=>this._enabledFilter(i)?i.enable(n):i.disable()))}async getBreakpointLocations(e,r,n,i){let s=n.base1,o=this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:s.lineNumber,columnNumber:s.columnNumber}),a=i.base1,u=this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:a.lineNumber,columnNumber:a.columnNumber});if(o.length!==u.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let c=[],l=[];for(let p=0;p<o.length;p++){let f=o[p],m=u[p];if(f.source!==m.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let g=f.source;if(!g.scripts.length)continue;let{scriptId:y}=g.scripts[g.scripts.length-1];c.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:y,...Io(So(f),g.runtimeScriptOffset)},end:{scriptId:y,...Io(So(m),g.runtimeScriptOffset)}}).then(v=>{if(v)for(let w of v.locations){let{lineNumber:R,columnNumber:U=0}=w,x=this._sourceContainer.currentSiblingUiLocations({source:g,...za(gM({lineNumber:R,columnNumber:U}),g.runtimeScriptOffset)});l.push({breakLocation:w,uiLocations:x})}}))}return await Promise.all(c),l}setThread(e){var r;this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",n=>{let i=this._resolvedBreakpoints.get(n.breakpointId);i&&i.updateUiLocations(e,n.breakpointId,[n.location])}),this._thread.setSourceMapDisabler(n=>{let i=[];for(let s of n){let o=this._resolvedBreakpoints.get(s);if(o){let a=this._sourceContainer.source(o.source);Pr(a)&&i.push(a)}}return i});for(let n of this._byPath.values())n.forEach(i=>this._setBreakpoint(i,e)),this.ensureModuleEntryBreakpoint(e,(r=n[0])==null?void 0:r.source);for(let n of this._byRef.values())n.forEach(i=>this._setBreakpoint(i,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){vg(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,r){return Promise.all(r.map(n=>this._setBreakpoint(new Jc(this,n),e)))}addLaunchBlocker(...e){for(let r of e)this._launchBlocker.add(r),r.finally(()=>this._launchBlocker.delete(r))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){return this.launchConfig.perScriptSourcemaps==="yes"?Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler)}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,r){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([Te(k1),e.enable(r)]))}async setBreakpoints(e,r){var l,p;!this._sourceMapHandlerInstalled&&this._thread&&((l=e.breakpoints)!=null&&l.length)&&(this._sourceMapHandlerInstalled={entryBpSet:this._installSourceMapHandler(this._thread)});let n=await((p=this._sourceMapHandlerInstalled)==null?void 0:p.entryBpSet);e.source.path=Zn(e.source.path);let i=this._sourceContainer.source(e.source);if(e.source.sourceReference&&e.source.path&&!i&&(e.source.sourceReference=void 0),!n&&this._breakpointsPredictor&&!i){let f=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(f),await f}let s=this._thread;if((s==null?void 0:s.debuggerReady.hasSettled())===!1){let f=s.debuggerReady.promise;this.addLaunchBlocker(f),await f}let o=f=>{var g;let m={unbound:f.slice(),new:[],list:[]};if(!e.breakpoints)return m;for(let y=0;y<e.breakpoints.length;y++){let v=e.breakpoints[y],w;try{w=new En(this,r[y],e.source,v,this.conditionFactory.getConditionFor(v))}catch(x){if(!(x instanceof ee))throw x;this._dap.output({category:"stderr",output:x.message}),w=new Ug(this,r[y],e.source,v)}let R=m.unbound.findIndex(x=>x.equivalentTo(w)),U=m.unbound[R];(g=U==null?void 0:U.equivalentTo)!=null&&g.call(U,w)?(m.list.push(U),m.unbound.splice(R,1)):(m.new.push(w),m.list.push(w),this._byDapId.set(w.dapId,w))}return m},a=()=>e.source.path?this._byPath.get(e.source.path):e.source.sourceReference?this._byRef.get(e.source.sourceReference):void 0,u=o(a()??[]);if(e.source.path)this._byPath.set(e.source.path,u.list);else if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,u.list);else return{breakpoints:[]};if(this._totalBreakpointsCount-=u.unbound.length,await Promise.all(u.unbound.map(f=>(this._byDapId.delete(f.dapId),f.disable()))),this._totalBreakpointsCount+=u.new.length,this._thread&&this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled&&this._uninstallSourceMapHandler(this._thread),s&&u.new.length){this.ensureModuleEntryBreakpoint(s,e.source);let f=a(),m=Promise.all(u.new.filter(this._enabledFilter).filter(g=>f==null?void 0:f.includes(g)).map(g=>g.enable(s)));this.addLaunchBlocker(Promise.race([Te(k1),m])),await m}let c=await Promise.all(u.list.map(f=>f.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(c),Te(0).then(()=>u.new.forEach(f=>f.markSetCompleted())),{breakpoints:c}}async notifyBreakpointChange(e,r){if(!this._byDapId.has(e.dapId))return;let n=await e.toDap();n.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),r&&this._dap.breakpoint({reason:"changed",breakpoint:n})}isEntrypointBreak(e,r){let n=[...this.moduleEntryBreakpoints.values()].filter(i=>i.enabled&&i.cdpScriptIds.has(r));if(n.length){for(let i of n)i instanceof Jc||i.disable();return!0}return e.some(i=>{let s=this._resolvedBreakpoints.get(i);return s&&(s instanceof ni||R1(s))})}async shouldPauseAt(e,r,n,i=!1){if(!r.length)return e.reason!=="instrumentation";let s=0,o=i?1:0;return await Promise.all(r.map(async a=>{if((n==null?void 0:n.cdpId)===a){s++;return}let u=this._resolvedBreakpoints.get(a);if(u instanceof ni){this.entryBreakpointMode===0&&!(u instanceof Jc)&&u.disable(),o++;return}u instanceof En&&(await u.testHitCondition(e)?s++:o++)})),s>0||o===0}registerBreakpointsHit(e){for(let r of e){let n=this._resolvedBreakpoints.get(r);n instanceof En&&this._breakpointsStatisticsCalculator.registerBreakpointHit(n.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,r){if(!r.path||(this._byPath.get(r.path)??[]).some(R1))return;let i=ni.getModeKeyForSource(this.entryBreakpointMode,r.path);if(!r.path||this.moduleEntryBreakpoints.has(i))return;let s=new ni(this,r,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(r.path,s),this._setBreakpoint(s,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(r=>r.disable())),this._thread){let r=this._thread;await Promise.all(e.map(n=>n.enable(r)))}}};Cn=K([(0,Ki.injectable)(),E(0,(0,Ki.inject)(_n)),E(1,(0,Ki.inject)(Jt)),E(2,(0,Ki.inject)(pe)),E(3,(0,Ki.inject)(qe)),E(4,(0,Ki.inject)(Og)),E(5,(0,Ki.inject)(mt)),E(6,(0,Ki.inject)(Wa))],Cn);var ZR=require("crypto"),ol=B(ce());var Of=class{constructor(e){this.element=e,this.next=Of.Undefined,this.prev=Of.Undefined}},tt=Of;tt.Undefined=new Of(void 0);var Nf=class{constructor(){this._first=tt.Undefined;this._last=tt.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===tt.Undefined}clear(){let e=this._first;for(;e!==tt.Undefined;){let r=e.next;e.prev=tt.Undefined,e.next=tt.Undefined,e=r}this._first=tt.Undefined,this._last=tt.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let n=new tt(e);if(this._first===tt.Undefined)this._first=n,this._last=n;else if(r){let s=this._last;this._last=n,n.prev=s,s.next=n}else{let s=this._first;this._first=n,n.next=s,s.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==tt.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==tt.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let r=this._first;for(;r!==tt.Undefined;){let n=r.next;e(r.element)||this._remove(r),r=n}}_remove(e){if(e.prev!==tt.Undefined&&e.next!==tt.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===tt.Undefined&&e.next===tt.Undefined?(this._first=tt.Undefined,this._last=tt.Undefined):e.next===tt.Undefined?(this._last=this._last.prev,this._last.next=tt.Undefined):e.prev===tt.Undefined&&(this._first=this._first.next,this._first.prev=tt.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==tt.Undefined;)yield e.element,e=e.next}};var nH=B(ce()),zR=B(require("net"));var Xi=class extends ee{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function zi(t,e,r){if(e.isCancellationRequested)return Promise.reject(new Xi(r||"Task cancelled"));let n=je(),i=e.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new Xi(r||"Task cancelled")}),t.then(s=>(i.dispose(),s)).catch(s=>{throw i.dispose(),s})])}function N1(t,e){let r=new Yt(e),n=t.map(async i=>{try{return await i(r.token)}finally{r.cancel()}});return Promise.race(n)}var B1=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),vr=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),mQ=Object.freeze({isCancellationRequested:!0,onCancellationRequested:B1}),Yt=class{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,r){let n=new Yt(r),i=n._token=new Zc,s=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(s)),n}get token(){return this._token||(this._token=new Zc),this._token}cancel(){this._token?this._token instanceof Zc&&this._token.cancel():this._token=mQ}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Zc&&this._token.dispose():this._token=vr}},Zc=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?B1:(this._emitter||(this._emitter=new z),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var Tw=B(require("net"));var _Z=B(q1(),1),wZ=B(vw(),1),AZ=B(bw(),1),WR=B(Cw(),1),Dw=B(qR(),1);var VR=WR.default;var GR=(t,e)=>t+Math.floor(Math.random()*(e-t));async function Xf({min:t=53e3,max:e=54e3,attempts:r=1e3,tester:n=SZ}={},i=vr){let s=GR(t,e);for(let o=Math.min(r,e-t);;o--)try{return await n(s,i)}catch(a){if(o===0||a instanceof Xi)throw a;s=s===e-1?t:s+1}}function SZ(t,e=vr){let r;return new Promise((n,i)=>{let s=Tw.createServer();s.listen(t,"127.0.0.1",()=>{let o=s.address();s.close(()=>n(o.port))}),s.on("error",i),r=e.onCancellationRequested(()=>{s.close(),i(new Xi("Port open lookup cancelled"))})}).finally(()=>r==null?void 0:r.dispose())}var KR=(t,e)=>(r,n)=>{let i=Tw.createServer(t);return i.listen(r,e),rH(i,n)},XR=t=>(e,r)=>rH(new Dw.default({host:"127.0.0.1",...t,port:e}),r),rH=(t,e)=>{let r;return new Promise((n,i)=>{t.on("error",i),t.on("listening",()=>n(t)),r=e.onCancellationRequested(()=>{t.close(),i(new Xi("Port open lookup cancelled"))})}).finally(()=>r==null?void 0:r.dispose())};var JR=async(t,e,r,n,i=vr)=>{let s=r?await rH(zR.createServer(e).listen(r,n),i):await Xf({tester:KR(e,n)},i),o=t.register(s.address().port);return s.on("close",()=>o.dispose()),s.on("error",()=>o.dispose()),s},iH=async(t,e,r)=>{let n=await Xf({tester:XR(e)},r),i=t.register(n.address().port);return n.on("close",()=>i.dispose()),n.on("error",()=>i.dispose()),n},Kr=Symbol("IPortLeaseTracker"),il=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new z;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,r=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):N1([()=>Te(r).then(()=>!1),n=>new Promise(i=>{let s=this.onRegistered.event(o=>{o===e&&i(!0)});n.onCancellationRequested(()=>s.dispose())})])}};il=K([(0,nH.injectable)(),E(0,(0,nH.inject)(Ka))],il);var YR="JsDebug",QR="*";var $w=class{constructor(){this.replays=new Map}addReplay(e,r,n){let i=this.replays.get(e);return i||(i=new Nf,this.replays.set(e,i)),i.push({event:`${e}.${r}`,params:n})}capture(e,r,n,i){let s=e[r];if(i===0)s.on(n,o=>this.addReplay(r,n,o));else if(i===2){let o;s.on(n,a=>{o==null||o(),o=this.addReplay(r,n,a)})}else{let o=new Nf;s.on(n,a=>{var u;o.size===i.cap&&((u=o.shift())==null||u()),o.push(this.addReplay(r,n,a))})}}filter(e,r){let n=this.replays.get(e);n&&n.applyFilter(r)}clearEvent(e,r){let n=`${e}.${r}`;this.filter(e,i=>i.event!==n)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},sH=Symbol("ICdpProxyProvider"),sl=class{constructor(e,r,n){this.cdp=e;this.portTracker=r;this.logger=n;this.disposables=new ze;this.replay=new $w;this.jsDebugApi={subscribe:(e,{events:r})=>{for(let n of r)n.endsWith(QR)?e.pushDisposable(this.cdp.session.onPrefix(n.slice(0,-QR.length),i=>e.send({method:i.method,params:i.params}))):e.pushDisposable(this.cdp.session.on(n,i=>e.send({method:n,params:i})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",i=>{i.font&&this.replay.addReplay("CSS","fontsUpdated",i)}),e.CSS.on("styleSheetRemoved",i=>this.replay.filter("CSS",s=>s.params.styleSheetId!==i.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:r}=await this.server,n=e.address();return{host:n.address,port:n.port,path:r}}async createServer(){let e=`/${(0,ZR.randomBytes)(20).toString("hex")}`,r=await iH(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),r.on("connection",n=>{let i=new Mw(n,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:i.id}),n.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:i.id}),this.disposables.disposeObject(i)}),n.on("message",async s=>{let o;try{o=JSON.parse(s.toString())}catch(f){return i.send({id:0,error:{code:-32700,message:f.message}})}this.logger.verbose("proxyActivity","received proxy message",o);let{method:a,params:u,id:c=0}=o,[l,p]=a.split(".");try{let f=l===YR?await this.invokeJsDebugDomainMethod(i,p,u):await this.invokeCdpMethod(i,l,p,u);i.send({id:c,result:f})}catch(f){let m=f instanceof Va&&f.cause?f.cause:{code:0,message:f.message};i.send({id:c,error:m})}})}),{server:r,path:e}}dispose(){var e;this.disposables.dispose(),(e=this.server)==null||e.then(r=>r.server.close()),this.server=void 0}invokeCdpMethod(e,r,n,i){let s=this.cdp.session.sendOrDie(`${r}.${n}`,i);switch(n){case"enable":for(let o of this.replay.read(r))e.send({method:o.event,params:o.params});break;case"disable":this.replay.clearDomain(r);break;default:}return s}invokeJsDebugDomainMethod(e,r,n){if(!this.jsDebugApi.hasOwnProperty(r))throw new Va(r).setCause(-32601,`${YR}.${r} not found`);return this.jsDebugApi[r](e,n)}};sl=K([(0,ol.injectable)(),E(0,(0,ol.inject)(yt)),E(1,(0,ol.inject)(Kr)),E(2,(0,ol.inject)(pe))],sl);var EZ=0,Mw=class{constructor(e,r){this.webSocket=e;this.logger=r;this.disposables=new ze;this.id=EZ++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var ul=B(ig()),zf=B(ce());var Rw=Hr(function(t,e,r){let n=r?"variable":"property",i=(l,p,f)=>{if(p!=="function")return n;if(l==="constructor")return"class";let m=String(f);return m.startsWith("class ")||m.includes("[native code]")&&/^[A-Z]/.test(l)?"class":r?"function":"method"},s=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},o=[],a=new Set,u="~",c=t===void 0?this:t;for(;c!=null;c=c.__proto__){u+="~";let l=Object.getOwnPropertyNames(c).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let f=Object.getOwnPropertyDescriptor(c,p),m=n,g;try{let y=c[p];m=i(p,typeof(f==null?void 0:f.value),y),g=s(y)}catch{}o.push({label:p,sortText:u+p.replace(/^_+/,y=>"{".repeat(y.length)),type:m,detail:g})}r=!1}return{result:o,isArray:this instanceof Array}}),ek=Fa(Rw.source);var xZ=t=>{var e,r,n;switch(t.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:t.id};case"MethodDefinition":return{type:((e=t.key)==null?void 0:e.type)==="Identifier"&&t.key.name==="constructor"?"constructor":"method",id:t.key};case"VariableDeclarator":return{type:((r=t.init)==null?void 0:r.type)==="FunctionExpression"||((n=t.init)==null?void 0:n.type)==="ArrowFunctionExpression"?"function":"variable",id:t.id}}};function CZ(t){let e=!1;return(0,ul.traverse)(t,{enter(r){if(r.type==="CallExpression"||r.type==="NewExpression"||r.type==="UnaryExpression"&&r.operator==="delete"||r.type==="ClassBody")return e=!0,ul.VisitorOption.Break}}),e}var oH=Symbol("ICompletions"),al=class{constructor(e,r){this.evaluator=e;this.cdp=r}async completions(e){let r=fo(e.expression),n=new go(e.expression).convert(e.position),i=()=>Promise.resolve([]);return(0,ul.traverse)(r,{enter:s=>{let o=s;o.start<n&&n<=o.end&&(s.type==="Identifier"?i=()=>this.identifierCompleter(e,r,s,n):s.type==="MemberExpression"&&(i=s.computed?()=>this.elementAccessCompleter(e,s,n):()=>this.propertyAccessCompleter(e,s,n)))}}),i().then(s=>s.sort((o,a)=>o.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,r,n){if(r.property.type!=="Literal"||typeof r.property.value!="string")return[];let i=e.expression.slice(po(r.property)+1,n);return(await this.defaultCompletions(e,i)).filter(o=>o.sortText!=="~~[").map(o=>({...o,text:JSON.stringify(o.text??o.label)+"]",start:po(r.property),length:I0(r.property)-po(r.property)}))}async identifierCompleter(e,r,n,i){let s=[];(0,ul.traverse)(r,{enter(u){var l;let c=xZ(u);((l=c==null?void 0:c.id)==null?void 0:l.type)==="Identifier"&&s.push({label:c.id.name,type:c.type,sortText:c.id.name})}});let o=e.expression.slice(po(n),i),a=[...s,...await this.defaultCompletions(e,o)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&Ss.startsWith(o)&&a.push({sortText:`~${Ss}`,label:Ss,type:"variable"}),a}async propertyAccessCompleter(e,r,n){let{result:i,isArray:s}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:p$(e.expression,r.object),prefix:en(r.property)?"":e.expression.slice(po(r.property),n),throwOnSideEffect:CZ(r)}),o=po(r.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let u of i)a.test(u.label)||(u.text=`[${JSON.stringify(u.label)}]`,u.start=o,u.length=1);if(s){let u="index";i.unshift({label:`[${u}]`,text:`[${u}]`,type:"property",sortText:"~~[",start:o,selectionStart:1,selectionLength:u.length,length:1})}return i}async completePropertyAccess({executionContextId:e,stackFrame:r,expression:n,prefix:i,isInGlobalScope:s=!1,throwOnSideEffect:o=!1}){let a={expression:`(${n})`,objectGroup:"console",silent:!0,throwOnSideEffect:o},u=r&&r.callFrameId(),c=await this.evaluator.evaluate(u?{...a,callFrameId:u}:{...a,contextId:e},{stackFrame:r});if(!c||c.exceptionDetails)return{result:[],isArray:!1};if(!c.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:ek.expr(`(${n})`,JSON.stringify(i),JSON.stringify(s))},p=await this.evaluator.evaluate(u?{...l,callFrameId:u}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await Rw({cdp:this.cdp,args:[void 0,i,s],objectId:c.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:c.result.objectId})}}async defaultCompletions(e,r=""){for(let n of["self","global","this"]){let{result:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:n,prefix:r,isInGlobalScope:!0});if(e.stackFrame){let s=r.toLowerCase(),o=new Set(i.map(a=>a.label));for(let a of await e.stackFrame.completions())o.has(a.label)||!a.label.toLowerCase().includes(s)||(o.add(a.label),i.push(a))}return i.push(...this.syntheticCompletions(e,r)),i}return this.syntheticCompletions(e,r)}syntheticCompletions(e,r){return this.evaluator.hasReturnValue&&Ss.startsWith(r)?[{sortText:`~${Ss}`,label:Ss,type:"variable"}]:[]}};al=K([(0,zf.injectable)(),E(0,(0,zf.inject)(Sn)),E(1,(0,zf.inject)(yt))],al);var dH=B(Lt());var Qi=class{constructor(e,r){this._tokens=[];this._separator=r||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var Ik=B(wk());var WZ=1e4;function VZ(t,e){if(!t.includes("%"))return[{type:"string",value:t}];let r=[];function n(u){if(!u)return;let c=r[r.length-1];(c==null?void 0:c.type)==="string"?c.value+=u:r.push({type:"string",value:u})}function i(u,c,l){r.push({type:"specifier",specifier:u,precision:c,substitutionIndex:l})}let s=0,o=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let u=a.exec(t);u;u=a.exec(t)){let c=u.index;if(c>s&&n(t.substring(s,c)),u[0]==="%%")n("%");else{let[,l,p,f]=u;l&&Number(l)>0&&(o=Number(l)-1);let m=p?Number(p):void 0;i(f,m,o),++o}s=c+u[0].length}return n(t.substring(s)),r}function Uw(t,e,r){let n=VZ(t,Array.from(r.keys())),i=new Set,s=r.get("");if(!s)throw new Error("Expected to hav a default formatter");let o=new Qi(WZ),a=!1;for(let u=0;o.checkBudget()&&u<n.length;++u){let c=n[u];if(c.type==="string"){o.append(c.value);continue}let l=c.substitutionIndex;if(l>=e.length){o.append("%"+(c.precision||"")+c.specifier);continue}i.add(l),c.specifier==="c"&&(a=!0);let p=r.get(c.specifier)||s;o.append(p(e[l],{budget:o.budget(),quoted:!1}))}a&&o.append("\x1B[0m");for(let u=0;o.checkBudget()&&u<e.length;++u)i.has(u)||(i.add(u),(t||u)&&o.append(" "),o.append(s(e[u],{budget:o.budget(),quoted:!1})));return{result:o.build(),usedAllSubs:i.size===e.length}}function Ak(t){try{return new Ik.default(t).ansi256().object().ansi256}catch{}}function Sk(t){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,r="\x1B[0m",n=e.exec(t);for(;n!==null;){if(n.length===3)switch(n[1]){case"color":let i=Ak(n[2]);i&&(r+=`\x1B[38;5;${i}m`);break;case"background":case"background-color":let s=Ak(n[2]);s&&(r+=`\x1B[48;5;${s}m`);break;case"font-weight":n[2]==="bold"&&(r+="\x1B[1m");break;case"font-style":n[2]==="italic"&&(r+="\x1B[3m");break;case"text-decoration":n[2]==="underline"&&(r+="\x1B[4m");break;default:}n=e.exec(t)}return r}var xk=t=>t.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),KZ={budget:1e5,quoted:!0},Ek={budget:1e3,quoted:!0,postProcess:xk},XZ={budget:1/0,quoted:!1},zZ={budget:1e3,quoted:!0,postProcess:xk},JZ={budget:1e5,quoted:!0},pH=t=>{switch(t){case"repl":return KZ;case"hover":return Ek;case"propertyValue":return Ek;case"watch":return zZ;case"copy":case"clipboard":return XZ;default:return JZ}};var YZ=30,QZ=100,jw=20,ZZ=1e4,eee=3,Ck=120,qw=new Set(["null","regexp","date"]);function eu(t){return t.type==="function"||t.type==="object"&&!qw.has(t.subtype)}function Ww(t){return t.subtype==="array"||t.subtype==="typedarray"}function tu(t,e,r){var s,o;let n=pH(e),i=fH(t,n,r);return((s=t.preview)==null?void 0:s.subtype)==="regexp"?i:((o=n.postProcess)==null?void 0:o.call(n,i))??i}function fH(t,e,r){return t.type==="function"?t.description?Tk(t.description,e.budget):"<function>":t.type==="object"&&t.subtype==="node"?t.description:"preview"in t&&t.preview?hH(t.preview,e.budget,r):Dk(t,e.budget,e.quoted,r)}function hH(t,e,r){return Ww(t)?tee(t,e):t.subtype==="internal#entry"?Fi(t.description||"",e):t.type==="function"?Tk(t.description,e):eu(t)?ree(t,e,r):iee(t,e,r)}function tee(t,e){let r=new Qi(e),n=t.description,i=n.match(/[^(]*\(([\d]+)\)/);if(!i)return n;let s=parseInt(i[1],10);n.startsWith("Array(")&&(n=n.substring(5)),r.append(Fi(n,r.budget())),r.append(" ");let o=new Qi(r.budget()-2,", "),a=-1;for(let u of t.properties){if(!o.checkBudget())break;if(isNaN(u.name))continue;let c=parseInt(u.name,10);c>a+1&&o.appendEllipsis(),a=c,o.append(Zf(u,o.budget()))}s>a+1&&o.appendEllipsis();for(let u of t.properties){if(!o.checkBudget())break;isNaN(u.name)&&o.append(Zf(u,o.budget(),u.name))}return t.overflow&&o.appendEllipsis(),r.append("["+o.build()+"]"),r.build()}function ree(t,e,r){let n=new Qi(e," ");t.description!=="Object"&&n.append(Fi(t.description,n.budget()));let i=new Map,s=t.properties||[];for(let f of s)i.set(f.name,f);let o=i.get("[[PrimitiveValue]]");if(o)return n.append(`(${Zf(o,n.budget()-2)})`),n.build();let a=i.get("[[PromiseStatus]]"),u=i.get("[[PromiseValue]]");if(a&&u)return a.value==="pending"?n.append(`{<${a.value}>}`):n.append(`{${Zf(u,n.budget()-2,`<${a.value}>`)}}`),n.build();let c=i.get("[[GeneratorStatus]]");if(c)return n.append(`{<${c.value}>}`),n.build();let l=new Qi(n.budget()-2,", ");for(let f of s){if(!l.checkBudget())break;l.append(Zf(f,l.budget(),f.name))}for(let f of t.entries||[]){if(!l.checkBudget())break;if(f.key){let m=hH(f.key,Math.min(jw,l.budget()),r),g=hH(f.value,Math.min(jw,l.budget()-m.length-4),r);l.append(pl(m," => ",g,l.budget()))}else l.append(hH(f.value,Math.min(jw,l.budget()),r))}t.overflow&&l.appendEllipsis();let p=l.build();return p?n.append("{"+p+"}"):n.isEmpty()&&n.append("{}"),n.build()}function Lk(t,e){return t.length<=e?t:"\u2026"}function nee(t,e){return t.length>=e?t.slice(0,e-1)+"\u2026":t}function iee(t,e,r){if(t.type==="object"&&t.subtype==="null")return Lk("null",e);if(t.type==="undefined")return Lk("undefined",e);if(t.type==="string"){let n=t.description??t.value;return r!=null&&r.hex&&(n=Buffer.from(n,"utf8").toString("hex")),Cc(n,e)}return t.type==="number"||t.type==="bigint"?eh(t,!1,e,r):nee(t.description||"",e)}function pl(t,e,r,n){return t===void 0?Cc(r,n):t.length+e.length>n?Fi(t,n):`${t}${e}${Cc(r,n-t.length-e.length)}`}function Zf(t,e,r){return e=Math.min(e,QZ),t.type==="function"?pl(r,": ","\u0192",e):t.type==="object"&&t.value==="Object"?pl(r,": ","{\u2026}",e):typeof t.value>"u"?pl(r,": ",`<${t.type}>`,e):t.type==="string"?pl(r,": ",`'${t.value}'`,e):pl(r,": ",t.value??"unknown",e)}function Dk(t,e,r,n){if(t.type==="string"){let i=t.value||(t.description?t.description:"");n!=null&&n.hex&&(i=Buffer.from(i,"utf8").toString("hex"),r=!1);let s=Cc(i,r?e-2:e);return r?`'${s}'`:s}return t.type==="undefined"?"undefined":t.subtype==="null"?"null":t.type==="bigint"||t.type==="number"?eh(t,!1,e,n):t.description?Fi(t.description,Math.max(e,1e5)):Fi(String("value"in t?t.value:t.description),e)}function Tk(t,e){let r=new Qi(e),n=t.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),i=n.match(/^(async\s+function)/),s=n.startsWith("function*"),o=n.startsWith("*"),a=!s&&n.startsWith("function"),u=n.startsWith("class ")||n.startsWith("class{"),c=n.indexOf("=>"),l=!i&&!s&&!a&&!u&&c>0,p;if(u){p=n.substring(5);let g=/^[^{\s]+/.exec(p.trim()),y="";g&&(y=g[0].trim()||""),m("class",p,y)}else if(i)p=n.substring(i[1].length),m("async \u0192",p,f(p));else if(s)p=n.substring(9),m("\u0192*",p,f(p));else if(o)p=n.substring(1),m("\u0192*",p,f(p));else if(a)p=n.substring(8),m("\u0192",p,f(p));else if(l){let g=n;n.length>YZ&&(g=n.substring(0,c+2)+" {\u2026}"),m("",n,g)}else m("\u0192",n,f(n));return r.build();function f(g){let y=g.indexOf("("),v=g.match(/\)\s*{/),w=v&&v.index||0;if(y!==-1&&v&&w>y){let R=g.substring(0,y).trim()||"",U=g.substring(y,w+1);return R+U}return"()"}function m(g,y,v){r.checkBudget()&&(g.length&&r.append(g+" "),y=y.trim(),y.endsWith(" { [native code] }")&&(y=y.substring(0,y.length-18)),r.budget()>=y.length?r.append(y):r.append(v.replace(/\n/g," ")))}}function ru(t){let e=t;if(e.type!=="object"||e.subtype==="null")return{title:Dk(e,ZZ,!1,void 0)};let r=e.description??e.className??"Error",n=/^\s+at\s/m.exec(r);if(!n){let i=r.lastIndexOf(`
`);return i===-1?{title:r}:{title:r.substring(0,i)}}return{title:r.substring(0,n.index-1),stackTrace:r.substring(n.index+2)}}function eh(t,e,r,n){if(t.type==="number"){if("unserializableValue"in t)return t.unserializableValue;let o=t.value||+t.description;return n!=null&&n.hex?o.toString(16):String(o)}if(t.type==="bigint"){let o=t.unserializableValue||t.description;return n!=null&&n.hex?BigInt(o.slice(0,-1)).toString(16):o}let i=t,s=typeof i.value=="number"?i.value:+String(i.description);return Fi(String(e?Math.floor(s):s),r)}function see(t,e){return Cc(String(typeof t.value<"u"?t.value:t.description),e)}function $k(t){var l;let e=[],r=new Set([void 0]),n=new Map;for(let p of t.properties.filter(f=>f.valuePreview)){let f=new Map;f.set(void 0,p.name),n.set(void 0,Math.max(n.get(void 0)||0,p.name.length)),e.push(f),(l=p.valuePreview)==null||l.properties.map(m=>{m.value&&(r.add(m.name),f.set(m.name,m.value),n.set(m.name,Math.max(n.get(m.name)||0,m.value.length)))})}for(let p of r.values())p&&n.set(p,Math.max(n.get(p)||0,p.length));let i=Array.from(n.values()).reduce((p,f)=>p+f,0),s=Ck-4-(r.size-1)*3;if(i>s){let p=s/i;for(let f of n.keys()){let m=Math.max(eee,n.get(f)*p|0);n.set(f,m)}}let o=[];for(let p of r.values())o.push("-".repeat(n.get(p)));let a="[-"+o.join("-|-")+"-]",u=[];u.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let c=[];for(let p of r.values())c.push(Pk(p||"",n.get(p)));u.push("\u250A "+c.join(" \u250A ")+" \u250A"),u.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let p of e){let f=[];for(let m of r.values())f.push(Pk(p.get(m)||"",n.get(m)));u.push("\u250A "+f.join(" \u250A ")+" \u250A")}return u.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),u.map(p=>Fi(p,Ck)).join(`
`)}var Vw=new Map([["",(t,e)=>fH(t,e)],["s",(t,e)=>see(t,e.budget)],["i",(t,e)=>eh(t,!0,e.budget,void 0)],["d",(t,e)=>eh(t,!0,e.budget,void 0)],["f",(t,e)=>eh(t,!1,e.budget,void 0)],["c",t=>Sk(t.value)],["o",(t,e)=>fH(t,e)],["O",(t,e)=>fH(t,e)]]);function Pk(t,e){return t.length===e?t:t.length<e?t+" ".repeat(e-t.length):Fi(t,e)}var Rk=Hr(function(){return this});var mH=class{constructor(e,r){this.protoObj=e;this.cdp=r}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:dH.t("Only objects can be queried")};let r=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!r)return{category:"stderr",output:dH.t("Could not query the provided object")};let n;try{n=await Rk({cdp:this.cdp,args:[],objectId:r.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(o){return{category:"stderr",output:dH.t(o.message)}}let i="\x1B[32mobjects: "+tu(n,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(i,[n]).id}}};var kk=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,Ok=/^(\W*at )(.*):(\d+):(\d+)$/,$o=class{constructor(e){this.stack=e}static isStackLike(e){return kk.test(e)||Ok.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let r=kk.exec(e)||Ok.exec(e);if(!r){yield e+`
`;continue}let[,n,i,s,o,a]=r;n&&(yield n),yield new Gw(i,new nn(Number(s),Number(o))),a&&(yield a),yield`
`}}},Gw=class{constructor(e,r){this.path=e;this.position=r}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var zr=B(Lt());var ih=B(ce());var Oe=B(Lt()),Zk=require("crypto");var Dr=class{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new Dr().subtract(this)}subtract(e){let r=this.value[1]-e.value[1],n=this.value[0]-e.value[0];return r<0&&(r+=1e9,n--),new Dr([n,r])}};var fl=class{constructor(e,r,n,i,s,o){this.launchConfig=e;this.targetInfo=r;this.parentTarget=n;this.targetOriginValue=i;this.cdp=s;this.logger=o;this.onNameChanged=new z().event;this.attached=!1;this.isWaitingForDebugger=!0;s.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Ve(e):e}executionContextName(){return this.targetInfo.title}};var It=B(Lt()),gH=new Map;function Kw(){if(gH.size)return gH;function t(s,o){for(let a of o)a.group=s,gH.set(a.id,a)}function e(s,o){let a=o||s;return{id:"instrumentation:"+s,title:a,group:"",details:u=>{if(s==="webglErrorFired"){let c=u.webglErrorName;return c=c.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:c,long:It.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',c)}}return s==="scriptBlockedByCSP"&&u.directiveText?{short:It.t('CSP violation "{0}"',u.directiveText),long:It.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',u.directiveText)}:{short:a,long:It.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(u,c)=>c?!!await u.DOMDebugger.setInstrumentationBreakpoint({eventName:s}):!!await u.DOMDebugger.removeInstrumentationBreakpoint({eventName:s})}}function r(s,o,a){let u=o===void 0?"*":typeof o=="string"?[o]:o;return{id:"listener:"+s,title:a||s,group:"",details:c=>{let l=(c.targetName||"*").toLowerCase();return{short:l+"."+s,long:It.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',s,l)}},apply:async(c,l)=>{let p=!0;for(let f of u)l?p=p&&!!await c.DOMDebugger.setEventListenerBreakpoint({eventName:s,targetName:f}):p=p&&!!await c.DOMDebugger.removeEventListenerBreakpoint({eventName:s,targetName:f});return p}}}t("Animation",[e("requestAnimationFrame",It.t("Request Animation Frame")),e("cancelAnimationFrame",It.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",It.t("Animation Frame Fired"))]),t("Canvas",[e("canvasContextCreated",It.t("Create canvas context")),e("webglErrorFired",It.t("WebGL Error Fired")),e("webglWarningFired",It.t("WebGL Warning Fired"))]),t("Script",[e("scriptFirstStatement",It.t("Script First Statement")),e("scriptBlockedByCSP",It.t("Script Blocked by Content Security Policy"))]),t("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),t("Notification",[e("Notification.requestPermission","requestPermission")]),t("Parse",[e("Element.setInnerHTML",It.t("Set innerHTML")),e("Document.write","document.write")]),t("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",It.t("setTimeout fired")),e("setInterval.callback",It.t("setInterval fired"))]),t("Window",[e("DOMWindow.close","window.close")]),t("WebAudio",[e("audioContextCreated",It.t("Create AudioContext")),e("audioContextClosed",It.t("Close AudioContext")),e("audioContextResumed",It.t("Resume AudioContext")),e("audioContextSuspended",It.t("Suspend AudioContext"))]);let n=["audio","video"];t("Media",[r("play",n),r("pause",n),r("playing",n),r("canplay",n),r("canplaythrough",n),r("seeking",n),r("seeked",n),r("timeupdate",n),r("ended",n),r("ratechange",n),r("durationchange",n),r("volumechange",n),r("loadstart",n),r("progress",n),r("suspend",n),r("abort",n),r("error",n),r("emptied",n),r("stalled",n),r("loadedmetadata",n),r("loadeddata",n),r("waiting",n)]),t("Picture-in-Picture",[r("enterpictureinpicture","video"),r("leavepictureinpicture","video"),r("resize","PictureInPictureWindow")]),t("Clipboard",[r("copy"),r("cut"),r("paste"),r("beforecopy"),r("beforecut"),r("beforepaste")]),t("Control",[r("resize"),r("scroll"),r("zoom"),r("focus"),r("blur"),r("select"),r("change"),r("submit"),r("reset")]),t("Device",[r("deviceorientation"),r("devicemotion")]),t("DOM Mutation",[r("DOMActivate"),r("DOMFocusIn"),r("DOMFocusOut"),r("DOMAttrModified"),r("DOMCharacterDataModified"),r("DOMNodeInserted"),r("DOMNodeInsertedIntoDocument"),r("DOMNodeRemoved"),r("DOMNodeRemovedFromDocument"),r("DOMSubtreeModified"),r("DOMContentLoaded")]),t("Drag / drop",[r("drag"),r("dragstart"),r("dragend"),r("dragenter"),r("dragover"),r("dragleave"),r("drop")]),t("Keyboard",[r("keydown"),r("keyup"),r("keypress"),r("input")]),t("Load",[r("load"),r("beforeunload"),r("unload"),r("abort"),r("error"),r("hashchange"),r("popstate")]),t("Mouse",[r("auxclick"),r("click"),r("dblclick"),r("mousedown"),r("mouseup"),r("mouseover"),r("mousemove"),r("mouseout"),r("mouseenter"),r("mouseleave"),r("mousewheel"),r("wheel"),r("contextmenu")]),t("Pointer",[r("pointerover"),r("pointerout"),r("pointerenter"),r("pointerleave"),r("pointerdown"),r("pointerup"),r("pointermove"),r("pointercancel"),r("gotpointercapture"),r("lostpointercapture")]),t("Touch",[r("touchstart"),r("touchmove"),r("touchend"),r("touchcancel")]),t("Worker",[r("message"),r("messageerror")]);let i=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[r("readystatechange",i),r("load",i),r("loadstart",i),r("loadend",i),r("abort",i),r("error",i),r("progress",i),r("timeout",i)]),gH}var Xw=Fa(function(t,e){let r=" ".repeat(e),n=`
`;function i(o){if(o instanceof Uint8Array)return Uint8Array;if(o instanceof Uint8ClampedArray)return Uint8ClampedArray;if(o instanceof Uint16Array)return Uint16Array;if(o instanceof Uint32Array)return Uint32Array;if(o instanceof BigUint64Array)return BigUint64Array;if(o instanceof Int8Array)return Int8Array;if(o instanceof Int32Array)return Int32Array;if(o instanceof BigInt64Array)return BigInt64Array;if(o instanceof Float32Array)return Float32Array;if(o instanceof Float64Array)return Float64Array}function s(o,a=0,u=[]){switch(typeof o){case"bigint":return`${o}n`;case"boolean":return o.toString();case"function":{let p=o.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),f=/^$/;for(let m of p){let g=/^[ \t]+/.exec(m);if(g){f=new RegExp(`^[ \\t]{0,${g[0].length}}`);break}}return p.map((m,g)=>g===0?m:(m=m.replace(f,""),g===p.length-1?r.repeat(a)+m:r.repeat(a+1)+m)).join(n)}case"number":return`${o}`;case"object":if(o===null)return"null";if(u.includes(o))return"[Circular]";if(o instanceof Date)return`"${o.toISOString()}"`;if(typeof Node<"u"&&t instanceof Node)return t.outerHTML;let c=i(o);if(c)return`new ${c.name}([${o.join(", ")}])`;if(o instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(o).join(", ")}]).buffer`;if(o instanceof Array)return["[",...o.map(p=>r.repeat(a+1)+s(p,a+1,[...u,o])+","),r.repeat(a)+"]"].join(n);let l=o;return["{",...Object.keys(l).map(p=>r.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+s(l[p],a+1,[...u,o])+","),r.repeat(a)+"}"].join(n);case"string":return JSON.stringify(o);case"symbol":return o.toString();case"undefined":return"undefined";default:return String(o)}}try{return s(t)}catch{return""+t}}),Nk=Hr(`
  function(spaces2) {
    const result = ${Xw.expr("this","spaces2")};
    return result;
  }
`);var Ro=B(Lt());var nu=B(ce());var Bk=Hr(function(){let t={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let r=0;r<e.length;++r){let n=e[r],i=n>>>0;if(String(i>>>0)===n&&i>>>0!==4294967295)continue;let s=Object.getOwnPropertyDescriptor(this,n);s&&Object.defineProperty(t,n,s)}return t});var Fk=Hr(function(t,e){let r={},n=t===-1?0:t,i=e===-1?this.length:t+e;for(let s=n;s<i&&s<this.length;++s){let o=Object.getOwnPropertyDescriptor(this,s);o&&Object.defineProperty(r,s,o)}return r});var Uk=Fa(function(t,e){let r={},n="<<default preview>>";if(typeof this!="object"||!this)return r;for(let[i,s]of Object.entries(this)){if(e)try{let o=e.call(s,n);if(o!==n){r[i]=String(o);continue}}catch(o){r[i]=`<<indescribable>>${JSON.stringify([String(o),i])}`;continue}if(typeof s=="object"&&s&&!String(s.toString).includes("[native code]")){let o=String(s);if(!o.startsWith("[object ")){r[i]=o.length>=t?o.slice(0,t)+"\u2026":o;continue}}}return r}),jk=Fa(function(t,e){if(e)try{let r="<<default preview>>",n=e.call(this,r);if(n!==r)return String(n)}catch(r){return`<<indescribable>>${JSON.stringify([String(r),"object"])}`}if(typeof this=="object"&&this&&!String(this.toString).includes("[native code]")){let r=String(this);if(!r.startsWith("[object "))return r.length>=t?r.slice(0,t)+"\u2026":r}});var qk=Hr(function(t){return t.call(this)});var Wk=Hr(function(t,e){let{buffer:r,byteLength:n,byteOffset:i}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=i+Math.min(t,n),o=Math.max(0,Math.min(e,n-t));return a(new Uint8Array(r,s,o));function a(u){let c="0123456789abcdef",l="";for(let p=0;p<u.length;p++){let f=u[p];l+=c[f>>>4]+c[f&15]}return l}});var Vk=Hr(function(t,e){let r=u(e),{buffer:n,byteLength:i,byteOffset:s}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=s+Math.min(t,i),a=Math.max(0,Math.min(r.length,i-t));return new Uint8Array(n,o,a).set(r.subarray(0,a)),a;function u(c){let l=new Uint8Array(c.length>>>1);for(let p=0;p<c.length;p+=2)l[p>>>1]=parseInt(c.slice(p,p+2),16);return l}});var sA=(()=>{let t=0,e=2147483647-1;return()=>t++%e+1})(),oA=t=>{if(typeof t=="string")return{value:t};let e=t;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},aee=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var zk=1024,uee=/^[$a-z_][0-9a-z_$]*$/i,cee=/^#[0-9a-z_$]+$/i,lee=t=>t.hasOwnProperty("configurable"),Gk=(t,e,r)=>{let n=f$(t,ag(e),r);return ws(n)},Kk="<<indescribable>>",Jk=t=>{if(!t.startsWith(Kk))return t;let e,r;try{[e,r]=JSON.parse(t.slice(Kk.length))}catch{return t}return Ro.t("{0} (couldn't describe: {1})",e,r)},zw=t=>!!t&&typeof t=="object"&&"readMemory"in t&&"writeMemory"in t,hl=class{constructor(e,r,n,i,s,o,a){this.cdp=e;this.parent=r;this.vars=i;this.locationProvider=s;this.currentRef=o;this.settings=a;this.name=n.name,this.presentationHint=n.presentationHint,this.sortOrder=n.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,r,...n){var s;let i=new e(new hl(this.cdp,(s=this.currentRef)==null?void 0:s.call(this),r,this.vars,this.locationProvider,()=>i,this.settings),...n);return i.id>0&&this.vars.add(i),i}createVariableByType(e,r,n){if(Ww(r))return this.createVariable(vH,e,r);if(r.objectId){if(r.subtype==="map"||r.subtype==="set")return this.createVariable(eA,e,r,n);if(!qw.has(r.subtype))return this.createVariable(th,e,r,n)}return this.createVariable(Xr,e,r)}async createObjectPropertyVars(e,r){var c;let n=[];if(this.settings.customPropertiesGenerator){let{result:l,errorDescription:p}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);l&&l.type!=="undefined"?e=l:n.push([this.createVariable(Zw,{name:"",sortOrder:-1},l,(l==null?void 0:l.description)||p||Ro.t("Unknown error"))])}if(!e.objectId)return[];r&&this.cdp.DotnetDebugger.setEvaluationOptions({options:r,type:"variable"});let[i,s,o]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:Uk.decl(`${zk}`,this.settings.customDescriptionGenerator||"null"),objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(l=>(l==null?void 0:l.result.value)||{}).catch(()=>({}))]);if(!i||!s)return[];let a=new Map,u=[];for(let l of i.result){if(l.symbol){u.push(l);continue}l.name==="__proto__"&&((c=s.internalProperties)!=null&&c.some(p=>p.name==="[[Prototype]]"))||a.set(l.name,l)}for(let l of s.result)l.get||l.set||(l.symbol?u.push(l):a.set(l.name,l));for(let l of[a.values(),u.values()])for(let p of l)n.push(this.createPropertyVar(p,e,o!=null&&o.hasOwnProperty(p.name)?Jk(o[p.name]):void 0));for(let l of s.privateProperties??[])n.push(this.createPropertyVar(l,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let l of s.internalProperties||[]){if(l.name==="[[StableObjectId]]")continue;let p;l.name==="[[FunctionLocation]]"&&l.value&&l.value.subtype==="internal#location"?p=this.createVariable(Qw,{name:l.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},l.value):l.value!==void 0&&(p=this.createVariableByType({name:l.name,presentationHint:{visibility:"internal"},sortOrder:2},l.value)),p&&n.push([p])}return Xp(await Promise.all(n))}async createPropertyVar(e,r,n,i){let s=[],o=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",u={name:e.name,presentationHint:{},sortOrder:0,...i};return i||(lee(e)?(e.enumerable===!1&&!o&&(u.presentationHint.visibility="internal",u.sortOrder=1),(e.writable===!1||o&&!a)&&(u.presentationHint.attributes=["readOnly"])):(u.presentationHint.visibility="private",u.sortOrder=1)),"value"in e&&e.value&&s.push(this.createVariableByType(u,e.value,n)),o?s.push(this.createVariable(nA,u,e.get,r)):a&&s.push(this.createVariable(rA,u,e.set)),s}async evaluateCodeForObject(e,r,n){try{let i=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:r,arguments:n.map(oA)});if(i){if(i.exceptionDetails===void 0)return{result:i.result};if(i&&i.result.description)return{errorDescription:i.result.description}}return{errorDescription:Ro.t("Unknown error")}}catch(i){return{errorDescription:i.stack||i.message||String(i)}}}},pee=t=>typeof t=="number"||/^[0-9]+$/.test(t),Xr=class{constructor(e,r){this.context=e;this.remoteObject=r;this.id=sA()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:r}=this.context;if(!e||e instanceof iu)return this.context.name;if(e instanceof rh)return e.accessor;let n=e.context.parent;if(n instanceof Xr){if(this.remoteObject.subtype==="internal#entry")return`[...${n.accessor}.entries()][${+r}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return pee(r)?`${e.accessor}[${r}]`:uee.test(r)?`${e.accessor}.${r}`:e.accessor==="this"&&cee.test(r)?`${e.accessor}.${r}`:`${e.accessor}[${JSON.stringify(r)}]`}async toDap(e,r){let n=this.context.name;return this.context.parent instanceof iu&&(n=await this.context.parent.getRename(n)),Promise.resolve({name:n,value:tu(this.remoteObject,e,r),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,r){let n=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${r}; ${Ht()} }`,arguments:[oA(e)],silent:!0});if(!n)throw new ee(Qe(Ro.t("Unable to set variable value")));if(n.exceptionDetails)throw new ee(Yk(n.exceptionDetails));return this.context.createVariableByType({name:e},n.result)}async getChildren(e){return Promise.resolve([])}},HH=class{constructor(e){this.child=e;this.id=sA()}getChildren(){return Promise.resolve([this.child])}},Jw=class extends Xr{constructor(r,n,i,s){var o;super(r,{type:((o=i[0])==null?void 0:o.type)??"string"});this.value=n;this.args=i;this.stackTrace=s}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(eu)?this.id:0})}getChildren(r){let n=[],{args:i,stackTrace:s}=this;for(let o=0;o<i.length;++o)eu(i[o])&&n.push(this.context.createVariableByType({name:`arg${o}`,sortOrder:o},i[o]));return s&&n.push(this.context.createVariable(Yw,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,s)),Promise.resolve(n)}},Yw=class extends Xr{constructor(r,n,i){super(r,n);this.stacktrace=i}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},Qw=class extends Xr{constructor(r,n){super(r,n);this.location=n.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},Zw=class extends Xr{constructor(r,n,i){super(r,n);this.message=i}get accessor(){if(!(this.context.parent instanceof Xr))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},yH=Symbol("NoStringRepr"),th=class extends Xr{constructor(r,n,i){super(r,n);this.customStringRepr=i}async toDap(r,n){let[i,s]=await Promise.all([await super.toDap(r,n),await this.getValueRepresentation(r)]);return{...i,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:aee.has(this.remoteObject.subtype)?String(this.id):void 0,value:s}}async getValueRepresentation(r){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.customStringRepr!==yH)try{let n=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:jk.decl(`${zk}`,this.context.customDescriptionGenerator||"null"),objectId:this.remoteObject.objectId,returnByValue:!0});if(n!=null&&n.result.value)return this.customStringRepr=Jk(n.result.value)}catch{this.customStringRepr=yH}return this.context.name==="__proto__"&&this.remoteObject.description||tu(this.remoteObject,r)}async readMemory(r,n){let i=await Wk({cdp:this.context.cdp,args:[r,n],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(i.value,"hex")}async writeMemory(r,n){return(await Vk({cdp:this.context.cdp,args:[r,n.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(r){return this.context.createObjectPropertyVars(this.remoteObject,r.evaluationOptions)}},Xk="[[Entries]]",eA=class extends th{constructor(r,n){var s;super(r,n,yH);this.baseChildren=$e(()=>super.getChildren({variablesReference:this.id}));let i=n.preview;this.isMap=i.subtype==="map",this.size=Number((s=i.properties.find(o=>o.name==="size"))==null?void 0:s.value)??void 0}async toDap(r){let n=await super.toDap(r);return this.size&&this.size>100&&(n.indexedVariables=this.size),n}async getChildren(r){var s;let n=await this.baseChildren();return[...(await((s=n.find(o=>o.name===Xk))==null?void 0:s.getChildren(r))||[]).filter(o=>o.sortOrder===0),...n.filter(o=>o.name!==Xk)]}},vH=class extends th{constructor(r,n){super(r,n,yH);this.length=0;let i=String(n.description).match(/\(([0-9]+)\)/);this.length=i?+i[1]:0}async toDap(r){return{...await super.toDap(r),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(r){switch(r==null?void 0:r.filter){case"indexed":return this.getArraySlots(r);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(Xp)}}async getArrayProperties(){try{let r=await Bk({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(r)}catch{return[]}}async getArraySlots(r){let n=r&&typeof r.start<"u"?r.start:-1,i=r&&typeof r.count<"u"?r.count:-1,s;try{s=await Fk({cdp:this.context.cdp,generatePreview:!1,args:[n,i],objectId:this.remoteObject.objectId})}catch{return[]}let o=await this.context.createObjectPropertyVars(s);return s.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:s.objectId}),o}},tA=class extends vH{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:$k(this.remoteObject.preview)}:super.toDap(e)}},rh=class extends Xr{constructor(e,r){super(e,r)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},rA=class extends rh{async toDap(e,r){return{...await super.toDap(e,r),value:"write-only",variablesReference:this.id}}},nA=class extends rh{constructor(r,n,i){super(r,n);this.parentObject=i}async toDap(r,n){let i=await super.toDap(r,n);return i.variablesReference=this.id,i.presentationHint={...i.presentationHint,lazy:!0},i}async getChildren(r){try{let n=await qk({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new _f(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},n)]}catch(n){if(!(n instanceof Ec))throw n}return super.getChildren(r)}},iu=class{constructor(e,r,n,i,s){this.remoteObject=e;this.context=r;this.ref=n;this.extraProperties=i;this.renameProvider=s;this.id=sA()}async getChildren(e){let r=await this.context.createObjectPropertyVars(this.remoteObject),n=new Set(r.map(i=>i.name));for(let i of this.extraProperties)n.has(i.name)||r.push(this.context.createVariableByType({name:i.name},i.value));return r}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,r){let n=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${r} ${Ht()}`,callFrameId:this.ref.callFrameId});if(!n)throw new ee(Je(Ro.t("Invalid expression")));if(n.exceptionDetails)throw new ee(Yk(n.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:oA(n.result)}),this.context.createVariableByType({name:e},n.result)}},iA=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},Mo=class{constructor(e,r,n,i,s){this.renameProvider=e;this.cdp=r;this.dap=n;this.launchConfig=i;this.locationProvider=s;this.vars=new iA;this.contextSettings={customDescriptionGenerator:i.customDescriptionGenerator&&Gk(["defaultValue"],i.customDescriptionGenerator,!1),customPropertiesGenerator:i.customPropertiesGenerator&&Gk([],i.customPropertiesGenerator,!1)}}createDetached(){return new Mo(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,r){return this.createFloatingContext().createVariableByType({name:e},r)}createVariableForOutput(e,r,n,i){let s=this.createFloatingContext(),o=r.length===1&&i==="table"?s.createVariable(tA,{name:""},r[0]):r.length===1&&eu(r[0])&&!n?s.createVariableByType({name:""},r[0]):s.createVariable(Jw,{name:""},e,r,n),a=new HH(o);return this.vars.add(a),a}createScope(e,r,n){let i=new iu(e,new hl(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),r,n,this.renameProvider);return this.vars.add(i),i}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return zw(this.vars.get(Number(e)))}async readMemory(e,r,n){let i=this.vars.get(Number(e));return zw(i)?i.readMemory(r,n):void 0}async writeMemory(e,r,n){let i=this.vars.get(Number(e)),s=zw(i)?await i.writeMemory(r,n):0;return s>0&&this.dap.invalidated({areas:["variables"]}),s}async getVariableNames(e){let r=this.vars.get(e.variablesReference);return r?(await r.getChildren(e)).filter(Ta(Xr)).map(i=>i.name):[]}async getVariables(e){let r=this.vars.get(e.variablesReference);if(!r)return[];let n=await r.getChildren(e);return(await Promise.all(n.map(s=>s.toDap(r instanceof iu||r instanceof HH?"repl":"propertyValue",e.format).then(o=>({v:s,dap:o}))))).sort((s,o)=>s.v.sortOrder-o.v.sortOrder||+s.dap.name-+o.dap.name||s.dap.name.localeCompare(o.dap.name)).map(s=>s.dap)}async setVariable(e){let r=this.vars.get(e.variablesReference);if(!e.value)throw new ee(Je(Ro.t("Cannot set an empty value")));if(r instanceof iu||r instanceof Xr)return await(await r.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new ee(Qe(Ro.t("Variable not found")))}createFloatingContext(){return new hl(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};Mo=K([(0,nu.injectable)(),E(0,(0,nu.inject)(Eo)),E(1,(0,nu.inject)(yt)),E(2,(0,nu.inject)(_n)),E(3,(0,nu.inject)(qe))],Mo);function Yk(t){let e=t.exception&&ru(t.exception).title||t.text;return Je(e)}var bH=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async r=>{let n=await r.source;n.filterScripts(i=>i.executionContextId!==this.description.id),n.scripts.length||e.removeSource(n)}))}},aA=class{constructor(e){this._obj=e;this._dapDeferred=je()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(r=>e(r))}},hee=50,Qk=(t,e)=>t.sourceReference===e.sourceReference&&hg(t.path||"",e.path||""),dee=()=>`
//# sourceURL=eval-${(0,Zk.randomBytes)(4).toString("hex")}${".repl"}
`,uA=class{enqueue(e,r){var n;if(!this.queue||this.queue.operation!==e){let i=((n=this.queue)==null?void 0:n.result.then(r,r))??r(),s=this.queue={operation:e,result:i.finally(()=>{this.queue===s&&(this.queue=void 0)})}}return this.queue.result}},ko=class{constructor(e,r,n,i,s,o,a,u,c,l,p,f,m,g){this.target=i;this.logger=o;this.evaluator=a;this.completer=u;this.launchConfig=c;this._breakpointManager=l;this.console=p;this.exceptionPause=f;this._smartStepper=m;this.shutdown=g;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new uA;this._onPausedEmitter=new z;this.disposed=!1;this.debuggerReady=je();this.onPaused=this._onPausedEmitter.event;this._dap=new aA(n),this._sourceContainer=e,this._cdp=r,this.id=ko._lastThreadId++,this.replVariables=new Mo(s,this._cdp,n,c,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Qe(Oe.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Qe(Oe.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>(this._expectedPauseReason={reason:"step",direction:1},await this._cdp.Debugger.stepOver({})?{}:Qe(Oe.t("Unable to step next"))))}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{var n,i;this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let r=(i=(n=this._pausedDetails)==null?void 0:n.stepInTargets)==null?void 0:i[e];if(r){let s=await this._cdp.Debugger.setBreakpoint({location:r.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=s==null?void 0:s.breakpointId,await this._cdp.Debugger.resume({}))return{}}else if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0}))return{};return Qe(Oe.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Qe(Oe.t("Unable to step out"))))}_stackFrameNotFoundError(){return Qe(Oe.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Qe(Oe.t("Unable to evaluate on async stack frame"))}async restartFrame(e){var s;let r=(s=this._pausedDetails)==null?void 0:s.stackTrace.frame(e.frameId);if(!r)return this._stackFrameNotFoundError();let n=r.callFrameId();return n?await this._cdp.Debugger.restartFrame({callFrameId:n,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:Oe.t("Paused on frame entry")},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):Je(Oe.t("Frame could not be restarted")):Je(Oe.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Qe(Oe.t("Thread is not paused"))}async scopes(e){let r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return r?r.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Qe(Oe.t("Thread is not paused on exception"));let r=ru(e);return{exceptionId:r.title,breakMode:"all",details:{stackTrace:r.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let r;if(e.frameId!==void 0){if(r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!r)return this._stackFrameNotFoundError();if(!r.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let n=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:r,expression:e.text,position:new nn(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...n]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let r=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(n=>`cd ${this.target.executionContextName(n.description)}`).filter(n=>n.startsWith(r)).map(n=>({label:n,start:0,length:e.text.length}))}async evaluate(e){let r,n;if(e.frameId!==void 0){if(n=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!n)throw new ee(this._stackFrameNotFoundError());if(r=n.callFrameId(),!r)throw new ee(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let c=e.expression.substring(3).trim();for(let l of this._executionContexts.values())if(this.target.executionContextName(l.description)===c)return this._selectedContext=l,{result:`[${c}]`,variablesReference:0}}let i=e.context==="clipboard"?{expression:Xw.expr(e.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:e.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:e.context==="hover"?this.getHoverEvalTimeout():void 0};if(e.context==="repl"){if(i.expression=bf(i.expression),i.expression.indexOf("await")!==-1){let c=y$(i.expression);c&&(i.expression=c,i.awaitPromise=!0)}i.expression+=dee()}e.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:e.evaluationOptions,type:"evaluation"});let s=this.evaluator.evaluate(r?{...i,callFrameId:r}:{...i,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:n});if(e.context==="repl")return await this._evaluateRepl(e,s,e.format);let o=await s;if(!o)throw new ee(Qe(Oe.t("Unable to evaluate")));if(o.exceptionDetails){let c=o.exceptionDetails.exception?ru(o.exceptionDetails.exception).title:o.exceptionDetails.text;throw c.startsWith("Uncaught")||(c="Uncaught "+c),new ee(Qe(c))}let a=r?this._pausedVariables:this.replVariables;if(!a)throw new ee(Qe(Oe.t("Unable to evaluate")));let u=await a.createFloatingVariable(i.expression,o.result).toDap(e.context,e.format);return{type:o.result.type,result:u.value,variablesReference:u.variablesReference,namedVariables:u.namedVariables,indexedVariables:u.indexedVariables,memoryReference:u.memoryReference}}getHoverEvalTimeout(){var r;let e=(r=this.launchConfig.timeouts)==null?void 0:r.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,r,n){let i=await r;if(!i)return{result:"",variablesReference:0};if(i.exceptionDetails){let u=await new nh(i.exceptionDetails).toDap(this);throw new ee(cT(u.output))}let s=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",o=await this.replVariables.createFloatingVariable(e.expression,i.result).toDap("repl",n),a=pH("repl").budget;return o.variablesReference===0&&o.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:Oe.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()}))`),category:"stdout"})})),{...o,result:`${s}${o.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new nh(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new mH(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){var l,p;let r=this._pausedDetails;if(!r)return[];let n=r.stackTrace.frames.find(f=>f.frameId===e);if(!(n instanceof St))return[];let i=await n.uiLocation();if(!i)return[];let s=r.event.callFrames[0].location,[o,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,i.source,new nn(i.lineNumber,1),new nn(i.lineNumber+1,1)).then(f=>f.filter(m=>m.breakLocation.lineNumber!==s.lineNumber||m.breakLocation.columnNumber!==s.columnNumber)),i.source.content()]),u=((l=r.stepInTargets)==null?void 0:l.length)||0;r.stepInTargets=((p=r.stepInTargets)==null?void 0:p.concat(o))||o;let c=a&&new go(a);return o.map((f,m)=>{let g=f.uiLocations.find(v=>v.source===i.source);if(!g)return;if(!c)return{id:u+m,label:`Column ${g}`,line:g.lineNumber,column:g.columnNumber};let y=v$(a.slice(c.getLineOffset(g.lineNumber-1),c.getLineOffset(g.lineNumber)),g.columnNumber-1);if(y)return{id:u+m,label:y.text,line:g.lineNumber,column:y.start+1,endLine:g.lineNumber,endColumn:y.end+1}}).filter(gr)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let r=new bH(e);this._executionContexts.set(e.id,r)}_executionContextDestroyed(e){let r=this._executionContexts.get(e);r&&(this._executionContexts.delete(e),r.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&ko._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){var l,p,f,m,g,y;let r=(e.hitBreakpoints??[]).filter(v=>v!==this._pauseOnSourceMapBreakpointId),n=e.reason==="Break on start"||e.reason==="debugCommand",i=(l=e.callFrames[0])==null?void 0:l.location,s=((p=e.data)==null?void 0:p.scriptId)||(i==null?void 0:i.scriptId),o=e.reason==="instrumentation"&&((f=e.data)==null?void 0:f.scriptId)||s&&this._breakpointManager.isEntrypointBreak(r,s);if(this.evaluator.setReturnedValue((m=e.callFrames[0])==null?void 0:m.returnValue),o){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!n&&(e.data.__rewriteAs="breakpoint");let v=this._expectedPauseReason;if(!(s&&await this._handleSourceMapPause(s,i))){if(!n){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!0))if((v==null?void 0:v.reason)==="step"){if(v.direction!==0)return this._cdp.Debugger.stepOut({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!1)))return this.resume();let a=(g=this._waitingForStepIn)==null?void 0:g.intoTargetBreakpoint;if(a){(y=e.hitBreakpoints)!=null&&y.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(n&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof fl)){this.resume();return}let u=this._pausedDetails=this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let c=await this._smartStepper.getSmartStepDirection(u,this._expectedPauseReason);if(this._pausedDetails===u){switch(c){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(u)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let r=e.frames[0],n=r instanceof St&&await r.uiLocation();if(!n)return!1;let i,s,o=[];for(let{caller:a,target:u}of this._excludedCallers)if(!(u.line!==n.lineNumber||u.column!==n.columnNumber)&&(i??=await n.source.toDapShallow(),!!Qk(i,u.source))){s||(s=await e.loadFrames(hee).then(l=>Promise.all(l.slice(1).filter(Ta(St)).map(p=>p.uiLocation()))));for(let c=0;c<s.length;c++){let l=s[c];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=o[c]??=await l.source.toDapShallow();if(Qk(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,r]of ko._allThreadsByDebuggerId)r===this&&ko._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let r=e;return{lineNumber:Math.max(0,r.location.lineNumber)+1,columnNumber:Math.max(0,r.location.columnNumber||0)+1,scriptId:r.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let r=this._sourceContainer.getScriptById(e.scriptId);return r?r.resolvedSource?this._sourceContainer.preferredUiLocation({...za(e,r.resolvedSource.runtimeScriptOffset),source:r.resolvedSource}):r.source.then(n=>this._sourceContainer.preferredUiLocation({...za(e,n.runtimeScriptOffset),source:n})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let r=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!r)return;let n=await r.source;return this._sourceContainer.preferredUiLocation({...za(e,n.runtimeScriptOffset),source:n})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,r=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,r)}waitForScriptId(e,r){return new Promise(n=>{let i=this._sourceContainer.onScript(o=>{o.scriptId===e&&(n(o),i.dispose(),clearTimeout(s))}),s=setTimeout(()=>{n(void 0),i.dispose()},r)})}async renderDebuggerLocation(e){let r=this.rawLocation(e),n=await this.rawLocationToUiLocation(r);return n?`@ ${await n.source.prettyName()}:${n.lineNumber}`:`@ VM${r.scriptId||"XX"}:${r.lineNumber}`}async updateCustomBreakpoint(e,r){if(!this.target.supportsCustomBreakpoints())return;let n=Kw().get(e);n&&await n.apply(this._cdp,r)}_createPausedDetails(e){var s,o;let r=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous";if((!!(e.hitBreakpoints&&e.hitBreakpoints.length)||!r)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let a of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(a);let i=cn.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(((s=e.data)==null?void 0:s.__rewriteAs)==="breakpoint")return{thread:this,event:e,stackTrace:i,reason:"breakpoint",description:Oe.t("Paused on breakpoint")};if(((o=e.data)==null?void 0:o.__rewriteAs)==="step")return{thread:this,event:e,stackTrace:i,reason:"step",description:Oe.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Oe.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:i,reason:"pause",description:Oe.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:Oe.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(i,e);case"exception":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Oe.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Oe.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:i,reason:"step",description:Oe.t("Paused")}:{thread:this,event:e,stackTrace:i,reason:"function breakpoint",description:Oe.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:Oe.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:i,reason:"exception",description:Oe.t("Paused before Out Of Memory exception")};default:if(e.hitBreakpoints&&e.hitBreakpoints.length){let a=!1,u=this.target.entryBreakpoint;if(u&&e.hitBreakpoints.includes(u.cdpId)){a=!0;let c=this._sourceContainer.source({path:st(u.path)});c!==void 0&&(a=!this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:c}).some(p=>this._breakpointManager.hasAtLocation(p)))}return a||this._breakpointManager.registerBreakpointsHit(e.hitBreakpoints),{thread:this,event:e,stackTrace:i,hitBreakpoints:e.hitBreakpoints,reason:a?"entry":"breakpoint",description:Oe.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:i,description:Oe.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:i,reason:"pause",description:Oe.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,r){let n=r.data,i=n&&n.eventName||"",s=Kw().get(i);if(s){let o=s.details(n);return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:o.short,text:o.long}}return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:Oe.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){if(e.url.endsWith(".cdp")||(yr(e.url)&&(e.url=Ve(e.url)),this._sourceContainer.getScriptById(e.scriptId)))return;e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let r=this._executionContexts.get(e.executionContextId);r||(this.logger.info("internal","Creating missing execution context id",e),r=new bH({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,r));let n=async()=>{let s=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&(s==null?void 0:s.contentHash)===e.hash)return s.addScript({scriptId:e.scriptId,url:e.url,executionContextId:e.executionContextId}),s;let o=async()=>{let p=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return p?p.scriptSource:void 0},a=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,u=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,c;e.sourceMapURL&&(c=nr(e.sourceMapURL)?e.sourceMapURL:e.url&&mo(e.url,e.sourceMapURL)||e.url,c||this._dap.with(p=>eT(p,`Could not load source map from ${e.sourceMapURL}`)));let l=await this._sourceContainer.addSource(e.url,o,c,a,u,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return l.addScript({scriptId:e.scriptId,url:e.url,executionContextId:e.executionContextId}),l},i={url:e.url,scriptId:e.scriptId,executionContextId:e.executionContextId,source:n()};i.source.then(s=>i.resolvedSource=s),r.scripts.push(i),this._sourceContainer.addScriptById(i),e.sourceMapURL&&this._getOrStartLoadingSourceMaps(i)}async _handleSourceMapPause(e,r){this._pausedForSourceMapScriptId=e;let n=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,i=n+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,s=this._sourceContainer.getScriptById(e);if(!s)return this._pausedForSourceMapScriptId=void 0,!1;let o=new Dr,a=await Promise.race([this._getOrStartLoadingSourceMaps(s),Te(i)]),u=o.elapsed().ms,c=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(u-n,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:c}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:u,sourceMapCumulativePause:c}),a||this._dap.with(f=>f.output({category:"stderr",output:Oe.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",s.url||s.scriptId,i)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=(r==null?void 0:r.lineNumber)||0,p=r==null?void 0:r.columnNumber;return!!(a!=null&&a.map(So).some(f=>f.lineNumber===l&&(p===void 0||p===f.columnNumber)))}_getOrStartLoadingSourceMaps(e){let r=this._executionContexts.get(e.executionContextId);if(!r)return Promise.resolve([]);let n=r.sourceMapLoads.get(e.scriptId);if(n)return n;let i=e.source.then(s=>this._sourceContainer.waitForSourceMapSources(s)).then(s=>s.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,s):[]);return r.sourceMapLoads.set(e.scriptId,i),i}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let r=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(r)for(let n of r.internalProperties||[]){if(n.name!=="[[FunctionLocation]]"||!n.value||n.value.subtype!=="internal#location")continue;let i=await this.rawLocationToUiLocation(this.rawLocation(n.value.value));i&&this._sourceContainer.revealUiLocation(i);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(r=>r.copyRequested({text:tu(e,"copy")}));return}try{let r=await Nk({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(n=>n.copyRequested({text:r.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let r;e.hitBreakpoints&&(r=await Promise.race([Te(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(n=>this._breakpointManager._resolvedBreakpoints.get(n)).filter(Ta(En)).map(n=>n.untilSetCompleted().then(()=>n.dapId)))])),await Te(0),this._dap.with(n=>n.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:r,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){var i;if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let r=ko.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!r||!((i=r._waitingForStepIn)!=null&&i.lastDetails))return!1;let n=r._waitingForStepIn.lastDetails.stackTrace;return r._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(s=>!s||!s.stackTrace.callFrames.length||!St.fromRuntime(r,s.stackTrace.callFrames[0],!1).equivalentTo(n.frames[0])?!1:(r._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,r){this._scriptWithSourceMapHandler=r;let n=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&r;if(n&&!this._pauseOnSourceMapBreakpointId){let i=await this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"});this._pauseOnSourceMapBreakpointId=i?i.breakpointId:void 0}else if(!n&&this._pauseOnSourceMapBreakpointId){let i=this._pauseOnSourceMapBreakpointId;this._pauseOnSourceMapBreakpointId=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:i})}return!!this._pauseOnSourceMapBreakpointId}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){var r,n,i;return e.reason!=="instrumentation"||!nr((r=e.data)==null?void 0:r.sourceMapURL)?!1:((n=e.data.url)==null?void 0:n.startsWith("webpack"))||((i=e.data.url)==null?void 0:i.startsWith("ng:"))}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return ko._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let r=[];for(let i of new $o(e)){if(typeof i=="string"){r.push(i);continue}let s=this._sourceContainer.getSourceByOriginalUrl(Ve(i.path))||this._sourceContainer.getSourceByOriginalUrl(i.path);if(!s){r.push(i.toString());continue}r.push(this._sourceContainer.preferredUiLocation({columnNumber:i.position.base1.columnNumber,lineNumber:i.position.base1.lineNumber,source:s}).then(({source:o,lineNumber:a,columnNumber:u})=>`${o.absolutePath}:${a}:${u}`))}return(await Promise.all(r)).join("")}},Oo=ko;Oo._lastThreadId=0,Oo._allThreadsByDebuggerId=new Map;async function cA(t){let e=await t.uiLocation();return e?e.source.blackboxed()?2:Pr(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var mee=new Set(["breakpoint","exception","entry"]),gee=256,No=class{constructor(e,r){this.launchConfig=e;this.logger=r;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,r){if(!this.launchConfig.smartStep||mee.has(e.reason))return;let n=(await e.stackTrace.loadFrames(1)).find(Ta(St));if((n&&await cA(n))===0){this.resetSmartStepCount();return}return this._smartStepCount++>gee?2:(r==null?void 0:r.reason)==="step"?r.direction:0}};No=K([(0,ih.injectable)(),E(0,(0,ih.inject)(qe)),E(1,(0,ih.inject)(pe))],No);var cn=class{constructor(e){this.frames=[];this._frameById=new Map;this._lastFrameThread=e}static fromRuntime(e,r){let n=new cn(e);for(let i of r.callFrames)i.url.endsWith(".cdp")||n.frames.push(St.fromRuntime(e,i,!1));return r.parentId?(n._asyncStackTraceId=r.parentId,console.assert(!r.parent)):n._appendStackTrace(e,r.parent),n}static async fromRuntimeWithPredicate(e,r,n,i=1/0){let s=new cn(e);for(let o=0;o<r.callFrames.length&&i>0;o++)if(!r.callFrames[o].url.endsWith(".cdp")){let a=St.fromRuntime(e,r.callFrames[o],!1);await n(a)&&(s.frames.push(),i--)}return r.parentId?(s._asyncStackTraceId=r.parentId,console.assert(!r.parent)):s._appendStackTrace(e,r.parent),s}static fromDebugger(e,r,n,i){let s=new cn(e);for(let o of r)s._appendFrame(St.fromDebugger(e,o));return i?(s._asyncStackTraceId=i,console.assert(!n)):s._appendStackTrace(e,n),s}async loadFrames(e,r){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=Oo.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}r&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:r},type:"stackFrame"});let n=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,n&&this._appendStackTrace(this._lastFrameThread,n.stackTrace)}return this.frames}frame(e){return this._frameById.get(e)}_appendStackTrace(e,r){for(console.assert(!r||!this._asyncStackTraceId);r;){if(r.description==="async function"&&r.callFrames.length&&r.callFrames.shift(),r.callFrames.length){this._appendFrame(new lA(r.description||"async"));for(let n of r.callFrames)this._appendFrame(St.fromRuntime(e,n,!0))}r.parentId&&(this._asyncStackTraceId=r.parentId,console.assert(!r.parent)),r=r.parent}}_appendFrame(e){this.frames.push(e),e instanceof St&&this._frameById.set(e.frameId,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let r=await this.loadFrames(50);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof St&&s.isReplEval){r=r.slice(0,i+1);break}}let n=r.map(e);return(await Promise.all(n)).join(`
`)+`
`}async toDap(e){let r=e.startFrame||0,n=(e.levels||50)+r,i=await this.loadFrames(n,e.noFuncEval);n=Math.min(i.length,e.levels?n:i.length);let s=[];for(let o=r;o<n;o++)s.push(i[o].toDap(e.format));return{stackFrames:await Promise.all(s),totalFrames:this._asyncStackTraceId?1e6:i.length}}},eO=xm(),lA=class{constructor(e="async"){this.label=e;this.frameId=eO()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},St=class{constructor(e,r,n,i=!1){this.callFrame=r;this.isAsync=i;this.frameId=eO();this.completions=$e(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let r=[];for(let i=0;i<this._scope.chain.length;i++){let s=this._scopeVariable(i,this._scope);s&&r.push(e.getVariableNames({variablesReference:s.id}).then(o=>o.map(a=>({label:a,type:"property"}))))}let n=await Promise.all(r);return[].concat(...n)});this._name=r.functionName||"<anonymous>",this._rawLocation=n,this.uiLocation=$e(()=>e.rawLocationToUiLocation(n)),this._thread=e;let s=n.scriptId?e.getScriptById(n.scriptId):void 0;this.isReplEval=s?s.url.endsWith(".repl"):!1}get rawPosition(){return new Bc(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,r,n){return new St(e,r,e.rawLocation(r),n)}static fromDebugger(e,r){let n=new St(e,r,e.rawLocation(r));return n._scope={chain:r.scopeChain,thisObject:r.this,returnValue:r.returnValue,variables:new Array(r.scopeChain.length).fill(void 0),callFrameId:r.callFrameId},n}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof St&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new ee(pT());return{scopes:(await Promise.all(e.chain.map(async(n,i)=>{let s="",o;switch(n.type){case"global":s=zr.t("Global");break;case"local":s=zr.t("Local"),o="locals";break;case"with":s=zr.t("With Block"),o="locals";break;case"closure":s=zr.t("Closure"),o="arguments";break;case"catch":s=zr.t("Catch Block"),o="locals";break;case"block":s=zr.t("Block"),o="locals";break;case"script":s=zr.t("Script");break;case"eval":s=zr.t("Eval");break;case"module":s=zr.t("Module");break;default:s=n.type.substr(0,1).toUpperCase()+n.type.substr(1);break}n.name&&n.type==="closure"?s=zr.t("Closure ({0})",n.name):n.name&&(s=`${s}: ${n.name}`);let a=this._scopeVariable(i,e);if(!a)return;let u={name:s,presentationHint:o,expensive:n.type==="global",variablesReference:a.id};if(n.startLocation){let c=this._thread.rawLocation(n.startLocation),l=await this._thread.rawLocationToUiLocation(c);if(u.line=(l||c).lineNumber,u.column=(l||c).columnNumber,l&&(u.source=await l.source.toDap()),n.endLocation){let p=this._thread.rawLocation(n.endLocation),f=await this._thread.rawLocationToUiLocation(p);u.endLine=(f||p).lineNumber,u.endColumn=(f||p).columnNumber}}return u}))).filter(gr)}}async toDap(e){let r=await this.uiLocation(),n=r?await r.source.toDap():void 0,i=await cA(this),s=i?"deemphasize":"normal";i&&n&&(n.origin=i===1?zr.t("Skipped by smartStep"):zr.t("Skipped by skipFiles"));let o=(r||this._rawLocation).lineNumber,a=(r||this._rawLocation).columnNumber,u=this._name;return n&&e&&(e.module&&(u+=` [${n.name}]`),e.line&&(u+=` Line ${o}`)),{id:this.frameId,name:u,line:o,column:a,source:n,presentationHint:s,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let e=await this.uiLocation(),r=await(e==null?void 0:e.source.existingAbsolutePath())||await(e==null?void 0:e.source.prettyName())||this.callFrame.url,{lineNumber:n,columnNumber:i}=e||this._rawLocation;return`    at ${this._name} (${r}:${n}:${i})`}async format(){let e=await this.uiLocation(),r=await(e==null?void 0:e.source.prettyName())||"<unknown>",n=e||this._rawLocation,i=`${this._name} @ ${r}:${n.lineNumber}`;return n.columnNumber>1&&(i+=`:${n.columnNumber}`),i}_scopeVariable(e,r){let n=r.variables[e];if(n)return n;let i={stackFrame:this,callFrameId:r.callFrameId,scopeNumber:e},s=[];e===0&&(r.thisObject&&s.push({name:"this",value:r.thisObject}),r.returnValue&&s.push({name:zr.t("Return value"),value:r.returnValue}));let o=this._thread.pausedVariables();if(!o)return;let a=o.createScope(r.chain[e].object,i,s);return r.variables[e]=a}};var tO=B(Lt());var su=class{constructor(e){this.event=e;this.stackTrace=$e(e=>this.event.stackTrace?cn.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=$e(async e=>{let r=this.stackTrace(e);if(!r)return;let n;for(let i of r.frames){if(!(i instanceof St))continue;let s=await i.uiLocation();if(s&&(n||(n=s),!s.source.blackboxed()))return{source:await s.source.toDap(),line:s.lineNumber,column:s.columnNumber}}if(n)return{source:await n.source.toDap(),line:n.lineNumber,column:n.columnNumber}})}formatDefaultString(e,r,n=!1){let s=r.length>1&&r[0].type==="string"?Uw(r[0].value,r.slice(1),Vw):Uw("",r,Vw),o=s.result+`
`;return s.usedAllSubs&&!r.some(eu)?{output:o}:this.formatComplexStringOutput(e,o,r,n)}async formatComplexStringOutput(e,r,n,i){(n.some(o=>o.subtype==="error")||$o.isStackLike(r))&&(await this.getUiLocation(e),r=await e.replacePathsInStackTrace(r),i=!0);let s=e.replVariables.createVariableForOutput(r,n,i?this.stackTrace(e):void 0);return{output:r,variablesReference:s.id}}},_H=class extends su{async toDap(e){var r;return((r=this.event.args[0])==null?void 0:r.value)==="console.assert"&&(this.event.args[0].value=tO.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},ou=class extends su{constructor(r,n,i){super(r);this.includeStack=n;this.category=i}async toDap(r){return{category:this.category,...await this.formatDefaultString(r,this.event.args,this.includeStack),...await this.getUiLocation(r)}}},Bo=class extends ou{constructor(e){super(e,!1,"stdout")}},wH=class extends ou{constructor(e){super(e,!0,"stdout")}},AH=class extends ou{constructor(e){super(e,!0,"stderr")}},IH=class extends ou{constructor(e){super(e,!0,"stderr")}},SH=class extends su{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},EH=class extends ou{constructor(e){super(e,!1,"stdout")}async toDap(e){var r;return(r=this.event.args[0])!=null&&r.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var nh=class extends su{constructor(){super(...arguments);this.stackTrace=$e(r=>{if(this.event.stackTrace)return cn.fromRuntime(r,this.event.stackTrace);if(this.event.scriptId)return cn.fromRuntime(r,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(r){var a;let n=this.event.exception?ru(this.event.exception):{title:""},i=n.title;i.startsWith("Uncaught")||(i=`Uncaught ${((a=this.event.exception)==null?void 0:a.className)??"Error"} `+i);let s=this.stackTrace(r),o=this.event.exception&&!n.stackTrace?[this.event.exception]:[];return $o.isStackLike(i)?i=await r.replacePathsInStackTrace(i):s&&(i+=`
`+await s.formatAsNative()),{category:"stderr",output:i,variablesReference:s||o.length?r.replVariables.createVariableForOutput(i,o,s).id:void 0,...await this.getUiLocation(r)}}};var xH=Symbol("IConsole");var oh=B(ce());var rO=B(ce());var Fo=Symbol("IShutdownParticipants"),dl=class{constructor(){this.participants=[]}register(e,r){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return r(),Yc;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(r),{dispose:()=>this.participants[e].delete(r)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};dl=K([(0,rO.injectable)()],dl);var sh=class{toDap(){return{category:"console",output:"\x1B[2J"}}},CH=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var LH=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new z;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new pA(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(r=>r.value===iO);e===0?await this.q[0].wait:e===-1?(this.sink(nO(this.q)),this.q=[]):(this.sink(nO(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},nO=t=>t.map(e=>e.value).filter(e=>e!==sO),iO=Symbol("unsettled"),sO=Symbol("unsettled"),pA=class{constructor(e){this.value=iO;e instanceof Promise?this.wait=e.then(r=>{this.value=r},()=>{this.value=sO}):(this.value=e,this.wait=Promise.resolve())}};var yee=new Set(["group","assert","count"]),ml=class{constructor(e,r){this.dap=e;this.isDirty=!1;this.queue=new LH(e=>{for(let r of e)this.dap.output(r)});this.onDrained=this.queue.onDrained;r.register(0,async()=>{this.length&&await new Promise(n=>this.onDrained(n)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,r){let n=this.parse(r);n&&this.enqueue(e,n)}enqueue(e,r){if(!(r instanceof sh))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(r.toDap(e))}parse(e){var r;if(e.type==="log"){let n=(r=e.stackTrace)==null?void 0:r.callFrames[0];if(n&&n.url==="internal/console/constructor.js"&&yee.has(n.functionName))return}switch(e.type){case"clear":return new sh;case"endGroup":return new CH;case"assert":return new _H(e);case"table":return new EH(e);case"startGroup":case"startGroupCollapsed":return new SH(e);case"debug":case"log":case"info":return new Bo(e);case"trace":return new wH(e);case"error":return new IH(e);case"warning":return new AH(e);case"dir":case"dirxml":return new Bo(e);case"count":return new Bo(e);case"profile":case"profileEnd":return new Bo(e);case"timeEnd":return new Bo(e);default:try{Sm(e.type,"unknown console message type")}catch{}}}};ml=K([(0,oh.injectable)(),E(0,(0,oh.inject)(_n)),E(1,(0,oh.inject)(Fo))],ml);var au=B(ce()),uO=require("os"),cO=require("path");var fA=require("path"),oO=(0,fA.join)(__dirname,"diagnosticTool.js"),aO=(0,fA.join)(__dirname,"diagnosticTool.css");var Uo=Symbol("ITarget"),Tr=Symbol("ILauncher");var jo=class{constructor(e,r,n,i){this.fs=e;this.sources=r;this.breakpoints=n;this.target=i}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,cO.join)((0,uO.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(aO,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(oO,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let r of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let n of r.values())for(let i of n){let s=i.diagnosticDump();e.push({source:s.source,params:s.params,cdp:s.cdp.map(o=>o.state===1?{...o,uiLocations:o.uiLocations.map(a=>this.dumpUiLocation(a))}:{...o,done:void 0})})}return e}dumpSources(){let e=[],r=0;for(let n of this.sources.sources)e.push((async()=>({uniqueId:r++,url:n.url,sourceReference:n.sourceReference,absolutePath:n.absolutePath,actualAbsolutePath:await n.existingAbsolutePath(),scriptIds:n.scripts.map(i=>i.scriptId),prettyName:await n.prettyName(),compiledSourceRefToUrl:n instanceof Bt?[...n.compiledToSourceUrl.entries()].map(([i,s])=>[i.sourceReference,s]):void 0,sourceMap:n.sourceMap&&{url:n.sourceMap.url,metadata:n.sourceMap.metadata,sources:Hs(Object.fromEntries(n.sourceMap.sourceByUrl),i=>i.sourceReference)}}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};jo=K([(0,au.injectable)(),E(0,(0,au.inject)(nt)),E(1,(0,au.inject)(Jt)),E(2,(0,au.inject)(Cn)),E(3,(0,au.inject)(Uo))],jo);var qo=B(ce());var Hl=Symbol("IExceptionPauseService");var gl=class{constructor(e,r,n,i,s){this.evaluator=e;this.scriptSkipper=r;this.dap=n;this.sourceContainer=s;this.state={cdp:"none"};this.blocker=je();this.noDebug=!!i.noDebug,this.breakOnError=i.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(r){if(!(r instanceof ee))throw r;this.dap.output({category:"stderr",output:r.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=je())}}async shouldPauseAt(e){var n;if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||this.shouldScriptSkip(e))return!1;let r=this.state.condition;if((n=e.data)!=null&&n.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,r){let n=await r({callFrameId:e.callFrames[0].callFrameId},{error:e.data});return!!(n!=null&&n.result.value)}shouldScriptSkip(e){var n;if((n=e.data)!=null&&n.uncaught||!e.callFrames.length)return!1;let r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){let r=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),n="none",i=[],s=[];for(let{filterId:a,condition:u}of r)a==="all"?(n="all",u&&i.push(a)):a==="uncaught"&&(n==="none"&&(n="uncaught"),u&&s.push(a));let o=a=>{if(a.length===0)return;let u="!!("+r.map(p=>p.condition).filter(gr).join(") || !!(")+")",c=ho(u);if(c)throw new ee(uo({line:0,condition:u},c.message));let l=this.breakOnError?X0(u):u;return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return n==="none"?{cdp:n}:{cdp:n,condition:{caught:o(i),uncaught:o(s)}}}};gl=K([(0,qo.injectable)(),E(0,(0,qo.inject)(Sn)),E(1,(0,qo.inject)(Ao)),E(2,(0,qo.inject)(_n)),E(3,(0,qo.inject)(qe)),E(4,(0,qo.inject)(Jt))],gl);var TH=B(ce());var PH=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let r=await e.Performance.getMetrics({});if(!r)return{error:"Error in CDP"};let n={};for(let i of r.metrics)n[i.name]=i.value;return{metrics:n}}};var DH=class{async retrieve(e){let r=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${Ht()}`,returnByValue:!0});return r?r.exceptionDetails?{error:r.exceptionDetails.text}:{metrics:r.result.value}:{error:"No response from CDP"}}};var $H=Symbol("IPerformanceProvider"),uu=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new DH:new PH}};uu=K([(0,TH.injectable)(),E(0,(0,TH.inject)(Uo))],uu);var yA=B(Lt()),hO=require("crypto"),Wo=B(ce()),dO=require("os"),mO=require("path");var kH=B(ce());var hA=B(Lt()),cu=B(ce()),MH=require("path");var yl=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let r=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),n=this.locationsByRef.get(r);if(n)return n.id;let i=this.locationIdCounter++;return this.locationsByRef.set(r,{id:i,callFrame:e,locations:(async()=>{var o;let s=await((o=this.sources.getScriptById(e.scriptId))==null?void 0:o.source);return s?Promise.all(this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:s}).map(async a=>({...a,source:await a.source.toDapShallow()}))):[]})()}),i}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,r)=>e.id-r.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var Zt=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(!await this.cdp.Profiler.start({}))throw new ee(gc());return new dA(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}async save(e,r){let n=await lO(e,this.sources,this.launchConfig.__workspaceFolder);(0,MH.isAbsolute)(r)||(r=(0,MH.join)(this.launchConfig.__workspaceFolder,r)),await this.fs.writeFile(r,JSON.stringify(n))}};Zt.type="cpu",Zt.extension=".cpuprofile",Zt.label=hA.t("CPU Profile"),Zt.description=hA.t("Generates a .cpuprofile file you can open in the Chrome devtools"),Zt.editable=!0,Zt=K([(0,cu.injectable)(),E(0,(0,cu.inject)(yt)),E(1,(0,cu.inject)(nt)),E(2,(0,cu.inject)(Jt)),E(3,(0,cu.inject)(qe))],Zt);var dA=class{constructor(e,r,n,i,s){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=s;this.stopEmitter=new z;this.disposed=!1;this.onUpdate=new z().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new ee(gc());await this.dispose();let r=await lO(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(r))}};async function lO(t,e,r){let n=new yl(e),i=t.nodes.map(s=>{var o;return{...s,locationId:n.getLocationIdFor(s.callFrame),positionTicks:(o=s.positionTicks)==null?void 0:o.map(a=>({...a,startLocationId:n.getLocationIdFor({...s.callFrame,lineNumber:a.line-1,columnNumber:0}),endLocationId:n.getLocationIdFor({...s.callFrame,lineNumber:a.line,columnNumber:0})}))}});return{...t,nodes:i,$vscode:{rootPath:r,locations:await n.getLocations()}}}var mA=B(Lt()),lu=B(ce());var ln=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new ee(gc());return new gA(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}};ln.type="heap",ln.extension=".heapprofile",ln.label=mA.t("Heap Profile"),ln.description=mA.t("Generates a .heapprofile file you can open in the Chrome devtools"),ln.editable=!0,ln=K([(0,lu.injectable)(),E(0,(0,lu.inject)(yt)),E(1,(0,lu.inject)(nt)),E(2,(0,lu.inject)(Jt)),E(3,(0,lu.inject)(qe))],ln);var gA=class{constructor(e,r,n,i,s){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=s;this.stopEmitter=new z;this.disposed=!1;this.onUpdate=new z().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new ee(gc());await this.dispose();let r=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(r))}async annotateSources(e){let r=new yl(this.sources),n=(s,o)=>{o.locationId=r.getLocationIdFor(s.callFrame);for(let a of s.children){let u={...a,children:[]};o.children.push(u),n(a,u)}},i={...e.head,children:[]};return n(e.head,i),{...e,head:i,$vscode:{rootPath:this.workspaceFolder,locations:await r.getLocations()}}}};var HA=B(Lt()),pO=require("fs"),RH=B(ce());var pn=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:r})=>{var n;return(n=this.currentWriter)==null?void 0:n.stream.write(r)})}static canApplyTo(){return!0}async start(e,r){return{onStop:new z().event,onUpdate:new z().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(r),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:r,promise:n}=this.currentWriter={stream:(0,pO.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await n,r.end(),this.currentWriter=void 0}};pn.type="memory",pn.extension=".heapsnapshot",pn.label=HA.t("Heap Snapshot"),pn.description=HA.t("Generates a .heapsnapshot file you can open in the Chrome devtools"),pn.instant=!0,pn=K([(0,RH.injectable)(),E(0,(0,RH.inject)(yt))],pn);var OH=Symbol("IProfilerFactory"),fO=()=>{let t=new Date;return["vscode-profile",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},Ps=class{constructor(e){this.container=e}get(e){let r=Ps.ctors.find(n=>n.type===e);if(!r)throw new Error(`Invalid profilter type ${e}`);return this.container.get(r)}};Ps.ctors=[Zt,ln,pn],Ps=K([(0,kH.injectable)(),E(0,(0,kH.inject)(Oc))],Ps);var NH=Symbol("IProfileController"),vl=class{constructor(e,r,n,i,s){this.cdp=e;this.factory=r;this.basicCpuProfiler=n;this.breakpoints=i;this.shutdown=s;this.seenConsoleProfileNames=Object.create(null)}connect(e,r){e.on("startProfile",async n=>(await this.start(e,r,n),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:yA.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async n=>{let i=this.saveConsoleProfile(e,n),s=this.shutdown.register(0,()=>i);await i,s.dispose()}),r.onPaused(()=>this.stopProfiling(e))}async start(e,r,n){if(this.profile)throw new ee(uT());this.profile=this.startProfileInner(e,r,n).catch(i=>{throw this.profile=void 0,i}),await this.profile}async saveConsoleProfile(e,r){var i;let n;if(r.title){n=(i=r.title)==null?void 0:i.replace(/[\/\\]/g,"-");let s=this.seenConsoleProfileNames[r.title]||0;this.seenConsoleProfileNames[r.title]=s+1,s>0&&(n+=`-${s}`)}else n=fO();n+=Zt.extension,await this.basicCpuProfiler.save(r.profile,n),e.output({output:yA.t('CPU profile saved as "{0}" in your workspace folder',n)+`
`,category:"console"})}async startProfileInner(e,r,n){var l;let i=!1,s;if((l=n.stopAtBreakpoint)!=null&&l.length){let p=new Set(n.stopAtBreakpoint);i=!0,s=f=>!(f instanceof En)||p.has(f.dapId)}else s=()=>!1;await this.breakpoints.applyEnabledFilter(s);let o=(0,mO.join)((0,dO.tmpdir)(),`vscode-js-profile-${(0,hO.randomBytes)(4).toString("hex")}`),a=await this.factory.get(n.type).start(n,o),u={file:o,profile:a,enableFilter:s,keptDebuggerOn:i};a.onUpdate(p=>e.profilerStateUpdate({label:p,running:!0})),a.onStop(()=>this.disposeProfile(u));let c=!!r.pausedDetails();return i?await r.resume():c&&(await this.cdp.Debugger.disable({}),c&&r.onResumed()),e.profileStarted({file:u.file,type:n.type}),u}async stopProfiling(e){var n;let r=await((n=this.profile)==null?void 0:n.catch(()=>{}));return!r||!this.profile?{}:(this.profile=void 0,await(r==null?void 0:r.profile.stop()),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:r,keptDebuggerOn:n}){n||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,r),e.dispose()}};vl=K([(0,Wo.injectable)(),E(0,(0,Wo.inject)(yt)),E(1,(0,Wo.inject)(OH)),E(2,(0,Wo.inject)(Zt)),E(3,(0,Wo.inject)(Cn)),E(4,(0,Wo.inject)(Fo))],vl);var HO=B(ce());var gO=(t,e,r)=>{e=e.toLowerCase();let n=t==null?void 0:t[e];return{...t,[e]:n?n instanceof Array?n.concat(r):[n,r]:r}};var Vo=class{constructor(){this.cdp=[]}attach(e){return this.cdp.push({cdp:e,enabledNetwork:!1}),{dispose:()=>{this.cdp=this.cdp.filter(r=>r.cdp!==e)}}}async apply(e,r){let n=this.cdp[0];return n&&(r=await this.applyCookies(n,e,r)),r}async applyCookies(e,r,n){var s;e.enabledNetwork||(e.enabledNetwork=!0,await e.cdp.Network.enable({}));let i=await e.cdp.Network.getCookies({urls:[r]});return(s=i==null?void 0:i.cookies)!=null&&s.length?gO(n,"Cookie",i.cookies.sort((o,a)=>o.path.length-a.path.length).map(o=>`${o.name}=${o.value}`).join("; ")):n}};Vo=K([(0,HO.injectable)()],Vo);var es=B(ce());var jB=B(vO()),qB=require("dns"),dy=B(UB()),hu=B(ce());var hy=Symbol("IRequestOptionsProvider");var Jo=class{constructor(e,r){this.fs=e;this.options=r;this.autoLocalhostPortFallbacks={}}async fetch(e,r=vr,n){try{let s=(0,jB.default)(e);return{ok:!0,url:e,body:s.toString("utf-8"),statusCode:200}}catch{}let i=yr(e)?e:st(e);if(i)try{return{ok:!0,url:e,body:await this.fs.readFile(i,"utf-8"),statusCode:200}}catch(s){return{ok:!1,url:e,error:s,statusCode:200}}return this.fetchHttp(e,r,n)}async fetchJson(e,r,n){let i=await this.fetch(e,r,{Accept:"application/json",...n});if(!i.ok)return i;try{return{...i,body:JSON.parse(i.body)}}catch(s){return{...i,ok:!1,url:e,error:s}}}async fetchHttp(e,r,n){var p;let i=new URL(e),s=i.protocol!=="http:",o=Number(i.port)??(s?443:80),a={headers:n,followRedirect:!0};s&&await Lc(e)&&(a.rejectUnauthorized=!1),(p=this.options)==null||p.provideOptions(a,e);let u=i.hostname==="localhost";if(u&&this.autoLocalhostPortFallbacks[o]){let f=await this.requestHttp(i.toString(),a,r);return f.statusCode!==503?f:(delete this.autoLocalhostPortFallbacks[o],this.requestHttp(e,a,r))}let l=await this.requestHttp(e,a,r);if(l.statusCode===503&&u){let f;try{f=await qB.promises.lookup(i.hostname)}catch{return l}i.hostname=f.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(i.toString(),a,r),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[o]=i.hostname)}return l}async requestHttp(e,r,n){var s,o,a;(s=this.options)==null||s.provideOptions(r,e);let i=new ze;try{let u=(0,dy.default)(e,r);i.push(n.onCancellationRequested(()=>u.cancel()));let c=await u;return{ok:!0,url:e,body:c.body,statusCode:c.statusCode}}catch(u){if(!(u instanceof dy.RequestError))throw u;let c=u.response?String((o=u.response)==null?void 0:o.body):u.message,l=((a=u.response)==null?void 0:a.statusCode)??503;return{ok:!1,body:c,statusCode:l,url:e,error:new Um(l,e,c)}}finally{i.dispose()}}};Jo=K([(0,hu.injectable)(),E(0,(0,hu.inject)(nt)),E(1,(0,hu.optional)()),E(1,(0,hu.inject)(hy))],Jo);var du=class extends Jo{constructor(r,n,i,s){super(r,s);this.state=n;this.disposables=new ze;i&&this.disposables.push(this.state.attach(i))}dispose(){this.disposables.dispose()}async fetchHttp(r,n,i={}){let s=await super.fetchHttp(r,n,i);if(!s.ok){let o=await this.state.apply(r,i);if(o!==i)return await super.fetchHttp(r,n,o)}return s}};du=K([(0,es.injectable)(),E(0,(0,es.inject)(nt)),E(1,(0,es.inject)(Vo)),E(2,(0,es.optional)()),E(2,(0,es.inject)(yt)),E(3,(0,es.optional)()),E(3,(0,es.inject)(hy))],du);var Qo=B(ce()),GB=B(kf());var Yo="node:";function VB(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(n.startsWith("!")){let i=WB(n.slice(1));for(let s=0;s<e.length;s++)e[s]=`^(?!${i.slice(1)})${e[s].slice(1)}`}else e.push(WB(n))}return e.map(r=>new RegExp(r,"i"))}function WB(t){let e=t.split("/"),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i==="**")n===0?r.push("(.+/)?"):n===e.length-1||r.push(".*/");else{if(i.includes("*")){let s=i.split("*");r.push(s.map(o=>Lr(o)).join("[^\\/]*"))}else r.push(Lr(i));r.push(n<e.length-1?"\\/":"$")}}return`^${r.join("")}`}function wne(t){let e=/^<node_internals>[\/\\](.*)$/,r=t.map(n=>{n=n.trim();let i=e.exec(n);return i?i[1]:null}).filter(gr);return r.length>0?r:void 0}function Ane(t,e){return e.filter(n=>!n.includes("<node_internals>")).map(n=>yr(n)?gg(t.rebaseLocalToRemote(n)):ft(n)).map(fg)}var ts=class{constructor({skipFiles:e},r,n,i,s){this.logger=n;this.cdp=i;this._regexForAuthored=oD(VB);this._scriptsWithSkipping=new Set;this._targetId=s.id(),this._rootTargetId=KB(s).id(),this._isUrlFromSourceMapSkipped=new Oi(o=>this._normalizeUrl(o)),this._authoredGlobs=Ane(r,e),this._nodeInternalsGlobs=wne(e),this._initNodeInternals(s),this._updateSkippedDebounce=uD(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),ts.sharedSkipsEmitter.event(o=>{o.rootTargetId===this._rootTargetId&&o.targetId!==this._targetId&&this._toggleSkippingFile(o.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(Yo)&&(e=e.slice(Yo.length)),(0,GB.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(r=>r.test(e))}_isNodeInternal(e,r){return e.startsWith(Yo)?!0:(r==null?void 0:r.has(e))||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){var n;let e=this._regexForAuthored(this._authoredGlobs).map(i=>i.source),r=(n=this._allNodeInternals)==null?void 0:n.settledValue;if(r){e.push(`^(${Yo})?internal\\/`);for(let i of r)this._testSkipNodeInternal(i)&&e.push(`^(${Yo})?${Lr(i)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return ft(e.toLowerCase())}isScriptSkipped(e){var r;return this._isNodeInternal(e,(r=this._allNodeInternals)==null?void 0:r.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,r){let n=this.isScriptSkipped(e.url),i=[],s=n;Array.from(e.sourceMap.sourceByUrl.values()).forEach(a=>{let u=this.isScriptSkipped(a.url);if(typeof u>"u"&&(u=n),u!==s){let c=this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e);c[0]?(i.push({lineNumber:c[0].lineNumber-1,columnNumber:c[0].columnNumber-1}),s=!s):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}});let o=r;i.length||(o=o.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),o.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),await Promise.all(o.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:i})))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,r=e.scripts){let n=e.url,i=this.isScriptSkipped(n);if(!i&&e.absolutePath&&this._testSkipAuthored(Ve(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(n,!0),i=!0,this._updateSkippedDebounce()),Pr(e)){if(i)for(let s of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,!0);for(let s of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(s,r);this._updateSourceWithSkippedSourceMappedSources(e,r)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let r=this._allNodeInternals=je(),n=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+Ht(),returnByValue:!0,includeCommandLineAPI:!0});n&&!n.exceptionDetails?r.resolve(new Set(n.result.value.map(i=>i+".js"))):r.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let r;e.resource&&yr(e.resource)&&(r=e.resource);let n={path:r,sourceReference:e.sourceReference},i=this._sourceContainer.source(n);if(!i)return{};let s=!this.isScriptSkipped(i.url);if(i instanceof Bt){this._isUrlFromSourceMapSkipped.set(i.url,s);let o=Array.from(i.compiledToSourceUrl.keys());await Promise.all(o.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(Pr(i))for(let o of i.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,s);this.setIsUrlBlackboxSkipped(i.url,s),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,r){let n=e,i=`!${n}`,s=this._authoredGlobs.filter(o=>o!==n&&o!==i);this._regexForAuthored(s).some(o=>o.test(e))!==r&&(s.push(r?n:i),this._regexForAuthored.clear()),this._authoredGlobs=s}async toggleSkippingFile(e){let r=await this._toggleSkippingFile(e);return ts.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),r}};ts.sharedSkipsEmitter=new z,ts=K([(0,Qo.injectable)(),E(0,(0,Qo.inject)(qe)),E(1,(0,Qo.inject)(Ze)),E(2,(0,Qo.inject)(pe)),E(3,(0,Qo.inject)(yt)),E(4,(0,Qo.inject)(Uo))],ts);function KB(t){let e=t.parent();return e?KB(e):t}var Hh=B(ce());var zB=require("path");var XB=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,Ine=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,$l=Symbol("IVueFileMapper");var Tl=class{constructor(e,r){this.files=e;this.search=r;this.getMapping=$e(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,r=>e.set((0,zB.basename)(r),r)),e})}async lookup(e){let r=XB.exec(e);return r?(await this.getMapping()).get(r[1]):void 0}getVueHandling(e){return this.files.empty?0:XB.test(e)?1:Ine.test(e)?2:0}};Tl=K([(0,Hh.injectable)(),E(0,(0,Hh.inject)(ys)),E(1,(0,Hh.inject)($c))],Tl);var rs=class{constructor(){this.changeEmitter=new z;this.addEmitter=new z;this.removeEmitter=new z;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,r){this.targetMap.set(e,r),this.addEmitter.fire([e,r]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let r=this.targetMap.get(e);return r===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,r]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var _2=B(y2()),wy=B(ce());var v2=require("child_process"),ks=class extends Error{constructor(r,n,i,s,o){super(`${r} exited with code ${s||-1}: ${n}`);this.command=r;this.stderr=n;this.stdout=i;this.code=s;this.innerError=o}static fromExeca(r){return new ks(r.command,r.stderr.toString(),r.stdout.toString(),r.exitCode)}};function _y(t,e,r){return new Promise((n,i)=>{let s=(0,v2.spawn)(t,e,{...r,stdio:"pipe"}),o=[],a=[];s.stderr.on("data",c=>o.push(c)),s.stdout.on("data",c=>a.push(c));let u=(c,l)=>i(new ks(t,Buffer.concat(o).toString(),Buffer.concat(a).toString(),c,l));s.on("error",c=>u(void 0,c)),s.on("close",c=>c?u(c):n({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(o).toString()}))})}var Cie=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),b2=t=>{t=t.toLowerCase();for(let[e,r]of Cie.entries())if(t.includes(e))return r},w2=Symbol("IDefaultBrowserProvider"),kl=class{constructor(e,r=process.platform){this.execa=e;this.platform=r;this.lookup=$e(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,_2.default)();return b2(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw ks.fromExeca(e);let r=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(r)return b2(r[1])}};kl=K([(0,wy.injectable)(),E(0,(0,wy.inject)(xf))],kl);var I2=B(ce()),Iy=B(require("os"));var Ay=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var jI=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},$n=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new jI}static async test(){let e=new $n;return e.setup({sinks:[new Ay],showWelcome:!1}),e}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let r of this.logTarget.sinks)r.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(n=>n.setup())),e.showWelcome!==!1){let n=Lie();for(let i of e.sinks)i.write(n)}let r=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in r?r.sinks.forEach(n=>n.dispose()):r.queue.forEach(n=>this.log(n))}};$n.null=(()=>{let e=new $n;return e.setup({sinks:[]}),e})(),$n=K([(0,I2.injectable)()],$n);var Lie=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${Cm} v${Qp} started`,metadata:{os:`${Iy.platform()} ${Iy.arch()}`,nodeVersion:process.version,adapterVersion:Qp}});var Ch=Symbol("MutableLaunchConfig"),S2=t=>{let e=new z;return new Proxy({},{ownKeys(){return Object.keys(t)},get(r,n){switch(n){case"update":return i=>{t=i,e.fire()};case"onChange":return e.event;default:return t[n]}}})};var Qq=B(Jq()),gv=B(ce());var Zl=Symbol("touched"),pa;(u=>{function t(){return{children:{},[Zl]:1}}u.root=t;function e(c,l){return a(c,o(l),0)}u.getPath=e;function r(c){c[Zl]=1}u.touch=r;function n(c){c[Zl]=2}u.touchAll=n;function i(c,l){let p=c.children[l]??={children:{}};return p[Zl]=1,p}u.getOrMakeChild=i;function s(c){if(c[Zl]){for(let[l,p]of Object.entries(c.children))switch(p[Zl]){case 1:s(p);break;case 2:break;default:delete c.children[l]}return c}}u.prune=s;function o(c){let l=c.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(c,l,p){let f=i(c,l[p]);return p===l.length-1?f:a(f,l,p+1)}})(pa||={});var BE=require("fs"),FE=B(kf()),Lu=require("path"),Yq=B(OE());var ype=/\//g,mv=class{constructor(e){this.stat=$a(e=>BE.promises.lstat(e));this.readdir=$a(e=>BE.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new z;this.onFile=this.fileEmitter.event;this.errorEmitter=new z;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(i=>FE.default.matcher((0,Yq.default)(ft(i),{cwd:e.cwd})));let r=(0,Lu.isAbsolute)(e.pattern)?(0,Lu.relative)(e.cwd,e.pattern):e.pattern,n=FE.default.parse(ft(r),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(n.map(i=>{let s=[];for(let c=1;c<i.tokens.length;){let l=c+1;for(;l<i.tokens.length&&i.tokens[l].type!=="slash";)l++;let p=i.tokens[c];p.type==="globstar"?s.push("**"):l===c+1&&p.type==="text"?s.push(p.value):s.push(new RegExp("^"+i.tokens.slice(c,l).map(f=>f.output||f.value).join("")+"$")),c=l+1}let o=s[0]==="**"?[0,1]:[0],a=pa.getPath(e.cache,e.cwd),u={elements:s,seen:new Set};return Promise.all(o.map(c=>this.readSomething(u,c,e.cwd,a)))})).then(()=>{})}async readSomething(e,r,n,i){if(this.alreadyProcessedFiles.has(i))return;let s=`${r}:${n}`;if(e.seen.has(s))return;e.seen.add(s);let o;try{o=await this.stat(n)}catch(u){this.errorEmitter.fire({path:n,error:u});return}if(this.alreadyProcessedFiles.has(i))return;let a=i.data;if(a&&o.mtimeMs===a.mtime){if(a.type===0){let u=[];for(let[c,l]of Object.entries(i.children))u.push(l.data!==void 0?this.handleDirectoryEntry(e,r,n,{name:c,type:l.data.type},i):this.stat(n).then(p=>this.handleDirectoryEntry(e,r,n,{name:c,type:p.isFile()?1:0},i),()=>{}));await Promise.all(u)}else a.type===1&&(this.alreadyProcessedFiles.add(i),this.fileEmitter.fire(a.extracted));return}o.isDirectory()?await this.handleDir(e,r,o.mtimeMs,n,i):(this.alreadyProcessedFiles.add(i),await this.handleFile(o.mtimeMs,n,i))}applyFilterToFile(e,r,n){var o;let i=n.children[e];if(this.alreadyProcessedFiles.has(i))return!1;if(!this.filter)return!0;let s=((o=i.data)==null?void 0:o.type)===1?i.data.extracted:void 0;return pa.touch(i),this.filter(r,s)}handleDirectoryEntry(e,r,n,i,s){let o=n+"/"+i.name,a=this.getDirectoryReadDescends(e,r,n,i);if(a===void 0)return;let u=pa.getOrMakeChild(s,i.name);if(!(i.type===1&&!this.applyFilterToFile(i.name,o,s)))return typeof a=="number"?this.readSomething(e,r+a,o,u):Promise.all(a.map(c=>this.readSomething(e,r+c,o,u)))}getDirectoryReadDescends(e,r,n,i){let s=n+"/"+i.name;if(this.ignore.some(u=>u(s)))return;let o=r===e.elements.length-1,a=e.elements[r];if(a==="**")return i.type===1?o?0:this.getDirectoryReadDescends(e,r+1,n,i):o?0:[0,1];if((a instanceof RegExp&&a.test(i.name)||a===i.name)&&(i.type===0?!o:o))return 1}async handleFile(e,r,n){let i=Lu.sep==="/"?r:r.replace(ype,Lu.sep),s;try{s=await this.processor(i)}catch(o){this.errorEmitter.fire({path:i,error:o});return}n.data={type:1,mtime:e,extracted:s},this.fileEmitter.fire(s)}async handleDir(e,r,n,i,s){let o;try{o=await this.readdir(i)}catch(u){this.errorEmitter.fire({path:i,error:u});return}let a=[];for(let u of o){if(u.name.startsWith("."))continue;let c;if(u.isDirectory())c=0;else if(u.isFile())c=1;else continue;a.push(this.handleDirectoryEntry(e,r,i,{name:u.name,type:c},s))}await Promise.all(a),s.data={type:0,mtime:n}}};var ep=class{constructor(e){this.logger=e}async streamAllChildren(e,r){let n=[];return await this.globForFiles(e,s=>n.push(r(_t(s.path)))),(await Promise.all(n)).filter(s=>s!==void 0)}async streamChildrenWithSourcemaps(e){let r=[],n=e.lastState||{},i={};return await Promise.all([...e.files.explode()].map(async o=>{let a=JSON.stringify(o),u=n[a]||pa.root();await this._streamChildrenWithSourcemaps(u,e,r,o);let c=pa.prune(u);c&&(i[a]=c)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${r.length} files`),{values:(await Promise.all(r)).filter(gr),state:i}}async _streamChildrenWithSourcemaps(e,r,n,i){let s=new mv({pattern:i.pattern,ignore:i.negations,cwd:i.cwd,cache:e,filter:r.filter,fileProcessor:o=>B$(o).then(a=>a&&r.processMap(a))});s.onError(({path:o,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:o})}),s.onFile(o=>o&&n.push(r.onProcessedMap(o))),await s.done}async globForFiles(e,r){await Promise.all([...e.explode()].map(n=>new Promise((i,s)=>(0,Qq.default)([n.pattern,"!**/*.asar/**"],{ignore:n.negations,matchBase:!0,cwd:n.cwd}).on("data",r).on("finish",i).on("error",s))))}};ep=K([(0,gv.injectable)(),E(0,(0,gv.inject)(pe))],ep);var xv=B(Lt()),ma=B(ce());var Zq=require("url"),e8=B(require("path"));var Hv=class{constructor(){this._onFrameAddedEmitter=new z;this._onFrameRemovedEmitter=new z;this._onFrameNavigatedEmitter=new z;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,r){e.Page.enable({}),e.Page.getResourceTree({}).then(n=>{this._processCachedResources(e,n?n.frameTree:void 0,r)})}mainFrame(){return this._mainFrame}_processCachedResources(e,r,n){r&&this._addFramesRecursively(e,r,r.frame.parentId,n),e.Page.on("frameAttached",i=>{this._frameAttached(e,n,i.frameId,i.parentFrameId)}),e.Page.on("frameNavigated",i=>{this._frameNavigated(e,n,i.frame)}),e.Page.on("frameDetached",i=>{this._frameDetached(e,n,i.frameId)})}_addFrame(e,r,n){let i=new jE(this,e,r,n);return this._frames.set(i.id,i),i.isMainFrame()&&(this._mainFrame=i),this._onFrameAddedEmitter.fire(i),i}_frameAttached(e,r,n,i){let s=this._frames.get(n);return s||(s=this._addFrame(e,n,i)),s._ref(r),s}_frameNavigated(e,r,n){let i=this._frames.get(n.id);i||(i=this._frameAttached(e,r,n.id,n.parentId)),i._navigate(n,r),this._onFrameNavigatedEmitter.fire(i)}_frameDetached(e,r,n){let i=this._frames.get(n);i&&i._unref(r)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,r,n,i){let s=r.frame,o=this._frames.get(s.id);o?(o._navigate(s,i),this._onFrameNavigatedEmitter.fire(o)):(o=this._addFrame(e,s.id,n),o._navigate(s,i));for(let a=0;r.childFrames&&a<r.childFrames.length;++a)this._addFramesRecursively(e,r.childFrames[a],o.id,i)}},jE=class{constructor(e,r,n,i){this._targets=new Set;this.cdp=r,this.model=e,this._parentFrameId=i,this.id=n,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,r){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(r),this._unrefChildFrames(r)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let r of this.childFrames())r._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:vpe(this._url)||`<iframe ${this.id}>`}};function UE(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function vpe(t){let e;try{e=new Zq.URL(t)}catch{return UE(t,20)}if(e.protocol==="data")return UE(t,20);if(e.protocol==="blob"||t==="about:blank")return t;let r=e8.basename(e.pathname);return r||(r=(e.host||"")+"/"),r==="/"&&(r=UE(t,20)),r}var t8=require("url"),qE=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},WE=class{constructor(e,r){this.revisions=[];this.registration=e,this.id=r.versionId,this.scriptURL=r.scriptURL,this._targetId=r.targetId,this._status=r.status,this._runningStatus=r.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new t8.URL(this.registration.scopeURL),r=e.pathname.substr(1);r.endsWith("/")&&(r=r.substring(0,r.length-1));let n=r||`${e.host}`,i=this._status==="activated"?"":` ${this._status}`,s=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${n} #${this.id}${i}${s}`}},fa=class{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new z;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,fa._instances.add(this)}dispose(){fa._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",r=>this._workerRegistrationsUpdated(r.registrations)),e.ServiceWorker.on("workerVersionUpdated",r=>this._workerVersionsUpdated(r.versions)),fa._mode!=="normal"&&this.setMode(fa._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],r=this._frameModel.frames().map(n=>n.url());for(let n of this._registrations.values())for(let i of r)if(i.startsWith(n.scopeURL)){e.push(n);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let r of e){let n=this._registrations.get(r.registrationId);if(!n)continue;let i=n.versions.get(r.versionId);i||(i=new WE(n,r),n.versions.set(r.versionId,i)),r.targetId&&this._versions.set(r.targetId,i),i.addRevision(r),i.status()==="redundant"&&i.runningStatus()==="stopped"&&(r.targetId&&this._versions.delete(r.targetId),n.versions.delete(i.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let r of e)if(r.isDeleted){if(!this._registrations.has(r.registrationId))debugger;this._registrations.delete(r.registrationId)}else{if(this._registrations.has(r.registrationId))return;this._registrations.set(r.registrationId,new qE(r))}this._onDidChangeUpdater.fire()}static setModeForAll(e){fa._mode=e;for(let r of fa._instances)r.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let r of this._targets.values())e==="bypass"?(r.Network.enable({}),r.Network.setBypassServiceWorker({bypass:!0})):r.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let r=this.version(e);r&&await this._cdp.ServiceWorker.stopWorker({versionId:r.id})}},ad=fa;ad._instances=new Set;var ha=class{constructor(e,r,n,i,s,o,a,u){this.process=r;this.logger=s;this.telemetry=o;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new Hv;this.serviceWorkerModel=new ad(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new z;this._onTargetRemovedEmitter=new z;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=i,this._browser=n,this._targetOrigin=u,this.serviceWorkerModel.onDidChange(()=>{for(let c of this._targets.values())c.type()==="service_worker"&&c._onNameChangedEmitter.fire()})}static async connect(e,r,n,i,s,o,a){let c=await e.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=e.createSession(c.sessionId);return new this(e,r,l,n,s,o,i,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>wf.has(e.type()))}async getCandiateInfo(e){let r=await this._browser.Target.getTargets({});return r?e?r.targetInfos.filter(e):r.targetInfos:[]}async closeBrowser(){var e;if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),(e=this.process)==null||e.kill();else for(let r of this._targets.values())await this._browser.Target.closeTarget({targetId:r.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let r,n=new Promise(s=>r=s),i=async s=>{if([...this._targets.values()].some(u=>u.targetId===s.targetId)||this._detachedTargets.has(s.targetId)||e&&!e(s))return;let o=this._browser.Target.on("targetInfoChanged",u=>{u.targetInfo.targetId===s.targetId&&(s=u.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:s.targetId,flatten:!0})}finally{o.dispose()}if(!a){r(void 0);return}r(this.attachedToTarget(s,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(s=>i(s.targetInfo))),this._browser.Target.on("targetInfoChanged",s=>this._targetInfoChanged(s.targetInfo,this.enqueueLifecycleFn(i))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async s=>{s.targetId&&await this._detachedFromTarget(s.sessionId,!1)})),n}enqueueLifecycleFn(e){return r=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(r))}attachedToTarget(e,r,n,i,s=!0){let o=this._targets.get(r);if(o)return o;let a=this._connection.createSession(r),u=new xc(this,e,a,i,n,this.launchParams,r,this.logger,()=>{this._connection.disposeSession(r),this._detachedFromTarget(r)});this._targets.set(r,u),i&&i._children.set(e.targetId,u),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,u)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:s,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),i||this.retrieveBrowserTelemetry(a);let c=e.type;return P0.has(c)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(u),!wf.has(c)||c==="service_worker"?u.runIfWaitingForDebugger():c==="page"&&s&&a.Page.waitForDebugger({}),u}async retrieveBrowserTelemetry(e){try{let r=await e.Browser.getVersion({});if(!r)throw new Error("Undefined return from getVersion()");let n={targetCRDPVersion:r.protocolVersion,targetRevision:r.revision,targetUserAgent:r.userAgent,targetV8:r.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",r);let i=(r.product||"").split("/");i.length===2?(n.targetProject=i[0],n.targetVersion=i[1]):n.targetProduct=r.product,this.telemetry.report("browserVersion",n)}catch(r){this.logger.warn("runtime.target","Error getting browser telemetry",r)}}async _detachedFromTarget(e,r=!0){var i;let n=this._targets.get(e);if(n){this._targets.delete(e),(i=n.parentTarget)==null||i._children.delete(e);try{await n._detached()}catch{}if(this._onTargetRemovedEmitter.fire(n),r&&(this._detachedTargets.add(n.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:n.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,r){let n=[...this._targets.values()].filter(i=>i.targetId===e.targetId);if(!e.attached||!n.length)return n.length&&await Promise.all(n.map(i=>this._detachedFromTarget(i.sessionId,!1))),r(e);for(let i of n)i._updateFromInfo(e);for(let i of this._targets.values())i.targetId!==e.targetId&&i._onNameChangedEmitter.fire()}};var H8=B(require("child_process")),y8=require("fs");var bpe=50,Mr=class{constructor(e){this.messageEmitter=new z;this.endEmitter=new z;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",r=>{this.messageEmitter.fire([r.data.toString("utf-8"),new Dr])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,r,n){let i=!e.startsWith("ws://"),s=await Lc(e);for(;;){let o=Date.now()+bpe;try{let a={headers:{host:n??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&s),followRedirects:!0},u=new VR(e,[],a);return await zi(new Promise((c,l)=>{u.addEventListener("open",()=>c(new Mr(u))),u.addEventListener("error",p=>{let f=e===u.url?e:u.url.replace(/^http(s?):/,"ws$1:");if(f===e){l(p.error);return}this.create(f,r,n).then(c,l)})}),Yt.withTimeout(2e3,r).token,`Could not open ${e}`).catch(c=>{throw u.close(),c})}catch(a){if(r.isCancellationRequested)throw a;let u=o-Date.now();u>0&&await Te(u)}}}send(e){var r;(r=this._ws)==null||r.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var yv=B(require("path"));function _pe(t){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new xt(t).map((r,n)=>e.some(i=>i.test(r))?void 0:n)}var kn=class{constructor(e){this.defined=$e(()=>uc(this.value));this.value=e?rD(e):{}}lookup(e){return kn.platform==="win32"?sD(this.value,e):this.value[e]}addToPath(e,r="append",n=!1){let i=kn.platform==="win32"?"Path":"PATH",s=kn.platform==="win32"?yv.win32.delimiter:yv.posix.delimiter,o=this.lookup(i);return n&&!o&&(o=`\${env:${i}}`),o?r==="append"?o=o+s+e:o=e+s+o:o=e,this.update(i,o)}addNodeOption(e){let r=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",r?`${r} ${e}`:e)}update(e,r){return kn.merge(this,{[e]:r})}merge(...e){return kn.merge(this,...e)}map(e){return new kn(Hs(this.value,(r,n)=>e(n,r)))}static merge(...e){let r=e.map(i=>i instanceof kn?i.value:i),n=kn.platform==="win32"?iD(...r):Object.assign({},...r);return new kn(n)}},xt=kn;xt.platform=process.platform,xt.empty=new kn({}),xt.processEnv=$e(()=>_pe(process.env));var r8="--remote-debugging-port",n8="--remote-debugging-pipe",i8=t=>{let e={};for(let r of t){let n=r.indexOf("=");n===-1?e[r]=null:e[r.slice(0,n)]=r.slice(n+1)}return e},vv=t=>{let e=[];for(let r of Object.keys(t)){let n=t[r];n!==void 0&&e.push(n===null?r:`${r}=${n}`)}return e},Gs=class{constructor(e=[]){this.args=e;this.argMap=$e(()=>i8(this.args))}add(e,r=null){return new Gs(vv({...this.argMap(),[e]:r}))}remove(e){return new Gs(vv({...this.argMap(),[e]:void 0}))}merge(e){return new Gs(vv({...this.argMap(),...e instanceof Gs?e.argMap():i8(e)}))}setConnection(e){return new Gs(vv({...this.argMap(),[n8]:e==="pipe"?null:void 0,[r8]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty(n8))return"pipe";let r=e[r8];if(r!==void 0)return r&&Number(r)||0}filter(e){let r=this.argMap(),n=[];for(let i of Object.keys(r)){let s=r[i];e(i,s)&&n.push(s===null?i:`${i}=${s}`)}return new Gs(n)}toArray(){return this.args.slice()}},Ks=Gs;Ks.default=new Gs(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"]);var VE=require("url");function bv(t,e,r){let n=$a(o=>{if(o)return new VE.URL(o);throw new Error(`A valid url wasn't supplied: <${o}>`)}),i={"url.hostname":()=>n(e).hostname,"url.port":()=>n(e).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new VE.URL(r).pathname,wsProtocol:()=>n(e).protocol==="https:"?"wss":"ws"};return t.replace(/{([^\}]+)}/g,(o,a)=>i.hasOwnProperty(a)?i[a]():o)}var h8=B(require("readline"));var u8=B(wv());var On=class{constructor(e,r,n){this.logger=e;this.pipeWrite=r;this.pipeRead=n;this.messageEmitter=new z;this.endEmitter=new z;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=$e(()=>{var e;this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),(e=this.pipeRead)==null||e.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=n||r;this.streams={read:i.on("error",s=>this.logger.error("internal","pipeRead error",{error:s})).pipe((0,u8.default)("\0")).on("data",s=>this.messageEmitter.fire([s,new Dr])).on("end",this.onceEnded),write:r.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){var r;(r=this.streams)==null||r.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var Av=require("child_process"),GE=require("path");function Xs(t,e,r="forceful"){if(r==="none")return!0;if(process.platform==="win32"){let n=process.env.WINDIR||"C:\\Windows",i=(0,GE.join)(n,"System32","taskkill.exe");try{return(0,Av.execSync)(`${i} ${r==="forceful"?"/F":""} /T /PID ${t}`,{stdio:"pipe"}),!0}catch(s){return e.error("runtime.exception","Error running taskkill.exe",s),!1}}else try{let n=(0,GE.join)(__dirname,"./targets/node/terminateProcess.sh"),i=(0,Av.spawnSync)("sh",[n,t.toString(),r==="forceful"?"9":"15"]);return i.stderr&&i.status?(e.error("runtime.exception","Error running terminateProcess",i),!1):!0}catch(n){return e.error("runtime.exception","Error running terminateProcess",n),!1}}var p8=require("fs");async function KE(t,e,r,n){let i=new Jo(p8.promises),[s,o]=await Promise.all([c8(i,new URL("/json/version",t),e),n?c8(i,new URL("/json/list",t),e):Promise.resolve(void 0)]);if(!s.ok)r.verbose("runtime.launch","Error looking up /json/version",s);else if(s.body.webSocketDebuggerUrl){let a=l8(s.url,s.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:s.body.webSocketDebuggerUrl,fixed:a}),a}if(o)if(!o.ok)r.verbose("runtime.launch","Error looking up /json/list",o);else{let a=l8(o.url,o.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:o.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function c8(t,e,r){if(e.hostname!=="localhost")return t.fetchJson(e.toString(),r,{host:"localhost"});let n=e.toString();e.hostname="127.0.0.1";let i=e.toString(),s=new Yt(r);try{let o;return await Ku([n,i].map(async u=>(o=await t.fetchJson(u,s.token),o.ok&&o)))||o}finally{s.cancel()}}var f8=t=>async(e,r,n)=>{for(;;)try{return await KE(e,r,n,t)}catch(i){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${i.message}`);await Te(200)}},tp=f8(!0),Iv=f8(!1);function l8(t,e){let r=new URL(t),n=new URL(e);return n.host=r.host,n.toString()}var d8=async(t,e,r,n)=>{let i=r.connection===0?await Cpe(e,n):await Iv(`http://localhost:${r.connection}`,n,t),s=r.inspectUri?bv(r.inspectUri,r.url,i):i;for(;;)try{return await Mr.create(s,n)}catch(o){if(n.isCancellationRequested)throw o;await Te(200)}},Sv=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new z().event;this.onError=new z().event}async transport(e,r){return d8(this.logger,this,e,r)}kill(){}},Ev=class{constructor(e,r){this.cp=e;this.logger=r;this.pid=void 0;this.exitEmitter=new z;this.onExit=this.exitEmitter.event;this.errorEmitter=new z;this.onError=this.errorEmitter.event;e.on("exit",n=>this.exitEmitter.fire(n||0)),e.on("error",n=>this.errorEmitter.fire(n))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,r){return e.connection==="pipe"?new On(this.logger,this.cp.stdio[3],this.cp.stdio[4]):d8(this.logger,this,e,r)}kill(){Xs(this.cp.pid,this.logger)}};function Cpe(t,e){if(!t.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((r,n)=>{let i=h8.createInterface({input:t.stderr}),s="",o=()=>c();i.on("line",l),i.on("close",o);let a=new ze([t.onExit(()=>c()),t.onError(c)]),u=e.onCancellationRequested(()=>{p(),n(new Xi(`Timed out after ${u} ms while trying to connect to the browser!`))});function c(f){p(),n(new Error(["Failed to launch browser!"+(f?" "+f.message:""),s,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(f){s+=f+`
`;let m=f.match(/^DevTools listening on (ws:\/\/.*)$/);m&&(p(),r(m[1]))}function p(){u.dispose(),i.removeListener("line",l),i.removeListener("close",o),a.dispose()}})}async function m8(t,e,r,n){let i=t.launchUnelevatedRequest({process:e,args:r});await zi(i,n,"Could not launch browser unelevated")}var g8=()=>{};async function v8(t,e,r,n,i,s,o={}){var q,N,$,O;let{onStderr:a=g8,onStdout:u=g8,args:c=[],dumpio:l=!1,cwd:p=process.cwd(),env:f=xt.empty,connection:m="pipe",cleanUp:g="wholeBrowser",url:y,inspectUri:v}=o,w=new Ks(c),R=w.getSuggestedConnection();o.includeLaunchArgs!==!1?(w=XE(w,o),R===void 0&&(w=w.setConnection(m),R=m)):R===void 0&&(R="pipe");let U=["pipe","pipe","pipe"];R==="pipe"&&(l?U=["ignore","pipe","pipe","pipe","pipe"]:U=["ignore","ignore","ignore","pipe","pipe"]);let x;if(!!(i.supportsLaunchUnelevatedProcessRequest&&o.launchUnelevated)&&typeof R=="number"&&R!==0)await m8(t,e,w.toArray(),s),x=new Sv(r);else{r.info("runtime.launch",`Launching Chrome from ${e}`);let I=H8.spawn(e,w.toArray(),{detached:!0,env:f.defined(),cwd:await lc(y8.promises,p)?p:process.cwd(),stdio:U});if(I.pid===void 0)throw await Promise.race([Te(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise(T=>I.once("error",T))]);x=new Ev(I,r)}l?((q=x.stderr)==null||q.on("data",I=>a(I.toString())),(N=x.stdout)==null||N.on("data",I=>u(I.toString()))):(($=x.stderr)==null||$.resume(),(O=x.stdout)==null||O.resume());let V=()=>{g==="wholeBrowser"&&x.kill()};process.on("exit",V),x.onExit(()=>process.removeListener("exit",V));try{if(o.promisedPort){let k;R=await Promise.race([o.promisedPort,new Promise((X,C)=>{k=x.onExit(L=>{C(new ee(gT(L)))})})]).finally(()=>k.dispose())}let I=await x.transport({connection:R,inspectUri:v||void 0,url:y||void 0},s),T=new $t(I,r,n);return V=async()=>{g==="wholeBrowser"?(await T.rootSession().Browser.close({}),x.kill()):T.close()},{cdp:T,process:x}}catch(I){throw V(),I}}function XE(t,e={}){let{userDataDir:r=null,ignoreDefaultArgs:n=!1}=e,i=n===!0?new Ks:Ks.default;return n instanceof Array&&(i=i.filter(s=>!n.includes(s))),r&&(i=i.add("--user-data-dir",r)),i=i.merge(t),t.toArray().every(s=>s.startsWith("-"))&&e.hasUserNavigation&&(i=i.add("about:blank")),i}async function b8(t,e,r,n){let{browserWSEndpoint:i,browserURL:s}=t;if(i){let o=await Mr.create(i,e);return new $t(o,r,n)}else if(s){let o=await Iv(s,e,r),a=t.inspectUri?bv(t.inspectUri,t.pageURL,o):o,u=await Mr.create(a,e);return new $t(u,r,n)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var Nn=class{constructor(e,r,n){this.logger=e;this.pathResolver=r;this.vscode=n;this._disposables=[];this._onTerminatedEmitter=new z;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new z;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,r){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,r){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...r,cancellationToken:vr})},1e3)}createTargetManager(e,r,n){return ha.connect(e,void 0,this.pathResolver,r,this.logger,n.telemetryReporter,n.targetOrigin)}async attemptToAttach(e,r){let n=await this.acquireConnectionForBrowser(r,e);this._connection=n,n.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,r):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let i=this._targetManager=await this.createTargetManager(n,e,r);if(!i)return;i.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),i.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),i.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),i.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),i.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})});let s=await Promise.race([i.waitForMainTarget(await this.getTargetFilter(i,e)),Te(e.timeout).then(()=>{throw new ee(qm())})]);return typeof s=="string"?s:void 0}async getTargetFilter(e,r){let n=yo(r),i=Pc(n);if(r.targetSelection!=="pick")return i;let s=await e.getCandiateInfo(i);if(s.length===0)return i;if(s.length===1||!this.vscode)return u=>u.targetId===s[0].targetId;let o=xv.t("Select a tab"),a=await this.vscode.window.showQuickPick(s.map(u=>({label:u.title,detail:u.url,targetId:u.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return a?u=>u.targetId===a.targetId:i}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:r},n){for(;this._lastLaunchParams===n;)try{return await this.acquireConnectionInner(e,n,r)}catch(i){if(r.isCancellationRequested)throw new ee(lf(xv.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,i.message)));await Te(1e3)}throw new ee(lf(xv.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,"Cancelled")))}async acquireConnectionInner(e,r,n){let i=`http://${r.address}:${r.port}`;return await b8({browserURL:i,inspectUri:r.inspectUri,pageURL:r.url},n,this.logger,e)}async terminate(){var e;this._lastLaunchParams=void 0,(e=this._connection)==null||e.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};Nn=K([(0,ma.injectable)(),E(0,(0,ma.inject)(pe)),E(1,(0,ma.inject)(Ze)),E(2,(0,ma.optional)()),E(2,(0,ma.inject)(wo))],Nn);var li=B(ce());var w8=B(kb()),ud=B(require("fs")),ga=B(ce()),rp=B(require("path"));var us=class{constructor(e,r,n,i,s){this.storagePath=e;this.logger=r;this.pathResolver=n;this.initializeParams=i;this.fs=s;this._disposables=new ze;this._terminated=!1;this._onTerminatedEmitter=new z;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new z;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:r,includeDefaultArgs:n,includeLaunchArgs:i,runtimeArgs:s,userDataDir:o,env:a,cwd:u,port:c,url:l,file:p,inspectUri:f,webRoot:m,cleanUp:g,launchUnelevated:y},v,w,R,U){let x=await this.findBrowserPath(e||"stable"),P;return typeof o=="string"?P=rp.resolve(o):o&&(P=rp.resolve(rp.join(this.storagePath,s!=null&&s.includes("--headless")?".headless-profile":".profile"))),ud.mkdirSync(this.storagePath,{recursive:!0}),P&&(ud.mkdirSync(P,{recursive:!0}),P=ud.realpathSync(P)),await v8(v,x,this.logger,R,this.initializeParams,w,{onStdout:V=>v.output({category:"stdout",output:V}),onStderr:V=>v.output({category:"stderr",output:V}),dumpio:typeof r=="boolean"?r:r.stdio,cleanUp:g,hasUserNavigation:!!(l||p),cwd:u||m||void 0,env:xt.merge(xt.processEnv(),a),args:s||[],userDataDir:P,connection:c||(f?0:"pipe"),launchUnelevated:y,ignoreDefaultArgs:!n,includeLaunchArgs:i,url:l,inspectUri:f,promisedPort:U})}getFilterForTarget(e){return Pc(yo(e,["about:blank"]))}async prepareLaunch(e,{dap:r,targetOrigin:n,cancellationToken:i,telemetryReporter:s}){let o;try{o=await this.launchBrowser(e,r,i,s)}catch(c){throw new ee(lT(c))}if(this._disposables.push(o.cdp.onDisconnected(()=>this.fireTerminatedEvent())),this._connectionForTest=o.cdp,this._launchParams=e,this._targetManager=await ha.connect(o.cdp,o.process,this.pathResolver,this._launchParams,this.logger,s,n),!this._targetManager)throw o.process.kill(),new ee(lf());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let a=this.getFilterForTarget(e),u=await zi(this._targetManager.waitForMainTarget(a),i,"Could not attach to main target");if(!u)throw o.process.kill(),new ee(qm());return u}async finishLaunch(e,r){if("skipNavigateForTest"in r)return;let n;if(r.file){let i=rp.resolve(r.webRoot||r.rootPath||"",r.file),s=Math.min(i.includes("#")?i.indexOf("#"):1/0,i.includes("?")?i.indexOf("?"):1/0);isFinite(s)&&!await no(this.fs,i)?n=Ve(i.slice(0,s))+i.slice(s):n=Ve(i)}else n=r.url;n&&await e.cdp().Page.navigate({url:n})}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};let i=await this.prepareLaunch(n,r);return await this.finishLaunch(i,n),{blockSessionTermination:!0}}async terminate(){var e;await((e=this._targetManager)==null?void 0:e.closeBrowser())}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,r){var n;if(r==="*"){let i=await e.findWhere(s=>s.quality==="stable")||(await e.findAll())[0];return i==null?void 0:i.path}else return(0,w8.isQuality)(r)?(n=await e.findWhere(i=>i.quality===r))==null?void 0:n.path:r}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminated||(this._terminated=!0,this._onTerminatedEmitter.fire({code:0,killed:!0}))}};us=K([(0,ga.injectable)(),E(0,(0,ga.inject)(qi)),E(1,(0,ga.inject)(pe)),E(2,(0,ga.inject)(Ze)),E(3,(0,ga.inject)(Vr)),E(4,(0,ga.inject)(nt))],us);var Pu=class extends us{constructor(r,n,i,s,o,a){super(r,n,o,a,s);this.browserFinder=i}resolveParams(r){return r.type==="pwa-chrome"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await lc(this.fs,n))throw new ee(jm("Chrome",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};Pu=K([(0,li.injectable)(),E(0,(0,li.inject)(qi)),E(1,(0,li.inject)(pe)),E(2,(0,li.inject)(Xa)),E(2,(0,li.tagged)("browser","chrome")),E(3,(0,li.inject)(nt)),E(4,(0,li.inject)(Ze)),E(5,(0,li.inject)(Vr))],Pu);var A8=require("crypto"),pi=B(ce()),I8=require("net"),S8=require("os"),E8=require("path");var Lpe=["--do-not-de-elevate"],np=class extends us{constructor(r,n,i,s,o,a){super(r,n,o,a,s);this.browserFinder=i}resolveParams(r){return r.type==="pwa-msedge"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}launchBrowser(r,n,i,s){return super.launchBrowser({...r,runtimeArgs:r.runtimeArgs??Lpe},n,i,s,r.useWebView?this.getWebviewPort(r,s):void 0)}getFilterForTarget(r){return r.useWebView&&r.urlFilter?Pc(yo(r)):super.getFilterForTarget(r)}async getWebviewPort(r,n){let i=je();if(!r.runtimeExecutable)return i.resolve(r.port),i.promise;let s=r.runtimeExecutable.split(/\\|\//).pop(),o=`VSCode_${(0,A8.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${s}\\${o}`,u=(0,I8.createServer)(c=>{c.on("data",async l=>{let p=JSON.parse(l.toString()),f=p.devtoolsActivePort||"",m=parseInt(f.split(`
`).shift()||""),g=r.port||m;i.resolve(g);let y=`ws://${r.address}:${g}/devtools/${p.type}/${p.id}`,v=await Mr.create(y,vr),w=new $t(v,this.logger,n);await w.rootSession().Runtime.runIfWaitingForDebugger({}),w.close()})});return u.on("error",i.reject),u.on("close",()=>i.resolve(r.port)),u.listen(a),r.userDataDir=r.userDataDir||(0,E8.join)((0,S8.tmpdir)(),`vscode-js-debug-userdatadir_${r.port}`),r.env=r.env||{},r.env.WEBVIEW2_USER_DATA_FOLDER=r.userDataDir.toString(),r.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${r.port}`,r.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",r.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=o,i.promise}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await lc(this.fs,n))throw new ee(jm("Edge",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};np=K([(0,pi.injectable)(),E(0,(0,pi.inject)(qi)),E(1,(0,pi.inject)(pe)),E(2,(0,pi.inject)(Xa)),E(2,(0,pi.tagged)("browser","edge")),E(3,(0,pi.inject)(nt)),E(4,(0,pi.inject)(Ze)),E(5,(0,pi.inject)(Vr))],np);var zs=B(ce());var x8=require("crypto"),Cv=B(ce());var Ppe=0,cs=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,r,n){this.server&&this.server.close();let i=`/${(0,x8.randomBytes)(20).toString("hex")}`,s=this.server=await iH(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:i}),o=++Ppe;e.launchBrowserInCompanion({...n,serverPort:s.address().port,path:i,launchId:o});let a=await zi(new Promise((c,l)=>{s.once("connection",c),s.once("error",l)}),r,"Timed out waiting for browser connection"),u=new Mr(a);return this.teardown.set(u,()=>e.killCompanionBrowser({launchId:o})),u}close(e){var r;(r=this.teardown.get(e))==null||r()}dispose(){var e;(e=this.server)==null||e.close(),this.server=void 0}};cs=K([(0,Cv.injectable)(),E(0,(0,Cv.inject)(Kr))],cs);var ip=class extends Nn{constructor(r,n,i,s){super(n,i,s);this.helper=r}resolveParams(r){return r.request==="attach"&&(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.browserAttachLocation==="ui"}async acquireConnectionForBrowser(r,n){let i=await this.helper.launch(r.dap,r.cancellationToken,{type:n.type==="pwa-chrome"?"chrome":"edge",params:n,attach:{host:n.address,port:n.port}});return new $t(i,this.logger,r.telemetryReporter)}};ip=K([(0,zs.injectable)(),E(0,(0,zs.inject)(cs)),E(1,(0,zs.inject)(pe)),E(2,(0,zs.inject)(Ze)),E(3,(0,zs.optional)()),E(3,(0,zs.inject)(wo))],ip);var Js=B(ce());var sp=class extends us{constructor(r,n,i,s,o,a){super(r,n,i,s,o);this.helper=a}resolveParams(r){return(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.request==="launch"&&r.browserLaunchLocation==="ui"?r:void 0}async launchBrowser(r,n,i,s){let o=await this.helper.launch(n,i,{type:r.type==="pwa-chrome"?"chrome":"edge",browserArgs:XE(new Ks(r.runtimeArgs||[]),{hasUserNavigation:!!r.url,ignoreDefaultArgs:!r.includeDefaultArgs}).setConnection(r.port||"pipe").toArray(),params:r});return{cdp:new $t(o,this.logger,s),process:{onExit:new z().event,onError:new z().event,transport:()=>Promise.resolve(o),kill:()=>this.helper.close(o)}}}async findBrowserPath(){throw new Error("not implemented")}};sp=K([(0,Js.injectable)(),E(0,(0,Js.inject)(qi)),E(1,(0,Js.inject)(pe)),E(2,(0,Js.inject)(Ze)),E(3,(0,Js.inject)(Vr)),E(4,(0,Js.inject)(nt)),E(5,(0,Js.inject)(cs))],sp);var Ha=B(ce()),M8=require("net");var op=class extends Nn{constructor(e,r,n){super(e,r,n)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,r){let{getAppContainerProcessTokens:n}=await Promise.resolve().then(()=>B($8())),i=n(r.useWebView.pipeName);if(!i)throw new ee(fT());let s=i.map(u=>(0,M8.connect)(u)),o;try{o=await zi(Ku(s.map(u=>new Promise(c=>u.on("error",()=>c(void 0)).on("connect",()=>c(u))))),e.cancellationToken)}finally{for(let u of s)u!==o&&u.destroy()}if(!o)throw new ee(hT());let a=new On(this.logger,o);return new $t(a,this.logger,e.telemetryReporter)}};op=K([(0,Ha.injectable)(),E(0,(0,Ha.inject)(pe)),E(1,(0,Ha.inject)(Ze)),E(2,(0,Ha.optional)()),E(2,(0,Ha.inject)(wo))],op);var pp=B(ce()),X8=require("net");var mn=B(ce());var zE=Symbol("ILinkedBreakpointLocation");var j8=B(require("path"));var ld=B(ce()),va=B(require("path")),U8=require("url");var R8=require("fs"),Ys=B(require("path")),JE=require("url");function Pv(t,e){return t?(t.endsWith("/")||(t+="/"),t+e):e}async function Dv(t,e,r,n,i){e=st(e)||e;let s;if(t){if(Qn(t))s=st(t);else if(yr(t))s=await n(t,r,i)||t;else if(Ys.isAbsolute(e))s=Ope(e,t);else{let o=new JE.URL(e).pathname,a=await n(o,r,i),u=Ys.dirname(a);s=io(u,t)}i.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:t,absSourceRoot:s})}else if(Ys.isAbsolute(e))s=Ys.dirname(e),i.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:s});else{let o=new JE.URL(e).pathname||"/placeholder.js",a=await n(o,r,i);s=a?Ys.dirname(a):"",i.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:s})}return s=P$(s),s=_t(s),s}var cd=async(t,e,r)=>{if(!t||!t.startsWith("/"))return"";let n=Object.keys(e).sort((i,s)=>s.length-i.length);for(let i of n){if(!i)continue;let s=e[i];if(i[0]!=="/"&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${i}`),i="/"+i),Rpe(i,t))return kpe(i,s,t)}return""},k8=(t,e)=>async(r,n,i)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(r))return r;let s=await dg(t,Ys.dirname(e),"package.json");if(!s)return cd(r,n,i);let o=await cd(r,nD(n,a=>a.length>=s.length),i);if(process.platform!=="win32"&&r!=="/"&&!o){let a=await R8.promises.stat(r).catch(()=>{});if(a!=null&&a.isDirectory())return r}return o||s};function Rpe(t,e){return t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}function kpe(t,e,r){let n=decodeURIComponent(r.substring(t.length));return n?io(e,n):e}function Ope(t,e){return Zr(Ys.dirname(t),e)}var F8=B(kf()),up=B(require("path"));var Mv="*",O8=new RegExp(Lr(Mv),"g"),Tv="?:"+Mv,Npe=new RegExp(Lr(Tv),"g"),YE=(t,e)=>{let r=e.match(t);return t.lastIndex=0,r?r.length:0},N8=new RegExp(`${Lr(Tv)}|${Lr(Mv)}`,"g"),$v=class{constructor(e,r){this.logger=r;this.replacers=[];let n=Object.keys(e).sort((i,s)=>s.replace(Tv,"*").length-i.replace(Tv,"*").length);for(let i of n){let s=e[i];if(!s.includes("*")&&/\$[0-9'`&]/.test(s)){this.replacers.push([new RegExp(`^${i}$`,"i"),s]);continue}let o=ft(i),a=`"${o}": "${s}"`,u=YE(O8,o)-YE(Npe,o);if(u>1){r.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(YE(O8,s)>u){r.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let c="^",l=0;for(N8.lastIndex=0;;){let p=N8.exec(o);if(c+=Lr(o.slice(l,p==null?void 0:p.index),"/"),!p)break;p[0]===Mv?c+="(.*?)":c+=".*?",l=p.index+p[0].length}u===0&&(c+="([\\/\\\\].*)?",s+="*"),this.replacers.push([new RegExp(c+"$","i"),s.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let r=ft(e);for(let[n,i]of this.replacers){let s=r.replace(n,i);if(s!==r)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${s}, via sourceMapPathOverrides entry - ${n.toString()}`),io(s)}return e}};var Bpe=/\x00/,B8,ap=class{constructor(e,r){this.options=e;this.logger=r;this.sourceMapOverrides=new $v(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=(B8=this.options.resolveSourceMapLocations)==null?void 0:B8.map(e=>{let r=e.startsWith("!")?"!":"",n=e.slice(r.length).replace(/\.[a-z0-9]+$/,".*");if(!yr(n))return ft(e);n=ft(Zr(n));let i=F_(this.options.workspaceFolder),s=F_(n),o=0;for(let a=0;a<i.length&&a<s.length&&s[a].toLowerCase()===i[a].toLowerCase();a++)o+=i[a].length+1;return n=n.slice(0,o).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+n.slice(o),r+n})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:r}){if(r.startsWith(Yo))return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let n=st(e)||nr(e)&&r||e;if(n.startsWith("webpack-internal:///"))return!0;let i=Tm(e)?!1:$0(),s=this.rebaseRemoteToLocal(n);return(0,F8.default)((s!==n?[n,s]:[n]).map(ft),this.resolvePatterns,{dot:!0,nocase:!i}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return up.resolve(e);let r=ef(this.options.remoteRoot,e);if(r.startsWith(".."))return"";let n=io(this.options.localRoot,r);return n=U_(n),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${n}`),Zr(n)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let r=ef(this.options.localRoot,e),n=io(this.options.remoteRoot,r);return n=_t(n,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${n}`),n}normalizeSourceMapUrl(e){e=e.replace(Bpe,"");let r=e.lastIndexOf("?");return r!==-1&&e.slice(r-4,r)!==".vue"&&(e=e.slice(0,r)),e}canMapPath(e){return up.posix.isAbsolute(e)||up.win32.isAbsolute(e)||Qn(e)}};var QE="https?:\\/\\/[^\\/]+\\/",ya=class extends ap{constructor(r,n,i,s){super(i,s);this.vueMapper=r;this.fsUtils=n}absolutePathToUrlPath(r){r=va.normalize(r);let{baseUrl:n,pathMapping:i}=this.options,s=["/",i["/"]],o=Object.entries(i).sort(([c,l],[p,f])=>f.length-l.length||p.length-c.length).find(([,c])=>SD(c,r))||s;if(!o)return{url:Ve(r),needsWildcard:!1};let a=Ho(va.relative(o[1],r)),u=o[0].replace(/\/$|^\//g,"");return u&&(a=u+"/"+a),!n&&!mg(a)?{url:a,needsWildcard:!0}:{url:ug(n,a),needsWildcard:!1}}async urlToAbsolutePath({url:r,map:n}){let i=r.indexOf("?");return i!==-1&&r.slice(i-4,i)!==".vue"&&(r=r.slice(0,i)),n?this.sourceMapSourceToAbsolute(r,n):this.simpleUrlToAbsolute(r)}async simpleUrlToAbsolute(r){if(!r)return;if(Qn(r)){let o=st(r);if(await this.fsUtils.exists(o))return o;let a=D$(r);if(await this.fsUtils.exists(a))return a}let n;try{let o=new U8.URL(r);if(!o.pathname||o.pathname==="/"?n="index.html":n=o.pathname,o.protocol==="webpack-internal:")return}catch{n=r}let i=va.extname(n),s=n.replace(/^\//,"").split(/[\/\\]/);for(;s.length>0;){let o="/"+s.join("/"),a=await cd(o,this.options.pathMapping,this.logger);if(a){if(!i&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}s.shift()}}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;switch(this.vueMapper.getVueHandling(r)){case 2:return;case 1:let a=await this.vueMapper.lookup(r);if(a)return _t(a);break;default:}r=this.normalizeSourceMapUrl(r);let{pathMapping:i}=this.options,s=Pv(n.sourceRoot,r),o=this.sourceMapOverrides.apply(s);if(o!==s){o=_t(o);let a=Zr(i["/"],"..","ClientApp",ef(i["/"],o));return this.options.clientID==="visualstudio"&&s.startsWith("webpack:///")&&!await this.fsUtils.exists(o)&&await this.fsUtils.exists(a)?a:o}return Qn(r)?st(r):va.isAbsolute(r)?_t(r):Zr(await Dv(n.sourceRoot,n.metadata.compiledPath,i,cd,this.logger),r)}absolutePathToUrlRegexp(r){let n=this.absolutePathToUrlPath(r),i=n.url,s=i.length;i.endsWith("index.html")?(s=i.length-10-1,i=i.slice(0,s)+"\\/?($|index(\\.html)?)"):i.endsWith(".html")&&(s=i.length-5,i=i.slice(0,s)+"(\\.html)?");let o=0;n.needsWildcard&&(i=QE+i,o=QE.length,s+=QE.length);let a=Wr(i,[o,s]);return n.needsWildcard?`${Wr(Ve(r))}|${a}`:a}};ya=K([(0,ld.injectable)(),E(0,(0,ld.inject)($l)),E(1,(0,ld.inject)(Ur))],ya);var Rv=class extends ya{constructor(r,n,i,s){super(r,n,i,s);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let o=`\\${j8.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(o,"g"),o);this.blazorInCodespacesRegexp=new RegExp(`^${a}${o}([A-z])\\$${o}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(r){if(this.options.remoteFilePrefix){let n=r.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),s=Ho(n).replace(/^(\w):(.*)$/,"$1$2"),o=Wr(s);if(o){let a=`dotnet://.*\\.dll/${o}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:r,dotnetUrlRegexp:a}),a}}else{let n=Ve(r),i=Wr(n),s=super.absolutePathToUrlRegexp(r);return i.includes(s)?i:`${i}|${s}`}return super.absolutePathToUrlRegexp(r)}};var q8=require("url");function W8(t){if("file"in t&&t.file)return gg(t.file);if(t.url)try{let e=new q8.URL(t.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var Du=B(require("path")),G8=require("url");var V8="node:",fi=class extends ap{constructor(r,n,i,s){super(i,s);this.fsUtils=r;this.linkedBp=n;this.options=i;this.logger=s}static shouldWarnAboutSymlinks(r){var n;return"runtimeArgs"in r&&!((n=r.runtimeArgs)!=null&&n.includes("--preserve-symlinks"))}static getOptions(r){return{workspaceFolder:r.__workspaceFolder,resolveSourceMapLocations:r.resolveSourceMapLocations,basePath:r.cwd,sourceMapOverrides:r.sourceMapPathOverrides,remoteRoot:r.remoteRoot,localRoot:r.localRoot}}derive(r){return new fi(this.fsUtils,this.linkedBp,{...this.options,...r},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:r,map:n}){if(r=this.normalizeSourceMapUrl(r),r.startsWith(V8)&&this.options.basePath)return r=Du.join(this.options.basePath,"lib",r.slice(V8.length)),r.endsWith(".js")||(r+=".js"),r;if(n)return this.sourceMapSourceToAbsolute(r,n);let i=st(r);if(i)return this.rebaseRemoteToLocal(i);if(mg(r)){let o=this.sourceMapOverrides.apply(r);r=o===r?new G8.URL(r).pathname.slice(1):o}else if(Du.isAbsolute(r))r=this.sourceMapOverrides.apply(r);else return`<node_internals>/${r}`;let s=Zr(this.options.basePath??"",r);return this.rebaseRemoteToLocal(s)}absolutePathToUrl(r){return Ve(this.rebaseLocalToRemote(Du.normalize(r)))}async absolutePathToUrlRegexp(r){var i;let n=r;try{n=await this.fsUtils.realPath(r)}catch{}return hg(n,r)?Wr(this.absolutePathToUrl(r)):((i=this.linkedBp)==null||i.warn(),Wr(this.absolutePathToUrl(r))+"|"+Wr(this.absolutePathToUrl(n)))}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;let i=Pv(n.sourceRoot,r),s=this.sourceMapOverrides.apply(i);return s!==i?_t(s):Qn(r)?st(r):!Du.isAbsolute(r)&&this.options.basePath?Zr(await Dv(this.options.remoteRoot&&yr(n.sourceRoot)&&this.rebaseRemoteToLocal(n.sourceRoot)||n.sourceRoot,n.metadata.compiledPath,{"/":this.options.basePath},k8(this.fsUtils,n.metadata.compiledPath),this.logger),r):this.rebaseRemoteToLocal(r)||r}};var hi=Symbol("ISourcePathResolverFactory"),cp=class{constructor(e,r){this.fsUtils=e;this.linkedBp=r}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new fi(this.fsUtils,fi.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,fi.getOptions(e),r);throw new Error(`Not usable for type ${e.type}`)}};cp=K([(0,mn.injectable)(),E(0,(0,mn.inject)(Ur)),E(1,(0,mn.optional)()),E(1,(0,mn.inject)(zE))],cp);var lp=class{constructor(e,r,n,i){this.initializeParams=e;this.vueMapper=r;this.fsUtils=n;this.linkedBp=i}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new fi(this.fsUtils,fi.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,fi.getOptions(e),r);{let n=!!e.inspectUri;return new(n?Rv:ya)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:W8(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},r)}}};lp=K([(0,mn.injectable)(),E(0,(0,mn.inject)(Vr)),E(1,(0,mn.inject)($l)),E(2,(0,mn.inject)(Ur)),E(3,(0,mn.optional)()),E(3,(0,mn.inject)(zE))],lp);var K8=require("url");var kv=class extends ha{constructor(){super(...arguments);this.baseFilter=yo(this.launchParams);this.filter=r=>{let{debugWebWorkerExtHost:n,debugWebviews:i}=this.launchParams;return!!(n&&(r.type==="worker"&&r.title==="DebugWorkerExtensionHost"||r.type==="page"&&r.title.includes("[Extension Development Host]"))||i&&r.type==="iframe"&&this.baseFilter(r))}}static async connectRenderer(r,n,i,s,o,a){let c=await r.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=r.createSession(c.sessionId);return new this(r,void 0,l,n,s,o,i,a)}waitForMainTarget(r){let n=this.launchParams;return n.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:i})=>{if(!i.url.includes(n.__sessionId))return;let s=await this._browser.Target.attachToTarget({targetId:i.targetId,flatten:!0});s&&this.attachedToTarget(i,s.sessionId,!1)})),super.waitForMainTarget(r)}attachedToTarget(r,n,i,s){let o=super.attachedToTarget(r,n,i||this.filter(r),s,!1);return r.type==="iframe"&&o.setComputeNameFn(Fpe),o}},Fpe=t=>{let e;try{e=new K8.URL(t.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let r=e.searchParams.get("extensionId");return`Webview: ${r?r+" ":""} ${e.host}`}};var di=class extends Nn{constructor(r,n,i){super(r,n);this.pathResolverFactory=i}async launch(r,n){if(r.type!=="pwa-extensionHost"||r.request!=="attach")return{blockSessionTermination:!1};let i=di.debugIdToRendererDebugPort.get(r.__sessionId);if(!i)return{blockSessionTermination:!1};let s=cc({name:"Webview",type:"pwa-chrome",request:"attach",port:i,__workspaceFolder:r.__workspaceFolder,urlFilter:"",...r.rendererDebugOptions});return s.__sessionId=r.__sessionId,s.debugWebWorkerExtHost=r.debugWebWorkerHost,s.debugWebviews=r.debugWebviews,super.launch(s,n).catch(o=>this.logger.error("runtime.exception","Error in webview attach",{err:o})),{blockSessionTermination:!1}}async acquireConnectionInner(r,n,i){let s=new ze,o=await new Promise((a,u)=>{let c=(0,X8.createConnection)({port:n.port},()=>a(c));c.on("error",u),s.push(i.onCancellationRequested(()=>{c.destroy(),u(new Error("connection timed out"))}))}).finally(()=>s.dispose());return new $t(new On(this.logger,o),this.logger,r)}async getTargetFilter(r){return r.filter}async createTargetManager(r,n,i){return new kv(r,void 0,r.rootSession(),this.pathResolverFactory.create(n,this.logger),this.logger,i.telemetryReporter,n,i.targetOrigin)}};di.debugIdToRendererDebugPort=new Map,di=K([(0,pp.injectable)(),E(0,(0,pp.inject)(pe)),E(1,(0,pp.inject)(Ze)),E(2,(0,pp.inject)(hi))],di);var fp=class{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new fp}};var z8=Symbol("ITargetOrigin"),Ov=class{constructor(e){this.id=e}},Nv=class{constructor(e){this.id=e}};var Bv=class{constructor(e,r){this.parentList=e;this.logger=r;this.targets=new rs;this.onTerminatedEmitter=new z;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,n])=>{n.parent&&this.targets.get(n.parent.id)&&this.targets.add(n.id,n.target)}),e.onRemove(([n])=>{this.targets.remove(n)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,r){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let n=this.parentList.get(e.delegateId);if(n===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let i=n.target.targetOrigin();if(!(i instanceof Nv))throw new Error("Expected delegate session to have a mutable target origin");let s=n.target.logger;if(!(s instanceof fp))throw new Error("Expected delegate session to have a proxy logger");return i.id=r.targetOrigin.id,s.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,n.target),n.dap.connect(r.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var J8=B(ce());var Upe=0,Tu=class{constructor(){this.delegateSessions=new rs;this.refsByTarget=new WeakMap}createLauncher(e){return new Bv(this.delegateSessions,e)}addDelegate(e,r,n){let i={id:Upe++,target:e,dap:r,parent:n&&this.refsByTarget.get(n)};return this.refsByTarget.set(e,i),this.delegateSessions.add(i.id,i),i.id}removeDelegate(e){let r=this.refsByTarget.get(e);r&&this.delegateSessions.remove(r.id)}};Tu=K([(0,J8.injectable)()],Tu);var pW=B(ce());var Xe=class{constructor(e,r,n){this.major=e;this.minor=r;this.patch=n}static parse(e){let r=e.split(".").map(Number);if(r.length!==3||r.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new Xe(r[0],r[1],r[2])}static min(e,r){return e.lt(r)?e:r}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var aW=B(ce());var sW=B(Q8()),fs=B(require("fs")),Mu=B(ce()),oW=B(require("net")),rx=B(require("os")),nx=B(require("path"));var jv=class{constructor(e,r){this.sessionId=e;this.sink=r;this.onMessageEmitter=new z;this.onEndEmitter=new z;this.disposables=new ze;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(r.NodeWorker.on("detachedFromWorker",n=>{n.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),r.NodeWorker.on("receivedMessageFromWorker",n=>{n.sessionId===e&&this.onMessageEmitter.fire([n.message,new Dr])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var ex=require("path"),n1e=(0,ex.join)(__dirname,"watchdog.js"),Z8=(0,ex.join)(__dirname,"bootloader.js");var dd=B(Lt()),Bn=B(ce()),ls=require("path");var pd=B(ce()),eW=require("path");var $u=Symbol("IPackageJsonProvider");var hp=class{constructor(e,r){this.fs=e;this.config=r;this.getPath=$e(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await dg(this.fs,this.config.cwd,"package.json");return e?(0,eW.join)(e,"package.json"):void 0});this.getContents=$e(async()=>{let e=await this.getPath();if(e)try{let r=await this.fs.readFile(e);return JSON.parse(r.toString())}catch{return}})}};hp=K([(0,pd.injectable)(),E(0,(0,pd.inject)(Ur)),E(1,(0,pd.inject)(qe))],hp);var ba=Symbol("INodeBinaryProvider");function tW(t,e){return t.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var Xpe=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),rW=t=>Xpe.has((0,ls.basename)(t,(0,ls.extname)(t))),nW=(t,e)=>{if(!(!t||!rW(t)))return e.find(r=>!r.startsWith("-")&&r!=="run"&&r!=="run-script")},tx=new Xe(12,0,0),zpe=new Xe(8,0,0),Jpe=[{inclusiveMin:new Xe(16,0,0),inclusiveMax:new Xe(16,3,99),message:dd.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new Xe(7,0,0),inclusiveMax:new Xe(8,99,99),message:dd.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],mi=class{constructor(e,r){this.path=e;this.version=r;this.capabilities=new Set;r===void 0&&(r=tx),r.gte(new Xe(12,0,0))&&this.capabilities.add(0),r.gte(new Xe(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of Jpe)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,r){return!this.isPreciselyKnown&&r!==void 0?r:this.capabilities.has(e)}},hd=class extends ee{constructor(r,n){super(oT(r.toString(),n));this.version=r;this.location=n}},Ype=["node","node64","electron"],Qpe=new Map([[11,new Xe(12,0,0)],[10,new Xe(12,0,0)],[9,new Xe(12,0,0)],[8,new Xe(12,0,0)],[7,new Xe(12,0,0)],[6,new Xe(12,0,0)],[5,new Xe(10,0,0)],[4,new Xe(10,0,0)],[3,new Xe(10,0,0)],[2,new Xe(8,0,0)],[1,new Xe(8,0,0)]]),fd=class{constructor(e,r,n){this.logger=e;this.fs=r;this.packageJson=n;this.knownGoodMappings=new Map}async resolveAndValidate(e,r="node",n,i){try{return await this.resolveAndValidateInner(e,r,n,i)}catch(s){if(!(s instanceof hd))throw s;if(await this.shouldTryDebuggingAnyway(s))return new mi(s.location,s.version instanceof Xe?s.version:void 0);throw s}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,n,i){let s=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:s,executable:r}),!s)throw new ee(s0(r,dd.t("path does not exist")));if(n)return new mi(s,new Xe(n,0,0));let o=L$(s);if(!Ype.includes(o)){if(rW(s)){let y=await this.packageJson.getPath();y&&(e=e.addToPath((0,ls.resolve)((0,ls.dirname)(y),"node_modules/.bin"),"prepend"))}try{let y=await this.resolveAndValidateInner(e,"node",void 0,i);return new mi(s,y.version)}catch(y){if(mT(y,9230))throw y;return new mi(s,void 0)}}if(s.startsWith("/snap/"))return new mi(s,void 0);let a=this.knownGoodMappings.get(s);if(a)return a;let u=await this.getVersionText(s,i);if(!u)return new mi(s,void 0);this.logger.info("runtime.launch","Discovered version",{version:u});let c=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(u);if(!c)throw new hd(u,s);let[,l,p,f]=c.map(Number),m=new Xe(l,p,f);if(o==="electron"){let y=await this.resolveAndValidate(e);m=Xe.min(Qpe.get(m.major)??tx,y.version??tx)}if(m.lt(zpe))throw new hd(m,s);let g=new mi(s,m);return this.knownGoodMappings.set(s,g),g}async resolveBinaryLocation(e,r){return e&&(0,ls.isAbsolute)(e)?await _D(this.fs,e,r):await Dm(this.fs,e,r.value)}async getVersionText(e,r){var n;try{let{stdout:i}=await _y(e,["--version"],{env:xt.processEnv().defined(),cwd:r});return i.trim()}catch(i){throw r&&!((n=await no(this.fs,r))!=null&&n.isDirectory())?new ee(sT(r)):new ee(s0(e,i.message))}}};fd=K([(0,Bn.injectable)(),E(0,(0,Bn.inject)(pe)),E(1,(0,Bn.inject)(nt)),E(2,(0,Bn.inject)($u))],fd);var dp=class extends fd{constructor(r,n,i,s){super(r,n,i);this.vscode=s}async shouldTryDebuggingAnyway({message:r}){if(!this.vscode)return!1;let n=dd.t("Yes");return await this.vscode.window.showErrorMessage(r,n)===n}};dp=K([E(0,(0,Bn.inject)(pe)),E(1,(0,Bn.inject)(nt)),E(2,(0,Bn.inject)($u)),E(3,(0,Bn.optional)()),E(3,(0,Bn.inject)(wo))],dp);var iW=require("path");var qv=class{constructor(e,r,n,i,s,o,a={},u){this.launchConfig=e;this.targetOriginValue=r;this.connection=n;this.targetInfo=s;this.logger=o;this.lifecycle=a;this._parent=u;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new z;this._onDisconnectEmitter=new z;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=n,this._cdp=i,i.pause(),this._waitingForDebugger=s.type==="waitingForDebugger",s.title?this._targetName=`${(0,iW.basename)(s.title)} [${s.processId}]`:this._targetName=`[${s.processId}]`,i.Target.on("targetDestroyed",()=>this.connection.close()),n.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Ve(e):e}supportsCustomBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let r;return this._cdp.Runtime.on("executionContextCreated",n=>{n.context.auxData&&n.context.auxData.isDefault&&(r=n.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",n=>{n.executionContextId===r&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{if(this._waitingForDebugger){let e=await this._doAttach();await(e==null?void 0:e.Runtime.runIfWaitingForDebugger({}))}this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var ps=class{constructor(e,r,n,i){this.pathProvider=e;this.logger=r;this.portLeaseTracker=n;this.pathResolverFactory=i;this.serverConnections=new Set;this.targets=new rs;this.onTerminatedEmitter=new z;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=$e(this.getBootloaderFile.bind(this))}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};this._stopServer();let{server:i,pipe:s}=await this._startServer(r.telemetryReporter),o=this.logger.forTarget(),a=this.run={server:i,serverAddress:s,params:n,context:r,logger:o,pathResolver:this.pathResolverFactory.create(n,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([Te(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(i=>new Promise(s=>i.onDisconnected(s))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?Yt.withTimeout(this.run.params.timeout).token:vr}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,r="node"){return this.pathProvider.resolveAndValidate(xt.merge(xt.processEnv(),this.getConfiguredEnvironment(e)),r,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let r=xt.empty;if(e.envFile)try{r=r.merge(Zpe(e.envFile))}catch(n){throw new ee(iT(n.message))}return r.merge(e.env)}async resolveEnvironment({params:e,serverAddress:r},n,i){let s=this.getConfiguredEnvironment(e),o=await this.bootloaderFile(e.cwd,n),a={inspectorIpc:r,deferredMode:!1,waitForDebugger:"",execPath:await Dm(fs.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...i},u={NODE_OPTIONS:`--require ${o.interpolatedPath}`,VSCODE_INSPECTOR_OPTIONS:JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},c=s.lookup("NODE_OPTIONS");c&&(u.NODE_OPTIONS+=` ${c}`);let l=xt.processEnv().lookup("NODE_OPTIONS");return l&&(u.NODE_OPTIONS+=` ${l}`),s.merge({...u})}createLifecycle(e,r,n){return{}}async _startServer(e){let r=Pm(),n=await new Promise((i,s)=>{let o=oW.createServer(a=>this._startSession(a,e)).on("error",s).listen(r,()=>i(o))});return{pipe:r,server:n}}_stopServer(){var e,r;(e=this.run)==null||e.server.close(),this.run=void 0,(r=this.bootloaderFile.value)==null||r.then(n=>n.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,r){if(!this.run)return;let{connection:n,cdp:i,targetInfo:s}=await this.acquireTarget(e,r,this.run.logger);if(!this.run){e.destroy();return}s.processId===void 0&&(s.processId=Number(s.targetId));let o=new qv(this.run.params,this.run.context.targetOrigin,n,i,s,this.run.logger,this.createLifecycle(i,this.run,s),s.openerId?this.targets.get(s.openerId):void 0);this.listenToWorkerDomain(i,r,o),this.targets.add(s.targetId,o),o.onDisconnect(()=>this.targets.remove(s.targetId))}async listenToWorkerDomain(e,r,n){e.NodeWorker.on("attachedToWorker",i=>{let s=new jv(i.sessionId,e),o=new fl(n.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${n.id()}-${i.sessionId}`,title:i.workerInfo.title,url:i.workerInfo.url,openerId:n.id()},n,n.targetOrigin(),new $t(s,n.logger,r).rootSession(),n.logger),a=new ze;a.push(s),a.push(n.onDisconnect(()=>a.dispose())),a.push(s.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(o.id())),this.targets.add(o.id(),o)})}async acquireTarget(e,r,n){let i=new $t(new On(n,e),n,r);this.serverConnections.add(i),i.onDisconnected(()=>this.serverConnections.delete(i));let s=i.rootSession(),{targetInfo:o}=await new Promise(c=>s.Target.on("targetCreated",c)),a=o,u=this.portLeaseTracker.register(a.processInspectorPort);return i.onDisconnected(()=>u.dispose()),{targetInfo:a,cdp:s,connection:i,logger:n}}async getBootloaderFile(e,r){let n=ft(Z8);if(!n.includes(" "))return{interpolatedPath:n,dispose:()=>{}};if(r.has(0))return{interpolatedPath:`"${n}"`,dispose:()=>{}};let i=`require(${JSON.stringify(n)})`;if(!rx.tmpdir().includes(" ")||!e){let a=nx.join(rx.tmpdir(),"vscode-js-debug-bootloader.js");return await fs.promises.writeFile(a,i),{interpolatedPath:a,dispose:()=>{}}}let s=".vscode-js-debug-bootloader.js",o=nx.join(e,s);return await fs.promises.writeFile(o,i),{interpolatedPath:`./${s}`,dispose:()=>fs.unlinkSync(o)}}async gatherTelemetryFromCdp(e,r){for(let n=0;n<8;n++){let i=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+Ht()});if(!this.program)return;if(!i||!i.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof i.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await Te(50*2**n);continue}let s=i.result.value;return r.context.telemetryReporter.report("nodeRuntime",{version:s.nodeVersion,arch:s.architecture}),this.program.gotTelemetery(s),s}}};ps=K([(0,Mu.injectable)(),E(0,(0,Mu.inject)(ba)),E(1,(0,Mu.inject)(pe)),E(2,(0,Mu.inject)(Kr)),E(3,(0,Mu.inject)(hi))],ps);function Zpe(t){if(!fs.existsSync(t))return{};let e=efe(fs.readFileSync(t,"utf8"));return sW.parse(Buffer.from(e))}function efe(t){return t&&t[0]==="\uFEFF"&&(t=t.substr(1)),t}var _a=class extends ps{};_a=K([(0,aW.injectable)()],_a);var Wv=class{constructor(e,r){this.a=e;this.b=r;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},Vv=class{constructor(e,r,n){this.child=e;this.logger=r;this.killBehavior=n;this.killed=!1;this.stopped=new Promise((i,s)=>{e.once("exit",o=>i({killed:this.killed,code:o||0})),e.once("error",o=>s({killed:this.killed,code:1,error:o}))})}gotTelemetery(){}stop(){return this.killed=!0,Xs(this.child.pid,this.logger,this.killBehavior),this.stopped}},Ru=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},Aa=class extends Ru{constructor(r){super();this.wd=r;r.onEnd(n=>{this.stopDefer(n),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},md=class{constructor(e,r,n){this.terminalResult=e;this.logger=r;this.killBehavior=n;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=r=>{this.didStop=!0,e({code:0,killed:r})});e.processId&&this.startPollLoop(e.processId)}gotTelemetery({processId:e}){if(this.didStop){Xs(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(Xs(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,md.killConfirmInterval)):this.terminalResult.shellProcessId?(Xs(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,md.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,r=md.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let n={processId:e,timer:setInterval(()=>{tfe(e)||(clearInterval(n.timer),this.onStopped(!0))},r)};this.loop=n}},wa=md;wa.terminationPollInterval=1e3,wa.killConfirmInterval=200;function tfe(t){try{return process.kill(t,0),!0}catch{return!1}}var lW=B(require("net"));var uW=require("crypto"),cW=()=>(0,uW.randomBytes)(12).toString("hex");var Fn=class{constructor(e,r){this.info=e;this.server=r;this.onEndEmitter=new z;this.cts=new Yt;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??cW(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let r=await new Promise((i,s)=>{let o=lW.createConnection(e.ipcAddress,()=>i(o));o.on("error",s)}),n=new On($n.null,r);return new Fn(e,n)}listenToServer(){let{server:e,targetInfo:r}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:r}})),e.onMessage(async([n])=>{if(this.target&&!n.includes("Target.attachToTarget")&&!n.includes("Target.detachFromTarget")){this.target.send(n);return}let i=await this.execute(n);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){var n;let r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:(n=this.target)==null||n.send(r);return}}async createTarget(){this.gracefulExit=!1;let e=await Mr.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([r])=>this.server.send(r)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var ix=class extends Aa{constructor(r,n){super(r);this.logger=n;this.stopped.then(()=>{this.telemetry&&Xs(this.telemetry.processId,this.logger,"polite")})}},mp=class extends _a{constructor(){super(...arguments);this.restarting=!1}async restart(){var r;this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),(r=this.program)==null||r.stop()}resolveParams(r){return r.type==="pwa-extensionHost"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=await tp(`http://localhost:${r.params.port}`,r.context.cancellationToken,this.logger),i=await Fn.attach({ipcAddress:r.serverAddress,scriptName:"Extension Host",inspectorURL:n,waitForDebugger:!0,dynamicAttach:!0}),s=this.program=new ix(i,this.logger);this.program.stopped.then(o=>{s===this.program&&this.onProgramTerminated(o)})}createLifecycle(r,n,i){return i.openerId?{}:{initialized:()=>this.onFirstInitialize(r,n,i)}}async onFirstInitialize(r,n,i){this.setEnvironmentVariables(r,n,i.targetId);let s=await this.gatherTelemetryFromCdp(r,n),o=this.program;if(s&&o){let a=new wa({processId:s.processId},this.logger,"forceful");a.stopped.then(()=>o.stop()),o.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(r,n,i){if(!n.params.autoAttachChildProcesses)return;let s=await this.resolveEnvironment(n,new mi("node",Xe.parse(process.versions.node)),{openerId:i});for(let o=0;o<200;o++){let a=await r.Runtime.evaluate({contextId:1,returnByValue:!0,expression:`Object.assign(process.env, ${JSON.stringify(s.defined())})`+Ht()});if(!a)this.logger.error("runtime.target","Undefined result setting child environment vars");else if(a.exceptionDetails)this.logger.error("runtime.target","Error setting child environment vars",a.exceptionDetails);else return;await Te(50)}}};mp=K([(0,pW.injectable)()],mp);var gd=require("fs"),fW=B(ce());var gp=class extends ps{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let r=e.params.port||await Xf(),n=await e.context.dap.launchVSCodeRequest({args:rfe(e.params,r),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});n.rendererDebugPort&&di.debugIdToRendererDebugPort.set(e.params.__sessionId,n.rendererDebugPort),this.program=new Ru,this.program.stop()}};gp=K([(0,fW.injectable)()],gp);var rfe=(t,e)=>{let r=t.args.map(n=>{if(n.startsWith("-")){let i=n.split("=",2);return i.length===2&&((0,gd.existsSync)(i[1])||(0,gd.existsSync)(i[1]+".js"))?{prefix:i[0]+"=",path:i[1]}:{prefix:n}}else{try{let i=(0,gd.lstatSync)(n);if(i.isDirectory())return{prefix:"--folder-uri=",path:n};if(i.isFile())return{prefix:"--file-uri=",path:n}}catch{}return{path:n}}});return t.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${e}`}),r.unshift({prefix:`--debugId=${t.__sessionId}`}),r};var EW=B(Lt()),Ou=B(ce());var hW=require("crypto"),Hd=require("fs"),dW=require("os"),mW=B(require("path")),Gv=class{constructor(){this.disposed=!1;this.path=mW.join((0,dW.tmpdir)(),`node-debug-callback-${(0,hW.randomBytes)(8).toString("hex")}`);this.file=Hd.promises.open(this.path,"w")}static isValid(e){try{let r=(0,Hd.readFileSync)(e);return r.length?r.readDoubleBE()>Date.now()-Gv.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),Gv.updateInterval))}async touch(e=()=>Date.now()){let r=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(e()),await r.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await Hd.promises.unlink(this.path)}catch{}}}},Hp=Gv;Hp.updateInterval=1e3,Hp.recencyDeadline=2e3;var _W=require("fs");var yW=require("path");var gW=require("child_process"),HW=B(wv()),yp=class{constructor(e=gW.spawn){this.spawn=e}lookup(e,r){return new Promise((n,i)=>{let s=this.createProcess(),o=this.createParser();s.on("error",i),s.stderr.on("error",a=>i(`Error finding processes: ${a.toString()}`)),s.stdout.pipe((0,HW.default)(/\r?\n/)).on("data",a=>{let u=o(a);u&&(r=e(u,r))}),s.on("close",(a,u)=>{a===0?n(r):u?i(new Error(`process terminated with signal: ${u}`)):a&&i(new Error(`process terminated with exit code: ${a}`))})})}};var vp=class extends yp{constructor(r){super();this.fsUtils=r}async getWorkingDirectory(r){try{let{stdout:n}=await _y("lsof",["-a","-dcwd","-Fn",`-p${r}`]),i=n.trim().split(`
`).pop().slice(1);return i&&(0,yW.isAbsolute)(i)&&await this.fsUtils.exists(i)?i:void 0}catch(n){if(n instanceof ks)return;throw n}}createProcess(){return this.spawn("/bin/ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let r;return n=>{if(!r){r=n.indexOf("COMMAND");return}let i=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(n);if(i)return{pid:Number(i[1]),ppid:Number(i[2]),command:n.slice(i[0].length,r).trim(),args:n.slice(r).trim()}}}};var Kv=class extends vp{createProcess(){return this.spawn("/bin/ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return r=>{let n=e(r);if(!n)return;let i=n.args.indexOf(n.command);if(i===-1)return n;for(i=i+n.command.length;i<n.args.length&&n.args[i]!==" ";)i++;return n.command=n.args.substr(0,i),n.args=n.args.substr(i+1),n}}};var vW=require("path");var Xv=class extends yp{async getWorkingDirectory(){}createProcess(){let e=(0,vW.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return r=>{let n=e.exec(r.trim());if(!n||n.length!==5)return;let i=Number(n[4]),s=Number(n[3]),o=Number(n[2]),a=n[1].trim();if(!isNaN(i)&&!isNaN(s)&&a){let u=a;if(a[0]==='"'){let c=a.indexOf('"',1);c>0&&(u=a.substr(1,c-1),a=a.substr(c+2))}else{let c=a.indexOf(" ");c>0?(u=a.substr(0,c),a=a.substr(c+1)):a=""}return{pid:i,ppid:s,command:u,args:a,date:o}}}}};var bW=new Xn(_W.promises),wW=process.platform==="win32"?new Xv:process.platform==="darwin"?new vp(bW):new Kv(bW);function AW(t){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,r=/--inspect-port=(\d+)/,n,i,s=e.exec(t);return s&&s.length>=1&&(s.length>=5&&s[4]&&(n=s[4]),s.length>=6&&s[5]&&(i=parseInt(s[5]))),s=r.exec(t),s&&s.length===2&&(i=parseInt(s[1])),{address:n,port:i}}async function IW(t,e,r,n=vr){let i=await nfe(t.pid,r);if(!i)return[];let s=[],o=i.children.slice();for(;o.length;){let a=o.pop();o=o.concat(a.children);let{port:u}=AW(a.args);u&&s.push(KE(`http://${t.hostname}:${u}`,n,r,!0).then(c=>Fn.attach({ipcAddress:t.ipcAddress,scriptName:"Child Process",inspectorURL:c,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(c=>r.info("internal","Could not spawn WD for child process",{err:c,port:u,child:a})))}return(await Promise.all(s)).filter(a=>!!a)}async function nfe(t,e){let r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await wW.lookup(({pid:i,ppid:s,command:o,args:a})=>(i!==s&&r.set(i,{pid:i,ppid:s,command:o,args:a,children:[]}),r),null)}catch(i){e.warn("internal","Error getting child process tree",i);return}let n=r.values();for(let i of n){let s=r.get(i.ppid);s&&s!==i&&s.children.push(i)}return!isNaN(t)&&t>0?r.get(t):r.get(0)}var SW=B(ce());var hs=class{create(e){return e===!1?new sx:e===!0?new ku({maxAttempts:1/0,delay:1e3}):new ku({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};hs=K([(0,SW.injectable)()],hs);var ku=class{constructor(e,r=0){this.options=e;this.attempt=r}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new ku(this.options,this.attempt+1)}reset(){return this.attempt?new ku(this.options):this}},sx=class{constructor(){this.delay=-1}next(){}reset(){return this}};var bp=class extends _a{constructor(r,n,i,s,o=new hs){super(r,n,s,i);this.restarters=o}resolveParams(r){return r.type==="pwa-node"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=async(s,o)=>{let a=this.program,u;try{r.params.websocketAddress?u=r.params.websocketAddress:u=await tp(`http://${r.params.address}:${r.params.port}`,o&&r.params.timeout>0?Yt.withTimeout(r.params.timeout).token:r.context.cancellationToken,this.logger)}catch(p){if(a&&a===o)return i(s,a,{killed:!1,code:1});throw p}let c=await Fn.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:u,remoteHostHeader:r.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new Aa(c);l.stopped.then(p=>i(s.reset(),l,p))},i=async(s,o,a)=>{if(this.program!==o)return;if(a.killed){this.onProgramTerminated(a);return}let u=s.next();if(!u){this.onProgramTerminated(a);return}r.context.dap.output({output:EW.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,u.delay)});let c=new Ru;this.program=c;let l=await Promise.race([Te(u.delay),c.stopped]);this.program===c&&(l?this.onProgramTerminated(a):n(u,c))};return n(this.restarters.create(r.params.restart))}createLifecycle(r,n,i){if(i.openerId)return{};let s;return{initialized:async()=>{s=this.onFirstInitialize(r,n,i),await s},close:()=>{var o;this.targetList().length&&((o=this.program)==null||o.stop()),s==null||s.then(a=>a.dispose())}}}async onFirstInitialize(r,n,i){let s=new Hp;await s.startTouchLoop();let o=await this.resolveNodePath(n.params),[a]=await Promise.all([this.gatherTelemetryFromCdp(r,n),this.setEnvironmentVariables(r,n,s.path,i.targetId,o)]);return a&&n.params.attachExistingChildren&&IW({pid:a.processId,nodePath:o.path,hostname:n.params.address,ipcAddress:n.serverAddress},i.targetId,this.logger).catch(u=>this.logger.warn("internal","Error watching child processes",{err:u})),s}async setEnvironmentVariables(r,n,i,s,o){if(!n.params.autoAttachChildProcesses)return;if(!await Lc(n.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(n,o,{requireLease:i,openerId:s});for(let u=0;u<5;u++){let c=await r.Runtime.evaluate({contextId:1,returnByValue:!0,expression:`typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : Object.assign(process.env, ${JSON.stringify(a.defined())})`+Ht()});if(!c){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!c.exceptionDetails&&c.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",c),await Te(50)}}};bp=K([(0,Ou.injectable)(),E(0,(0,Ou.inject)(ba)),E(1,(0,Ou.inject)(pe)),E(2,(0,Ou.inject)(hi)),E(3,(0,Ou.inject)(Kr))],bp);var gn=B(ce()),Ap=require("path");function yd(t){return t instanceof Array?t:[t]}function xW(t){if(!t.runtimeArgs||t.attachSimplePort)return;let e=[];for(let r of t.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?t.stopOnEntry=t.stopOnEntry||!0:e.push(r);t.runtimeArgs=e}var CW=require("os"),LW=B(require("path")),PW=require("crypto"),_p=require("fs"),ox=class{constructor(){this.path=LW.join((0,CW.tmpdir)(),`node-debug-callback-${(0,PW.randomBytes)(8).toString("hex")}`);this.disposed=!1}read(e=ox.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((r,n)=>{let i=setInterval(()=>{if(this.disposed){clearInterval(i),r(void 0);return}if((0,_p.existsSync)(this.path)){try{r(JSON.parse((0,_p.readFileSync)(this.path,"utf-8")))}catch(s){n(s)}finally{this.dispose()}clearInterval(i)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,_p.unlinkSync)(this.path)}catch{}}}},vd=ox;vd.pollInterval=200;var Nu=B(require("path"));var bd=Symbol("IProgramLauncher"),zv=t=>{let e=t.program;if(e&&Nu.isAbsolute(e)){let r=Nu.relative(t.cwd,e);e=Nu.isAbsolute(r)?r:`.${Nu.sep}${r}`}return e?[...t.runtimeArgs,e,...yd(t.args)]:[...t.runtimeArgs,...yd(t.args)]};var ife=async(t,e)=>{if(typeof e.stopOnEntry=="string")return(0,Ap.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,Ap.resolve)(e.cwd,e.program);for(let r of yd(e.args)){if(r.startsWith("-"))continue;let n=(0,Ap.resolve)(e.cwd,r);if(await t.exists(n))return n}},wp=class extends ps{constructor(r,n,i,s,o,a,u,c,l){super(r,n,l,c);this.bpPredictor=i;this.launchers=s;this.restarters=o;this.fsUtils=a;this.packageJson=u}resolveParams(r){let n;if(r.type==="pwa-node"&&r.request==="launch"?n={...r}:"server"in r&&r.server&&"program"in r.server&&(n={...r.server}),!!n)return xW(n),n}async launchProgram(r){r.params.program&&(r.params.program=await this.tryGetCompiledFile(r.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(r.params);let n=async i=>{this.program&&this.program.stop();let s=await this.resolveNodePath(r.params,r.params.runtimeExecutable||void 0),o=s.warning;o&&r.context.dap.output({category:"stderr",output:o.message});let a=new vd,u=await this.resolveEnvironment(r,s,{fileCallback:a.path});this.attachSimplePort?(r.params.attachSimplePort||r.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),u=u.merge({NODE_OPTIONS:null})):u=tW(s,u);let c={...r.params,env:u.value},l=this.launchers.find(f=>f.canLaunch(c));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(s.path,c,r.context);if(this.attachSimplePort){let f=await Fn.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:await tp(`http://127.0.0.1:${this.attachSimplePort}`,r.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new Wv(p,new Aa(f))}else a.read().then(f=>{f&&p.gotTelemetery(f)});this.program=p,p.stopped.then(async f=>{if(a.dispose(),this.program!==p)return;if(f.killed||f.code===0){this.onProgramTerminated(f);return}let m=i.next();if(!m){this.onProgramTerminated(f);return}await Te(m.delay),this.program===p&&n(m)})};return n(this.restarters.create(r.params.restart))}async getSimpleAttachPortIfAny(r){var s,o;if(r.attachSimplePort)return r.attachSimplePort;let n=nW(r.runtimeExecutable,r.runtimeArgs);if(!n)return;let i=await this.packageJson.getContents();if((o=(s=i==null?void 0:i.scripts)==null?void 0:s[n])!=null&&o.includes("--inspect-brk"))return r.port??9229}createLifecycle(r,n,{targetId:i}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(r,n),!n.params.stopOnEntry)return;let s=await ife(this.fsUtils,n.params);if(!s){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let o="(?:entryBreakpoint){0}",a=Ve(s),u=Wr(a)+o,c=await r.Debugger.setBreakpointByUrl({urlRegex:u,lineNumber:0,columnNumber:0});return c!=null&&c.breakpointId?{cdpId:c==null?void 0:c.breakpointId,path:a}:void 0},close:()=>{let s=Number(i);if(s>0)try{process.kill(s)}catch{}}}}async tryGetCompiledFile(r){r=_t(r);let n=(0,Ap.extname)(r);if(!n||n===".js")return r;let i=await this.bpPredictor.getPredictionForSource(r);if(!i||i.size===0)return r;let s=i.values().next().value;return s?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:r,to:s.compiledPath,candidates:i.size}),s.compiledPath):r}};wp=K([(0,gn.injectable)(),E(0,(0,gn.inject)(ba)),E(1,(0,gn.inject)(pe)),E(2,(0,gn.inject)(Wa)),E(3,(0,gn.multiInject)(bd)),E(4,(0,gn.inject)(hs)),E(5,(0,gn.inject)(Ur)),E(6,(0,gn.inject)($u)),E(7,(0,gn.inject)(hi)),E(8,(0,gn.inject)(Kr))],wp);var Sp=B(require("fs")),DW=require("fs"),Jv=B(ce()),TW=B(require("os")),Rr=B(require("path"));var $W=Symbol("INvmResolver");var Ip=class{constructor(e=new Xn(DW.promises),r=process.env,n=process.arch,i=process.platform,s=TW.homedir()){this.fsUtils=e;this.env=r;this.arch=n;this.platform=i;this.homedir=s}async resolveNvmVersionPath(e){let r=this.env["NVS_HOME"];if(!r){let o=this.platform==="win32"?Rr.join(this.env.LOCALAPPDATA||"","nvs"):Rr.join(this.env.HOME||"",".nvs");Sp.existsSync(o)&&(r=o)}let n,i=[],s=this.parseVersionString(e);if(s.nvsFormat||r){if(n=await this.resolveNvs(r,s),!n&&s.nvsFormat)throw new ee(i0(e,"nvs"));i.push("nvs")}if(!n)if(this.platform==="win32")this.env["NVM_HOME"]&&(n=await this.resolveWindowsNvm(e),i.push("nvm-windows"));else{let o=this.env["NVM_DIR"]||Rr.join(this.homedir,".nvm");await this.fsUtils.exists(o)&&(n=await this.resolveUnixNvm(e),i.push("nvm"))}if(!i.length)throw new ee(n0());if(!n||!await this.fsUtils.exists(n))throw new ee(i0(e,i.join("/")));return{directory:n,binary:await this.getBinaryInFolder(n)}}async getBinaryInFolder(e){return await Ku(["node64.exe","node64"].map(r=>this.fsUtils.exists(Rr.join(e,r))))?"node64":"node"}async resolveNvs(e,{remoteName:r,semanticVersion:n,arch:i}){if(!e)throw new ee(tT());let s=this.findBinFolderForVersion(Rr.join(e,r),n,o=>Sp.existsSync(Rr.join(o,i)));if(s)return this.platform!=="win32"?Rr.join(s,i,"bin"):Rr.join(s,i)}async resolveUnixNvm(e){let r=this.env["NVM_DIR"];if(!r){let i=Rr.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(i)&&(r=i)}if(!r)throw new ee(n0());let n=this.findBinFolderForVersion(Rr.join(r,"versions","node"),`v${e}`);return n?Rr.join(n,"bin"):void 0}async resolveWindowsNvm(e){let r=this.env["NVM_HOME"];if(!r)throw new ee(rT());return this.findBinFolderForVersion(r,`v${e}`)}findBinFolderForVersion(e,r,n){if(!Sp.existsSync(e))return;let i=Sp.readdirSync(e);if(i.includes(r))return Rr.join(e,r);let s=i.filter(o=>o.startsWith(`${r}.`)).sort(sfe).filter(o=>n?n(Rr.join(e,o)):!0).pop();return s?Rr.join(e,s):void 0}parseVersionString(e){let n=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!n)throw new Error("Invalid version string: "+e);let i=!!(n[2]||n[8]),s=n[2]||"node",o=n[4]||"",a=ofe(n[8]||this.arch);return{nvsFormat:i,remoteName:s,semanticVersion:o,arch:a}}};Ip=K([(0,Jv.injectable)(),E(0,(0,Jv.inject)(Ur))],Ip);var sfe=(t,e)=>{let r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t),n=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!r||!n)return(n?-1:0)+(r?1:0);let[,i,s,o]=r,[,a,u,c]=n;return Number(i)-Number(a)||Number(s)-Number(u)||Number(o)-Number(c)};function ofe(t){switch(t){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return t}}var MW=require("child_process"),Yv=B(ce()),RW=B(wv());var Ep=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,r,n){let{executable:i,args:s,shell:o,cwd:a}=afe(e,zv(r),r.cwd);n.dap.output({category:"console",output:[i,...s].join(" ")+`
`});let u=(0,MW.spawn)(i,s,{shell:o,cwd:a,env:xt.merge(xt.processEnv(),r.env).defined()});return r.outputCapture==="console"?this.discardStdio(n.dap,u):this.captureStdio(n.dap,u),new Vv(u,this.logger,r.killBehavior)}captureStdio(e,r){r.stdout.pipe(xp.stream()).on("data",n=>e.output({category:"stdout",output:n})).resume(),r.stderr.pipe(xp.stream()).on("data",n=>e.output({category:"stderr",output:n})).resume()}discardStdio(e,r){let n=[],i=()=>{n&&e.output({category:"stderr",output:Buffer.concat(n).toString()})},s=Buffer.from("Debugger attached."),o=a=>{a.includes(s)?(n=void 0,r.stderr.removeListener("data",o)):n&&n.push(a)};r.stderr.on("data",o),r.on("error",a=>{i(),e.output({category:"stderr",output:a.stack||a.message})}),r.on("exit",a=>{a!==null&&a>0&&(i(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),r.stdout.resume(),r.stderr.resume()}};Ep=K([(0,Yv.injectable)(),E(0,(0,Yv.inject)(pe))],Ep);var afe=(t,e,r)=>{if(process.platform==="win32"&&(t=Zn(t),r=Zn(r),t.endsWith(".ps1")&&(e=["-File",t,...e],t="powershell.exe")),process.platform!=="win32"||!t.includes(" "))return{executable:t,args:e,shell:!1,cwd:r};let n=!1,i=[];for(let s of e)s.includes(" ")?(i.push(`"${s}"`),n=!0):i.push(s);return n?{executable:`"${t}"`,args:i,shell:!0,cwd:r}:{executable:t,args:e,shell:!1,cwd:r}};var xp=class{constructor(){this.etxSpotted=!1}static stream(){return(0,RW.default)(new xp,void 0,void 0)}[Symbol.split](e){this.etxSpotted||=e.includes("");let r=e.split(this.etxSpotted?"":`
`);return r.length>1?r.map((n,i)=>i<r.length-1?`${n}
`:n):r}};var Qv=B(ce());var Cp=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,r,n){let i={kind:r.console==="integratedTerminal"?"integrated":"external",title:r.name,cwd:r.cwd,args:[e,...zv(r)],env:uc(r.env),argsCanBeInterpretedByShell:!Array.isArray(r.args)},s;try{s=await this.sendLaunchRequest(i,n)}catch(o){throw new ee(nT(o.message))}return new wa(s,this.logger,r.killBehavior)}sendLaunchRequest(e,r){return r.dap.runInTerminalRequest(e)}};Cp=K([(0,Qv.injectable)(),E(0,(0,Qv.inject)(pe))],Cp);var kW=B(ce());var Lp=class{getTreatment(e,r){return Promise.resolve(r)}};Lp=K([(0,kW.injectable)()],Lp);var OW=B(ce());var Bu=class{constructor(){this.flushEmitter=new z;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};Bu=K([(0,OW.injectable)()],Bu);var NW=t=>{},BW=t=>{};var UW=(t,e,r,n)=>{let i=new tb.Container;return i.parent=t,i.bind(qe).toConstantValue(e.launchConfig),i.bind(Oc).toConstantValue(i),i.bind(_n).toConstantValue(r),i.bind(yt).toConstantValue(n),i.bind(Uo).toConstantValue(e),i.bind(z8).toConstantValue(e.targetOrigin()),i.bind(ka).to(du).inSingletonScope(),i.bind(Og).to(Vc).inSingletonScope(),i.bind(Co).toSelf().inSingletonScope(),e.sourcePathResolver&&i.bind(Ze).toConstantValue(e.sourcePathResolver),i.bind(uu).toSelf(),i.bind($H).toDynamicValue(s=>s.container.get(uu).create()).inSingletonScope(),e.parent()&&(i.bind(Wa).to(qa).inSingletonScope(),i.bind(Ui).to(Rc).inSingletonScope()),i.bind(ir).to(process.env.DA_TEST_DISABLE_TELEMETRY?Bu:Wi).inSingletonScope().onActivation(Nt),i.bind(Cn).toSelf().inSingletonScope(),i.bind(Jt).toSelf().inSingletonScope(),i.bind(jo).toSelf().inSingletonScope(),i.bind(Ao).to(ts).inSingletonScope(),i.bind(No).toSelf().inSingletonScope(),i.bind(Hl).to(gl).inSingletonScope(),i.bind(oH).to(al).inSingletonScope(),i.bind(Sn).to(jc).inSingletonScope(),i.bind(xH).to(ml).inSingletonScope(),i.bind(Fo).to(dl).inSingletonScope(),i.bind(Zt).toSelf(),i.bind(ln).toSelf(),i.bind(pn).toSelf(),i.bind(OH).to(Ps).inSingletonScope(),i.bind(NH).to(vl).inSingletonScope(),i.bind(sH).to(sl).inSingletonScope().onActivation(Nt),i},jW=t=>{let e=new tb.Container;e.parent=t,e.bind(Oc).toConstantValue(e),e.bind(pe).to($n).inSingletonScope().onActivation(Nt),e.bind(Vo).toSelf().inSingletonScope(),e.bind(ka).to(du).inSingletonScope(),e.bind(ir).to(process.env.DA_TEST_DISABLE_TELEMETRY?Bu:Wi).inSingletonScope().onActivation(Nt),e.bind(Ri).to(Ri).inSingletonScope(),e.bind(ys).to(ys).inSingletonScope(),e.bind($l).to(Tl).inSingletonScope(),e.bind($c).to(ep).inSingletonScope(),e.bind(ba).to(dp),e.bind(cs).toSelf().inSingletonScope().onActivation(Nt),e.bind(hs).toSelf(),e.bind(Tr).to(di).onActivation(Nt),e.bind(Tr).to(mp).onActivation(Nt),e.bind(Tr).to(gp).onActivation(Nt),e.bind(Tr).to(wp).onActivation(Nt),e.bind(bd).to(Ep),e.bind(bd).to(Cp),e.bind($u).to(hp).inSingletonScope(),BW(e),e.bind(Tr).to(bp).onActivation(Nt),e.bind(Pu).toSelf().inSingletonScope().onActivation(Nt),e.bind(Tr).toService(Pu),e.bind(Tr).to(np).inSingletonScope().onActivation(Nt),e.bind(Tr).to(sp).inSingletonScope().onActivation(Nt),e.bind(Tr).to(ip).inSingletonScope().onActivation(Nt),e.bind(Tr).to(op).inSingletonScope().onActivation(Nt),e.bind(Tr).to(Nn).onActivation(Nt),e.bind(Tr).toDynamicValue(()=>t.get(Tu).createLauncher(e.get(pe))).inSingletonScope();let r=n=>i=>new n(i.container.get(q0),i.container.get(nt),i.container.get(xf));return e.bind(Xa).toDynamicValue(r(eb.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind(Xa).toDynamicValue(r(eb.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},qW=t=>{let e=new tb.Container;return e.bind(Oc).toConstantValue(e),e.bind(Tu).toSelf().inSingletonScope(),e.bind(cp).toSelf().inSingletonScope(),e.bind(Xg).to(Lp).inSingletonScope(),e.bind(Dg).toConstantValue(new rs),e.bind(w2).to(kl).inSingletonScope(),e.bind(qi).toConstantValue(t.storagePath),e.bind(Nc).toConstantValue(t.isVsCode),e.bind($W).to(Ip),e.bind(Kr).to(il).inSingletonScope(),e.bind(q0).toConstantValue(process.env),e.bind(xf).toConstantValue(FW.default),e.bind(nt).toConstantValue(Zv.promises),e.bind(Ur).toConstantValue(new Xn(Zv.promises)),e.bind(Ka).toConstantValue(t.isRemote?"remote":"local"),t.context&&e.bind(iM).toConstantValue(t.context),NW(e),e},WW=(t,e,r)=>{t.bind(Ch).toConstantValue(S2(e)),t.bind(qe).toService(Ch),t.bind(hi).to(lp).inSingletonScope(),t.bind(yc).toConstantValue(r),t.bind(Ze).toDynamicValue(n=>n.container.get(hi).create(e,n.container.get(pe))).inSingletonScope(),t.bind(Ur).toConstantValue(Lm.create(e.__remoteFilePrefix,Zv.promises,r)),t.bind(Is).to(bo).inSingletonScope().onActivation(Nt),t.bind(Eo).to(Uc).inSingletonScope(),t.bind(mt).toSelf().inSingletonScope().onActivation(Nt),t.bind(ja).toSelf().inSingletonScope(),t.bind(Wa).to(qa).inSingletonScope(),t.bind(Ui).to(Mc).inSingletonScope()};var nV=require("fs"),iV=B(require("net"));var VW=`\r
\r
`,ufe=0,_d=class{constructor(e,r,n){this.inputStream=e;this.outputStream=r;this._contentLength=-1;this._connectionId=ufe++;this.msgEmitter=new z;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new z;this.closed=this.endedEmitter.event;this._handleData=e=>{var n;let r=new Dr;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let i=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,i.length>0)try{let s=JSON.parse(i);(n=this.logger)==null||n.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:s}),this.msgEmitter.fire({message:s,receivedTime:r})}catch(s){console.error("Error handling data: "+(s&&s.message))}continue}}else{let i=this._rawData.indexOf(VW);if(i!==-1){let o=this._rawData.toString("utf8",0,i).split(`\r
`);for(let a=0;a<o.length;a++){let u=o[a].split(/: +/);u[0]==="Content-Length"&&(this._contentLength=+u[1])}this._rawData=this._rawData.slice(i+VW.length);continue}}break}};this.logger=n,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,r=!0,n){var o,a;let i=JSON.stringify(e);if(r){let u=e;e.type==="response"&&e.command==="source"&&(u={...e,body:{...e.body,content:"<script source>"}}),(o=this.logger)==null||o.verbose("dap.send",void 0,{connectionId:this._connectionId,message:u})}let s=`Content-Length: ${Buffer.byteLength(i,"utf8")}\r
\r
${i}`;if(this.outputStream.destroyed){(a=this.logger)==null||a.warn("dap.send","Message not sent. Connection was closed."),n==null||n();return}this.outputStream.write(s,"utf8",u=>{var c;n==null||n(),u&&(console.log(e),(c=this.logger)==null||c.error("dap.send","Error while writing to output stream",u),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};var tV=B(Lt()),sb=B(require("os"));var cfe={connect:async()=>Yc},KW=t=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:t}),Yc}}),lfe=t=>{let e=new z,r=!1,n=()=>{r||(r=!0,e.fire())};return{async connect(i){if(r)return await i.Debugger.setAsyncCallStackDepth({maxDepth:t}),Yc;let s=new ze;return s.push(e.event(()=>{s.dispose(),i.Debugger.setAsyncCallStackDepth({maxDepth:t})}),i.Debugger.on("breakpointResolved",n),i.Debugger.on("paused",o=>{o.reason!=="instrumentation"&&n()})),s}}},GW=KW(32),XW=t=>t===!1?cfe:t===!0?GW:"onAttach"in t?KW(t.onAttach):"onceBreakpointResolved"in t?lfe(t.onceBreakpointResolved):GW;var Un=B(Lt());var Fu=class{constructor(e,r,n,i){this.asyncStackPolicy=r;this.launchConfig=n;this._services=i;this._disposables=new ze;this._customBreakpoints=new Set;this._threadDeferred=je();this.breakpointIdCounter=xm();this._cdpProxyProvider=this._services.get(sH);this._configurationDoneDeferred=je(),this.sourceContainer=i.get(Jt),this.breakpointManager=i.get(Cn);let s=i.get($H),o=i.get(ir);o.onFlush(()=>{o.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),o.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(u=>u.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(u=>u.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(u=>u.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(u=>u.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(u=>u.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("enableCustomBreakpoints",a=>this.enableCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("disableCustomBreakpoints",a=>this._disableCustomBreakpoints(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>s.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){var r;return(r=this._thread)==null||r.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){var r;return(r=this._thread)==null||r.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async r=>{let n=this.sourceContainer.source(e.source);return n?{breakpoints:(await this.breakpointManager.getBreakpointLocations(r,n,new nn(e.line,e.column||1),new nn(e.endLine||e.line+1,e.endColumn||e.column||1))).map(s=>s.uiLocations.find(o=>o.source===n)).filter(gr).map(s=>({line:s.lineNumber,column:s.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async r=>({targets:await r.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let r=this._services.get(pe).getRecentLogs();return await this._services.get(nt).writeFile(e,r.map(n=>JSON.stringify(n)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(Hl).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let r=Fu.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>{var n;return(n=this._thread)==null?void 0:n.dapInitialized()},0),r}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:Un.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:Un.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:Un.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:Un.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!1,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){var r;return this.breakpointManager.setBreakpoints(e,((r=e.breakpoints)==null?void 0:r.map(()=>this.breakpointIdCounter()))??[])}async setExceptionBreakpoints(e){return await this._services.get(Hl).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){var n;let r=this.sourceContainer.source(e.source);if(!r)return Qe(Un.t("Source not found"));if(!(r instanceof Bt))return Qe(Un.t("Source not a source map"));for(let i of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(i,!0);return await((n=this._thread)==null?void 0:n.refreshStackTrace()),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=Zn(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Qe(Un.t("Source not found"));let n=await r.content();return n===void 0?(r instanceof Bt&&this.dap.suggestDisableSourcemap({source:e.source}),Qe(Un.t("Unable to retrieve source content"))):{content:n,mimeType:r.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let r=this._thread.pausedVariables();if(r&&e(r))return r;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){let r=this.findVariableStore(n=>n.hasVariable(e.variablesReference));return{variables:await(r==null?void 0:r.getVariables(e))??[]}}async _onReadMemory(e){var i;let r=e.memoryReference,n=await((i=this.findVariableStore(s=>s.hasMemory(r)))==null?void 0:i.readMemory(r,e.offset??0,e.count));return n?{address:"0",data:n.toString("base64"),unreadableBytes:e.count-n.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){var i;let r=e.memoryReference;return{bytesWritten:await((i=this.findVariableStore(s=>s.hasMemory(r)))==null?void 0:i.writeMemory(r,e.offset??0,Buffer.from(e.data,"base64")))}}async _onSetExpression(e){if(!this._thread)throw new ee(o0());let r=await this._thread.evaluate({expression:`${e.expression} = ${bf(e.value)}`,context:"repl",frameId:e.frameId});return{value:r.result,variablesReference:r.variablesReference,indexedVariables:r.indexedVariables,namedVariables:r.namedVariables,presentationHint:r.presentationHint,type:r.type}}async _onSetVariable(e){let r=this.findVariableStore(n=>n.hasVariable(e.variablesReference));return r?(e.value=bf(e.value.trim()),r.setVariable(e)):Qe(Un.t("Variable not found"))}_withThread(e){if(!this._thread)throw new ee(o0());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,r){this._thread=new Oo(this.sourceContainer,e,this.dap,r,this._services.get(Eo),this._services.get(pe),this._services.get(Sn),this._services.get(oH),this.launchConfig,this.breakpointManager,this._services.get(xH),this._services.get(Hl),this._services.get(No),this._services.get(Fo));let n=this._services.get(NH);n.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&n.start(this.dap,this._thread,{type:Zt.type});for(let i of this._customBreakpoints)this._thread.updateCustomBreakpoint(i,!0);return this.asyncStackPolicy.connect(e).then(i=>this._disposables.push(i)).catch(i=>this._services.get(pe).error("internal","Error enabling async stacks",i)),this.breakpointManager.setThread(this._thread),this._services.get(mt).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async enableCustomBreakpoints(e){let r=[];for(let n of e.ids)this._customBreakpoints.add(n),this._thread&&r.push(this._thread.updateCustomBreakpoint(n,!0));return await Promise.all(r),{}}async _disableCustomBreakpoints(e){let r=[];for(let n of e.ids)this._customBreakpoints.delete(n),this._thread&&r.push(this._thread.updateCustomBreakpoint(n,!1));return await Promise.all(r),{}}async _toggleSkipFileStatus(e){return await this._services.get(Ao).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source)return{canPrettyPrint:!1};e.source.path=Zn(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Qe(Un.t("Source not found"));let n=await r.prettyPrint();if(!n)return Qe(Un.t("Unable to pretty print"));let{map:i,source:s}=n;return this.breakpointManager.moveBreakpoints(r,i,s),this.sourceContainer.clearDisabledSourceMaps(r),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(r=>r.evaluate(e))}async _dumpDiagnostics(e){let r={file:await this._services.get(jo).generateHtml()};return e.fromSuggestion&&this._services.get(ir).report("diagnosticPrompt",{event:"opened"}),r}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),Tg(this._services)}};var zW=require("inspector"),JW=require("fs"),rb=class{constructor(e){this.file=e;this.session=new zW.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await JW.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,r){return new Promise((n,i)=>this.session.post(e,r,(s,o)=>{s?i(s):n(o)}))}};var nb=B(require("path"));function QW(t,e,r){let n=YW(t,e,"uncaughtException",r),i=YW(t,e,"unhandledRejection",r);return process.addListener("uncaughtException",n),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",n),process.removeListener("unhandledRejection",i)}}}var YW=(t,e,r,n=!0)=>i=>{hfe(i)&&(e.report("error",{"!error":i,error:n?void 0:i,exceptionType:r}),t.error("runtime.exception","Unhandled error in debug adapter",i))},pfe=t=>typeof t=="object"&&!!t&&"stack"in t,ffe=nb.dirname(nb.dirname(nb.dirname(__dirname)));function hfe(t){var e;return!ZW||pfe(t)&&!!((e=t.stack)!=null&&e.includes(ffe))}var ZW=!1;function eV(){ZW=!0}var ib=class{constructor(e,r,n,i){this._delegate=e;this._rootServices=n;this._disposables=new ze;this._serviceTree=new WeakMap;this._root=new Ia(void 0);this.getLaunchers=$e(()=>{let e=new Set(this._rootServices.getAll(Tr));for(let r of e)this._disposables.push(r.onTargetListChanged(()=>{let n=this.targetList();this._attachToNewTargets(n,r),this._terminateOrphanThreads(n)}));return e});this._dap=r.dap(),this._targetOrigin=i,this._disposables.callback(()=>Tg(n)),this._disposables.push(QW(n.get(pe),n.get(ir),n.get(Nc))),r.attachTelemetry(n.get(ir));let s=this._dap,o=0,a;s.on("initialize",async u=>{this._rootServices.bind(Vr).toConstantValue(u);let c=Fu.capabilities();return u.clientID==="vscode"&&eV(),setTimeout(()=>s.initialized({}),0),c}),s.on("setExceptionBreakpoints",async()=>({})),s.on("setBreakpoints",async u=>{var c,l;return(c=u.breakpoints)!=null&&c.length&&n.get(mt).notifyHadBreakpoint(),{breakpoints:((l=u.breakpoints)==null?void 0:l.map(()=>({id:++o,verified:!1,message:tV.t("Unbound breakpoint")})))??[]}}),s.on("configurationDone",async()=>({})),s.on("threads",async()=>({threads:[]})),s.on("loadedSources",async()=>({sources:[]})),s.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),s.on("attach",async u=>(await this.boot(u,s),{})),s.on("launch",async u=>(await this.boot(u,s),{})),s.on("pause",async()=>({})),s.on("terminate",()=>this._terminateRoot()),s.on("disconnect",()=>this._disconnectRoot()),s.on("restart",async({arguments:u})=>(await this._restart(u),{})),s.on("startSelfProfile",async({file:u})=>(a==null||a.dispose(),a=new rb(u),await a.start(),{})),s.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(e=>e.terminate())),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(){return this._root.state<1&&await this._terminateRoot(),this._rootServices.get(ir).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,r){return this._boot(cc(e,this._rootServices.get(Ka)),r)}async _boot(e,r){dfe(r),this.reportBootTelemetry(e),WW(this._rootServices,e,r),this._rootServices.get(pe).setup(PD(r,e.trace));let n=e.timeout>0?Yt.withTimeout(e.timeout):new Yt;e.rootPath&&(e.rootPath=Zn(e.rootPath)),this._launchParams=e;let i=await Promise.all([...this.getLaunchers()].map(s=>this._launch(s,e,n.token)));return Promise.all(i.map(s=>s.terminated)).then(s=>{let o=s.find(gr);this._markTargetAsTerminated(this._root,{restart:!!(o!=null&&o.restart)})}),{}}reportBootTelemetry(e){let r=cc({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),n=(i,s)=>typeof i=="string"?s&&r[s]===i?i:"<string>":i instanceof Array?i.map(o=>n(o)):i&&typeof i=="object"?Hs(i,o=>n(o)):i;this._rootServices.get(ir).report("launch",{type:e.type,request:e.request,os:`${sb.platform()} ${sb.arch()}`,nodeVersion:process.version,adapterVersion:Qp,parameters:Hs(e,n)})}async _restart(e){let r;if(e){let n=this._rootServices.get(Ch);r=cc({__workspaceFolder:n.__workspaceFolder,...e},this._rootServices.get(Ka)),n.update(r)}await Promise.all([...this.getLaunchers()].map(n=>n.restart(r)))}async _launch(e,r,n){return(await this.captureLaunch(e,r,n)).blockSessionTermination?{terminated:new Promise(s=>{let o=this._disposables.push(e.onTerminated(a=>{o.dispose(),s(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,r,n){let i=e.constructor.name,s;try{s=await e.launch(r,{telemetryReporter:this._rootServices.get(ir),cancellationToken:n,targetOrigin:this._targetOrigin,dap:this._dap})}catch(o){throw this._rootServices.get(pe).warn("runtime.launch","Launch returned error",{error:o,wasCancelled:n.isCancellationRequested,name:i}),o}return s.blockSessionTermination&&this._rootServices.get(pe).info("runtime.launch","Launched successfully",{name:i}),s}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let r of this.getLaunchers())e.push(...r.targetList());return e}async attach(e,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let n=e.value;if(!n.canAttach())return;let i=await n.attach();if(!i)return;let s=await this._delegate.acquireDap(n),o=s.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=XW(a.showAsyncStacks));let u=n.parent(),c=u&&this._serviceTree.get(u)||this._rootServices,l=UW(c,n,o,i);s.attachTelemetry(l.get(ir)),this._serviceTree.set(n,c);let p=new Fu(o,this._asyncStackPolicy,a,l),f=p.createThread(i,n),m=async()=>(await p.launchBlocker(),n.runIfWaitingForDebugger(),e.threadData.resolve({thread:f,debugAdapter:p}),{});o.on("disconnect",g=>this._disconnectTarget(e,g)),o.on("terminate",()=>this._terminateTarget(e)),o.on("restart",async()=>(n.canRestart()?n.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,n,r)?m():(o.on("attach",m),o.on("launch",m)),await n.afterBind()}_attachToNewTargets(e,r){for(let n of e.values()){if(!n.waitingForDebugger()||Ia.targetNodes.has(n))continue;let i=n.parent(),s=i?Ia.targetNodes.get(i):this._root;if(!s)throw new Error(`Got target with unknown parent: ${n.name()}`);let o=new Ia(n);s.add(o),this.attach(o,r)}}async _terminateOrphanThreads(e,r){let n=[...this._root.all()].filter(i=>!e.includes(i.value));return Promise.all(n.map(i=>this._markTargetAsTerminated(i,r)))}async _markTargetAsTerminated(e,r={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,rV(e)){let n=await e.threadData.promise;await n.thread.dispose(),n.debugAdapter.dap.terminated(r),n.debugAdapter.dispose()}else this._dap.terminated(r);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(),await e.waitUntil(2),{})}async _disconnectTarget(e,r){if(e.state>=3)return{};e.state<1&&(r.terminateDebuggee===!1&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot()),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let n=e.value.parent(),i=n?Ia.targetNodes.get(n):this._root;return i==null||i.remove(e),{}}};function dfe(t){dD&&t.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var rV=t=>!!t.value,ax=class{constructor(e){this.value=e;this.threadData=je();this._state=0;this._children=new Set;this._stateChangeEmitter=new z;e&&ax.targetNodes.set(e,this)}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(r=>{let n=this._stateChangeEmitter.event(i=>{i>=e&&(n.dispose(),r())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(r=>r.waitUntil(e)))}*all(){rV(this)&&(yield this);for(let e of this._children)yield*e.all()}},Ia=ax;Ia.targetNodes=new WeakMap;var ob=class{constructor(e,r,n,i,s){this.debugSession=e;this.logger=n;this.sessionStates=i;this.parent=s;this.subscriptions=new ze;r instanceof Hc?this.connection=r:(r.setLogger(n),this.connection=new Hc(r,this.logger))}listenToTarget(e){this.subscriptions.push(e.onNameChanged(()=>this.setName(e)),this.sessionStates.onAdd(([r])=>r===this.debugSession.id&&this.setName(e)),this.sessionStates.onRemove(([r])=>r===this.debugSession.id&&this.setName(e))),this.setName(e)}dispose(){this.subscriptions.dispose()}setName(e){let r=this.sessionStates.get(this.debugSession.id),n=e.name();this.parent instanceof ab&&(n=`${this.parent.debugSession.name}: ${n}`),this.debugSession.name=r?`${n} (${r})`:n}},ab=class extends ob{constructor(r,n,i){super(r,n,i.get(pe),i.get(Dg));this.debugSession=r;this.services=i;this.connection.attachTelemetry(i.get(ir))}get binder(){return this._binder}createBinder(r){this._binder=new ib(r,this.connection,this.services,new Ov(this.debugSession.id))}dispose(){var r,n;super.dispose(),(n=(r=this._binder)==null?void 0:r.dispose)==null||n.call(r)}},ub=class{constructor(e,r){this.globalContainer=e;this.sessionLauncher=r;this._disposables=[];this._sessions=new Map;this._pendingTarget=new Map;this._sessionForTarget=new Map;this._sessionForTargetCallbacks=new Map}terminate(e){let r=this._sessions.get(e.id);this._sessions.delete(e.id),r&&r.dispose()}hasPendingTargetId(e){return this._pendingTarget.has(e)}createNewRootSession(e,r){let n=new ab(e,r,jW(this.globalContainer));return n.createBinder(this),this._sessions.set(e.id,n),n}createNewChildSession(e,r,n){var c;let i=this._pendingTarget.get(r);if(!i)throw new Error(`Cannot find target ${r}`);let{target:s,parent:o}=i,a=new ob(e,n,o.logger,o.sessionStates,o);this._pendingTarget.delete(r),a.debugSession.name=s.name(),a.listenToTarget(s);let u=this._sessionForTargetCallbacks.get(s);return this._sessionForTargetCallbacks.delete(s),(c=u==null?void 0:u.fulfill)==null||c.call(u,a),this._sessions.set(e.id,a),a}async acquireDap(e){return(await this.getOrLaunchSession(e)).connection}getOrLaunchSession(e){let r=this._sessionForTarget.get(e);if(r)return r;let n=new Promise(async(i,s)=>{let o,a=e.parent();if(a?o=await this.getOrLaunchSession(a):o=this._sessions.get(e.targetOrigin().id),!o)throw new Error("Expected to get a parent debug session for target");this._pendingTarget.set(e.id(),{target:e,parent:o}),this._sessionForTargetCallbacks.set(e,{fulfill:i,reject:s});let u=o.debugSession.configuration,c={type:u.type==="pwa-extensionHost"?"pwa-chrome":u.type,name:e.name(),request:o.debugSession.configuration.request,__pendingTargetId:e.id(),preRestartTask:u.preRestartTask??u.postDebugTask,postRestartTask:u.postRestartTask??u.preLaunchTask};this.sessionLauncher.launch(o,e,c)});return this._sessionForTarget.set(e,n),n}initAdapter(e,r,n){return Promise.resolve(!1)}releaseDap(e){this._sessionForTarget.delete(e);let r=this._sessionForTargetCallbacks.get(e);r&&r.reject(new Error("Target gone")),this._sessionForTargetCallbacks.delete(e)}dispose(){for(let e of this._sessions.values())e.dispose();this._sessions.clear(),this._pendingTarget.clear(),this._sessionForTarget.clear(),this._sessionForTargetCallbacks.clear();for(let e of this._disposables)e.dispose();this._disposables=[]}};var cb=class{constructor(e,r,n="127.0.0.1"){this.host=n;this.disposables=[];this.servers=new Map;this.sessionManager=new ub(e,r),this.portLeaseTracker=e.get(Kr),this.disposables.push(this.sessionManager)}createDebugServer(e,r){return e.configuration.__pendingTargetId?this.createChildDebugServer(e):this.createRootDebugServer(e,r)}createRootDebugServer(e,r){return this.innerCreateServer(e,n=>this.sessionManager.createNewRootSession(e,n),r)}createRootDebugSessionFromStreams(e,r,n){let i=new _d(r,n);return this.sessionManager.createNewRootSession(e,i)}createChildDebugServer(e,r){return this.innerCreateServer(e,n=>this.sessionManager.createNewChildSession(e,e.configuration.__pendingTargetId,n),r)}async innerCreateServer(e,r,n){let i=je(),s=a=>{let u=new _d(a,a),c=r(u);i.resolve(c.connection)},o=n===void 0?await new Promise((a,u)=>{let c=Pm(),l=iV.createServer(s).on("error",u).on("close",()=>nV.promises.unlink(c).catch(()=>{})).listen(c,()=>a(l))}):await JR(this.portLeaseTracker,s,n,this.host);return this.servers.set(e.id,o),{server:o,connectionPromise:i.promise}}terminate(e){var r;this.sessionManager.terminate(e),(r=this.servers.get(e.id))==null||r.close(),this.servers.delete(e.id)}dispose(){this.sessionManager.dispose()}};NV().install();var Zfe=BV.mkdtempSync(jV.join(UV.tmpdir(),"vscode-js-debug-"));process.env.L10N_FSPATH_TO_BUNDLE&&bb.config({fsPath:process.env.L10N_FSPATH_TO_BUNDLE});var Hb=class{constructor(e,r,n,i){this.id=e;this.childConnection=n;this.configuration=i;this._name=r}set name(e){this._name=e,this.childConnection.then(r=>r.initializedBlocker).then(r=>r.dap().process({name:e}))}get name(){return this._name}},yb=class{constructor(e,r,n){let i=qW({storagePath:Zfe,isVsCode:!1});this.sessionServer=new cb(i,this,e);let s=je(),o=new Hb("root",bb.t("JavaScript debug adapter"),s.promise,{type:"pwa-chrome",name:"root",request:"launch"});r&&n?this.launchRootFromExisting(s,o,r,n):this.launchRoot(s,o)}launchRootFromExisting(e,r,n,i){let s=this.sessionServer.createRootDebugSessionFromStreams(r,n,i);e.resolve(s.connection)}async launchRoot(e,r){let n=await this.sessionServer.createRootDebugServer(r,vb??0);n.connectionPromise.then(i=>e.resolve(i)),console.log(n.server.address().port.toString())}launch(e,r,n){let i={...n,sessionId:r.id,__jsDebugChildServer:""},s=je(),o=new Hb(r.id(),r.name(),s.promise,i);this.sessionServer.createChildDebugServer(o,0).then(({server:a,connectionPromise:u})=>{u.then(c=>s.resolve(c)),i.__jsDebugChildServer=a.address().port.toString(),e.connection._send({seq:0,command:"attachedChildSession",type:"request",arguments:{config:i}})})}},vb,gb;process.argv.length>=3&&(vb=+process.argv[2],process.argv.length>=4&&(gb=process.argv[3]));if(vb!==void 0){let t=FV.createServer(e=>{new yb(gb,e,e)}).listen(vb,gb);t.on("listening",()=>{console.log(`Listening at ${t.address().address}:${t.address().port}`)})}else new yb(gb);
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright  2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/

// SIG // Begin signature block
// SIG // MIIoNwYJKoZIhvcNAQcCoIIoKDCCKCQCAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // eAioHA8lzYIJVVtsDTQYPpqiPLJIW6WEMghKfjn/+GOg
// SIG // gg2FMIIGAzCCA+ugAwIBAgITMwAAA01OkaYaKLB4jwAA
// SIG // AAADTTANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDExMB4XDTIzMDMxNjE4NDMyOFoX
// SIG // DTI0MDMxNDE4NDMyOFowdDELMAkGA1UEBhMCVVMxEzAR
// SIG // BgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1v
// SIG // bmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlv
// SIG // bjEeMBwGA1UEAxMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA
// SIG // 1Cj3ChlWunG6BkFNNzjW1CspeFqR+kNl6PXD90YV0zmu
// SIG // gukx5bXdkX545VEBvjMKMvd4hphihDBf48jtl3YsDD+N
// SIG // u4/dAvzzGP3eb2N9bMfrnbW4n+xgie4ydby83Y9vM1eK
// SIG // 9BRhushL/rVDXpUyLBZpkm9BVIibVOK+bHwk4b4PHSPx
// SIG // fR4esTGaFbYvpG1ZWvoZRvG3+LNNFU8OLgGYYxkxQmBU
// SIG // crSid/5rXoNqp8LxwzoFe0EnVeXVnXdPsc3LhtKoHd6A
// SIG // ggIx/GZo5qMJB1HuHVJm3GX17IFpTn3OgxuyUvg3iWpN
// SIG // Q72m2pmKh4NQFHmdPrJKZMKysF0xcAUZbQIDAQABo4IB
// SIG // gjCCAX4wHwYDVR0lBBgwFgYKKwYBBAGCN0wIAQYIKwYB
// SIG // BQUHAwMwHQYDVR0OBBYEFCHdiJoNkqdOVOlyNOI5Ytiq
// SIG // IS/vMFQGA1UdEQRNMEukSTBHMS0wKwYDVQQLEyRNaWNy
// SIG // b3NvZnQgSXJlbGFuZCBPcGVyYXRpb25zIExpbWl0ZWQx
// SIG // FjAUBgNVBAUTDTIzMDAxMis1MDA1MTcwHwYDVR0jBBgw
// SIG // FoAUSG5k5VAF04KqFzc3IrVtqMp1ApUwVAYDVR0fBE0w
// SIG // SzBJoEegRYZDaHR0cDovL3d3dy5taWNyb3NvZnQuY29t
// SIG // L3BraW9wcy9jcmwvTWljQ29kU2lnUENBMjAxMV8yMDEx
// SIG // LTA3LTA4LmNybDBhBggrBgEFBQcBAQRVMFMwUQYIKwYB
// SIG // BQUHMAKGRWh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9w
// SIG // a2lvcHMvY2VydHMvTWljQ29kU2lnUENBMjAxMV8yMDEx
// SIG // LTA3LTA4LmNydDAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3
// SIG // DQEBCwUAA4ICAQAjBE/Frsy6w8Hsbk1GXvb9sa1vFhlD
// SIG // 0UFZsidW/wcymAWeWlOEL4eS82XvYzhMQ2FJSm/2O95a
// SIG // iCH1HBDv+lt2/u7dT/ZvTNcT62b+XH50goLqKDw6uK0H
// SIG // v4gnTQ8B0+l2FusnrcUyTDqOLVA20ktGIma+zGm9sJI4
// SIG // DRWtI0RYXkvXWk0taCf8+WzZRop8atr/Gs0j/xnB/7fH
// SIG // k6x0H3Gsd1mzxC6BhyG68q0lGjgqYbJwjVKlDeRWxDJW
// SIG // reTLmPeKxjCZ6tSBHekvJ4CugvBPUlqRhDtzQ2tDZQFY
// SIG // qK6RnyNDWCG3cp8jgfOOmlgIzX4E4SHHc3VhbwJf+pLV
// SIG // lyxE5/Lv5WEMlhprpd8s/sNOqbiDw/aeCj4lgZAnrCgx
// SIG // 71y609wWy2fHSqkjlfA7cyxQH3PagLDYhvBKGrYZbiQb
// SIG // G8hW6Xm2nSpRKxYnQF/ChLrJPIbR6okpDccnWpi/7Sn8
// SIG // d1f7wwKEBOfcrL+K96RPs3cnzGoq75BTTcO3D59ZBxnM
// SIG // MPXRUmNkMAMYTM5qDNBvjPmLwZwbucI38TazEYpUW8TO
// SIG // go/YShYdGE8G2ujO857Rx6V93fp2m4xZv05zEUTjoCFy
// SIG // c2G8yimjtoNZFnshtkLbyEdeO85a20A+F9dAG60YPQqc
// SIG // Fu8WMcsHs4/ojQHPkJhc0feHcyZBD1EgiT7ExTCCB3ow
// SIG // ggVioAMCAQICCmEOkNIAAAAAAAMwDQYJKoZIhvcNAQEL
// SIG // BQAwgYgxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNo
// SIG // aW5ndG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQK
// SIG // ExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xMjAwBgNVBAMT
// SIG // KU1pY3Jvc29mdCBSb290IENlcnRpZmljYXRlIEF1dGhv
// SIG // cml0eSAyMDExMB4XDTExMDcwODIwNTkwOVoXDTI2MDcw
// SIG // ODIxMDkwOVowfjELMAkGA1UEBhMCVVMxEzARBgNVBAgT
// SIG // Cldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAc
// SIG // BgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEoMCYG
// SIG // A1UEAxMfTWljcm9zb2Z0IENvZGUgU2lnbmluZyBQQ0Eg
// SIG // MjAxMTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoC
// SIG // ggIBAKvw+nIQHC6t2G6qghBNNLrytlghn0IbKmvpWlCq
// SIG // uAY4GgRJun/DDB7dN2vGEtgL8DjCmQawyDnVARQxQtOJ
// SIG // DXlkh36UYCRsr55JnOloXtLfm1OyCizDr9mpK656Ca/X
// SIG // llnKYBoF6WZ26DJSJhIv56sIUM+zRLdd2MQuA3WraPPL
// SIG // bfM6XKEW9Ea64DhkrG5kNXimoGMPLdNAk/jj3gcN1Vx5
// SIG // pUkp5w2+oBN3vpQ97/vjK1oQH01WKKJ6cuASOrdJXtjt
// SIG // 7UORg9l7snuGG9k+sYxd6IlPhBryoS9Z5JA7La4zWMW3
// SIG // Pv4y07MDPbGyr5I4ftKdgCz1TlaRITUlwzluZH9TupwP
// SIG // rRkjhMv0ugOGjfdf8NBSv4yUh7zAIXQlXxgotswnKDgl
// SIG // mDlKNs98sZKuHCOnqWbsYR9q4ShJnV+I4iVd0yFLPlLE
// SIG // tVc/JAPw0XpbL9Uj43BdD1FGd7P4AOG8rAKCX9vAFbO9
// SIG // G9RVS+c5oQ/pI0m8GLhEfEXkwcNyeuBy5yTfv0aZxe/C
// SIG // HFfbg43sTUkwp6uO3+xbn6/83bBm4sGXgXvt1u1L50kp
// SIG // pxMopqd9Z4DmimJ4X7IvhNdXnFy/dygo8e1twyiPLI9A
// SIG // N0/B4YVEicQJTMXUpUMvdJX3bvh4IFgsE11glZo+TzOE
// SIG // 2rCIF96eTvSWsLxGoGyY0uDWiIwLAgMBAAGjggHtMIIB
// SIG // 6TAQBgkrBgEEAYI3FQEEAwIBADAdBgNVHQ4EFgQUSG5k
// SIG // 5VAF04KqFzc3IrVtqMp1ApUwGQYJKwYBBAGCNxQCBAwe
// SIG // CgBTAHUAYgBDAEEwCwYDVR0PBAQDAgGGMA8GA1UdEwEB
// SIG // /wQFMAMBAf8wHwYDVR0jBBgwFoAUci06AjGQQ7kUBU7h
// SIG // 6qfHMdEjiTQwWgYDVR0fBFMwUTBPoE2gS4ZJaHR0cDov
// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj
// SIG // dHMvTWljUm9vQ2VyQXV0MjAxMV8yMDExXzAzXzIyLmNy
// SIG // bDBeBggrBgEFBQcBAQRSMFAwTgYIKwYBBQUHMAKGQmh0
// SIG // dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2kvY2VydHMv
// SIG // TWljUm9vQ2VyQXV0MjAxMV8yMDExXzAzXzIyLmNydDCB
// SIG // nwYDVR0gBIGXMIGUMIGRBgkrBgEEAYI3LgMwgYMwPwYI
// SIG // KwYBBQUHAgEWM2h0dHA6Ly93d3cubWljcm9zb2Z0LmNv
// SIG // bS9wa2lvcHMvZG9jcy9wcmltYXJ5Y3BzLmh0bTBABggr
// SIG // BgEFBQcCAjA0HjIgHQBMAGUAZwBhAGwAXwBwAG8AbABp
// SIG // AGMAeQBfAHMAdABhAHQAZQBtAGUAbgB0AC4gHTANBgkq
// SIG // hkiG9w0BAQsFAAOCAgEAZ/KGpZjgVHkaLtPYdGcimwuW
// SIG // EeFjkplCln3SeQyQwWVfLiw++MNy0W2D/r4/6ArKO79H
// SIG // qaPzadtjvyI1pZddZYSQfYtGUFXYDJJ80hpLHPM8QotS
// SIG // 0LD9a+M+By4pm+Y9G6XUtR13lDni6WTJRD14eiPzE32m
// SIG // kHSDjfTLJgJGKsKKELukqQUMm+1o+mgulaAqPyprWElj
// SIG // HwlpblqYluSD9MCP80Yr3vw70L01724lruWvJ+3Q3fMO
// SIG // r5kol5hNDj0L8giJ1h/DMhji8MUtzluetEk5CsYKwsat
// SIG // ruWy2dsViFFFWDgycScaf7H0J/jeLDogaZiyWYlobm+n
// SIG // t3TDQAUGpgEqKD6CPxNNZgvAs0314Y9/HG8VfUWnduVA
// SIG // KmWjw11SYobDHWM2l4bf2vP48hahmifhzaWX0O5dY0Hj
// SIG // Wwechz4GdwbRBrF1HxS+YWG18NzGGwS+30HHDiju3mUv
// SIG // 7Jf2oVyW2ADWoUa9WfOXpQlLSBCZgB/QACnFsZulP0V3
// SIG // HjXG0qKin3p6IvpIlR+r+0cjgPWe+L9rt0uX4ut1eBrs
// SIG // 6jeZeRhL/9azI2h15q/6/IvrC4DqaTuv/DDtBEyO3991
// SIG // bWORPdGdVk5Pv4BXIqF4ETIheu9BCrE/+6jMpF3BoYib
// SIG // V3FWTkhFwELJm3ZbCoBIa/15n8G9bW1qyVJzEw16UM0x
// SIG // ghoKMIIaBgIBATCBlTB+MQswCQYDVQQGEwJVUzETMBEG
// SIG // A1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9u
// SIG // ZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0aW9u
// SIG // MSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBTaWduaW5n
// SIG // IFBDQSAyMDExAhMzAAADTU6RphoosHiPAAAAAANNMA0G
// SIG // CWCGSAFlAwQCAQUAoIGuMBkGCSqGSIb3DQEJAzEMBgor
// SIG // BgEEAYI3AgEEMBwGCisGAQQBgjcCAQsxDjAMBgorBgEE
// SIG // AYI3AgEVMC8GCSqGSIb3DQEJBDEiBCBbH9Dk3kWaquej
// SIG // Cp57ATwLJyzjunVFaaj109BJOctHCTBCBgorBgEEAYI3
// SIG // AgEMMTQwMqAUgBIATQBpAGMAcgBvAHMAbwBmAHShGoAY
// SIG // aHR0cDovL3d3dy5taWNyb3NvZnQuY29tMA0GCSqGSIb3
// SIG // DQEBAQUABIIBAHAdSZB+RmYh7ioZL/yyv7KPeQP3EfAm
// SIG // 1STk29zDeZUym19/Om4Wgnv3YWNMf0wd81x6DZZe7J4E
// SIG // MML99eZOK1zFQ7/xlBrPJjEreLTChu+k18HoAp/knqMf
// SIG // qdH4+SuOKcGrr8wqhYFXmYyyFDSkz6czChBUf9laVDEM
// SIG // KCeF86LTK4QXCCNi38ehdLHkdxzuph4J9a2Jav2Lxu9g
// SIG // 6q/tTdYR3/HEj9j8tT3kNhyvMxj74dkbs5/WWMGDZjyh
// SIG // tPw7LIzsd7MUYdYG6+FqsTUmrd84XnSTToQ9lxrAm+At
// SIG // OiOLRrNQDGOOjeTdDpBrWisS3qH2uGE/xh1Uwt/4fHhK
// SIG // lAChgheUMIIXkAYKKwYBBAGCNwMDATGCF4Awghd8Bgkq
// SIG // hkiG9w0BBwKgghdtMIIXaQIBAzEPMA0GCWCGSAFlAwQC
// SIG // AQUAMIIBUgYLKoZIhvcNAQkQAQSgggFBBIIBPTCCATkC
// SIG // AQEGCisGAQQBhFkKAwEwMTANBglghkgBZQMEAgEFAAQg
// SIG // smF5IdDxiHuwzTZjTWT3hYb19b5oXJO+MPDI35qt274C
// SIG // BmUD7mQqdxgTMjAyMzA5MjYwOTA3NTEuOTA4WjAEgAIB
// SIG // 9KCB0aSBzjCByzELMAkGA1UEBhMCVVMxEzARBgNVBAgT
// SIG // Cldhc2hpbmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAc
// SIG // BgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjElMCMG
// SIG // A1UECxMcTWljcm9zb2Z0IEFtZXJpY2EgT3BlcmF0aW9u
// SIG // czEnMCUGA1UECxMeblNoaWVsZCBUU1MgRVNOOkEwMDAt
// SIG // MDVFMC1EOTQ3MSUwIwYDVQQDExxNaWNyb3NvZnQgVGlt
// SIG // ZS1TdGFtcCBTZXJ2aWNloIIR6jCCByAwggUIoAMCAQIC
// SIG // EzMAAAHQdwiq76MXxt0AAQAAAdAwDQYJKoZIhvcNAQEL
// SIG // BQAwfDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hp
// SIG // bmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoT
// SIG // FU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMd
// SIG // TWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAwHhcN
// SIG // MjMwNTI1MTkxMjE0WhcNMjQwMjAxMTkxMjE0WjCByzEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjElMCMGA1UECxMcTWljcm9z
// SIG // b2Z0IEFtZXJpY2EgT3BlcmF0aW9uczEnMCUGA1UECxMe
// SIG // blNoaWVsZCBUU1MgRVNOOkEwMDAtMDVFMC1EOTQ3MSUw
// SIG // IwYDVQQDExxNaWNyb3NvZnQgVGltZS1TdGFtcCBTZXJ2
// SIG // aWNlMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKC
// SIG // AgEA3zJX59+X7zNFwFEpiOaohtFMT4tuR5EsgYM5N86W
// SIG // Dt9dXdThBBc9EKQCtt7NXSRa4weYA/kjMOc+hMMQuAq1
// SIG // 1PSmkOFjR6h64Vn7aYKNzJCXsfX65jvTJXVH41BuerCF
// SIG // umFRemI1/va09SQ3Qgx26OZ2YmrDIoBimsBm9h6g+/5I
// SIG // 0Ueu0b1Ye0OJ2rQFbuOmX+TC74kdMTeXDRttMcAcILbW
// SIG // mBJOV5VC2gR+Tp189nlqCMfkowzuwbeQbgAVmPEr5kUH
// SIG // wck9nKaRM047f37NMaeAdXAB1Q8JRsGbr/UX3N53XcYB
// SIG // aygPDFh2yRdPmllFGCAUfBctoLhVR6B3js3uyLG8r0a2
// SIG // sf//N4GKqPHOWf9f7u5Iy3E4IqYsmfFxEbCxBAieaMdQ
// SIG // QS2OgI5m4AMw3TZdi3no/qiG3Qa/0lLyhAvl8OMYxTDk
// SIG // 1FVilnprdpIcJ3VHwTUezc7tc/S9Fr+0wGP7/r+qTYQH
// SIG // qITzAhSXPmpOrjA/Eyks1hY8OWgA5Jg/ZhrgvOsr0ipC
// SIG // CODGss6FHbHk9J35PGNHz47XcNlp3o5esyx7mF8HA2rt
// SIG // jtQzLqInnTVY0xd+1BJmE/qMQvzhV1BjwxELfbc4G0fY
// SIG // PBy7VHxHljrDhA+cYG+a8Mn7yLLOx/3HRxXCIiHM80IG
// SIG // J7C8hBnqaGQ5CoUjEeXggeinL/0CAwEAAaOCAUkwggFF
// SIG // MB0GA1UdDgQWBBQz4QGFktKAPpTrSE34ybcpdJJ0UTAf
// SIG // BgNVHSMEGDAWgBSfpxVdAF5iXYP05dJlpxtTNRnpcjBf
// SIG // BgNVHR8EWDBWMFSgUqBQhk5odHRwOi8vd3d3Lm1pY3Jv
// SIG // c29mdC5jb20vcGtpb3BzL2NybC9NaWNyb3NvZnQlMjBU
// SIG // aW1lLVN0YW1wJTIwUENBJTIwMjAxMCgxKS5jcmwwbAYI
// SIG // KwYBBQUHAQEEYDBeMFwGCCsGAQUFBzAChlBodHRwOi8v
// SIG // d3d3Lm1pY3Jvc29mdC5jb20vcGtpb3BzL2NlcnRzL01p
// SIG // Y3Jvc29mdCUyMFRpbWUtU3RhbXAlMjBQQ0ElMjAyMDEw
// SIG // KDEpLmNydDAMBgNVHRMBAf8EAjAAMBYGA1UdJQEB/wQM
// SIG // MAoGCCsGAQUFBwMIMA4GA1UdDwEB/wQEAwIHgDANBgkq
// SIG // hkiG9w0BAQsFAAOCAgEAl4fnJApGWgNOkjVvqsbUvYB0
// SIG // KeMexvoHYpJ4CiLRK/KLZFyK5lj2K2q0VgZWPdZahoop
// SIG // R8iJWd4jQVG2jRJmigBjGeWHEuyGVCj2qtY1NJrMpfvK
// SIG // INLfQv2duvmrcd77IR6xULkoMEx2Vac7+5PAmJwWKMXY
// SIG // SNbhoah+feZqi77TLMRDf9bKO1Pm91Oiwq8ubsMHM+fo
// SIG // /Do9BlF92/omYPgLNMUzek9EGvATXnPy8HMqmDRGjJFt
// SIG // lQCq5ob1h/Dgg03F4DjZ5wAUBwX1yv3ywGxxRktVzTra
// SIG // +tv4mhwRgJKwhpegYvD38LOn7PsPrBPa94V/VYNILETK
// SIG // B0bjGol7KxphrLmJy59wME4LjGrcPUfFObybVkpbtQhT
// SIG // uT9CxL0EIjGddrEErEAJDQ07Pa041TY4yFIKGelzzMZX
// SIG // DyA3I8cPG33m+MuMAMTNkUaFnMaZMfuiCH9i/m+4Cx7Q
// SIG // cVwlieWzFu1sFAti5bW7q1MAb9EoI6Q7WxKsP7g4FgXq
// SIG // wk/mbctzXPeu4hmkI8mEB+h/4fV3PLJptp+lY8kkcdrM
// SIG // J1t4a+kMet1P8WPRy+hTYaxohRA+2USq58L717zFUFCB
// SIG // JAexlBHjeoXmPIBy7dIy1d8sw4kAPEfKeWBoBgFbfTBM
// SIG // IACTWNYh7x//L84SUmRTZB/LL0c7Tv4t07yq42/GccIw
// SIG // ggdxMIIFWaADAgECAhMzAAAAFcXna54Cm0mZAAAAAAAV
// SIG // MA0GCSqGSIb3DQEBCwUAMIGIMQswCQYDVQQGEwJVUzET
// SIG // MBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVk
// SIG // bW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0
// SIG // aW9uMTIwMAYDVQQDEylNaWNyb3NvZnQgUm9vdCBDZXJ0
// SIG // aWZpY2F0ZSBBdXRob3JpdHkgMjAxMDAeFw0yMTA5MzAx
// SIG // ODIyMjVaFw0zMDA5MzAxODMyMjVaMHwxCzAJBgNVBAYT
// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH
// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y
// SIG // cG9yYXRpb24xJjAkBgNVBAMTHU1pY3Jvc29mdCBUaW1l
// SIG // LVN0YW1wIFBDQSAyMDEwMIICIjANBgkqhkiG9w0BAQEF
// SIG // AAOCAg8AMIICCgKCAgEA5OGmTOe0ciELeaLL1yR5vQ7V
// SIG // gtP97pwHB9KpbE51yMo1V/YBf2xK4OK9uT4XYDP/XE/H
// SIG // ZveVU3Fa4n5KWv64NmeFRiMMtY0Tz3cywBAY6GB9alKD
// SIG // RLemjkZrBxTzxXb1hlDcwUTIcVxRMTegCjhuje3XD9gm
// SIG // U3w5YQJ6xKr9cmmvHaus9ja+NSZk2pg7uhp7M62AW36M
// SIG // EBydUv626GIl3GoPz130/o5Tz9bshVZN7928jaTjkY+y
// SIG // OSxRnOlwaQ3KNi1wjjHINSi947SHJMPgyY9+tVSP3PoF
// SIG // VZhtaDuaRr3tpK56KTesy+uDRedGbsoy1cCGMFxPLOJi
// SIG // ss254o2I5JasAUq7vnGpF1tnYN74kpEeHT39IM9zfUGa
// SIG // RnXNxF803RKJ1v2lIH1+/NmeRd+2ci/bfV+Autuqfjbs
// SIG // Nkz2K26oElHovwUDo9Fzpk03dJQcNIIP8BDyt0cY7afo
// SIG // mXw/TNuvXsLz1dhzPUNOwTM5TI4CvEJoLhDqhFFG4tG9
// SIG // ahhaYQFzymeiXtcodgLiMxhy16cg8ML6EgrXY28MyTZk
// SIG // i1ugpoMhXV8wdJGUlNi5UPkLiWHzNgY1GIRH29wb0f2y
// SIG // 1BzFa/ZcUlFdEtsluq9QBXpsxREdcu+N+VLEhReTwDwV
// SIG // 2xo3xwgVGD94q0W29R6HXtqPnhZyacaue7e3PmriLq0C
// SIG // AwEAAaOCAd0wggHZMBIGCSsGAQQBgjcVAQQFAgMBAAEw
// SIG // IwYJKwYBBAGCNxUCBBYEFCqnUv5kxJq+gpE8RjUpzxD/
// SIG // LwTuMB0GA1UdDgQWBBSfpxVdAF5iXYP05dJlpxtTNRnp
// SIG // cjBcBgNVHSAEVTBTMFEGDCsGAQQBgjdMg30BATBBMD8G
// SIG // CCsGAQUFBwIBFjNodHRwOi8vd3d3Lm1pY3Jvc29mdC5j
// SIG // b20vcGtpb3BzL0RvY3MvUmVwb3NpdG9yeS5odG0wEwYD
// SIG // VR0lBAwwCgYIKwYBBQUHAwgwGQYJKwYBBAGCNxQCBAwe
// SIG // CgBTAHUAYgBDAEEwCwYDVR0PBAQDAgGGMA8GA1UdEwEB
// SIG // /wQFMAMBAf8wHwYDVR0jBBgwFoAU1fZWy4/oolxiaNE9
// SIG // lJBb186aGMQwVgYDVR0fBE8wTTBLoEmgR4ZFaHR0cDov
// SIG // L2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVj
// SIG // dHMvTWljUm9vQ2VyQXV0XzIwMTAtMDYtMjMuY3JsMFoG
// SIG // CCsGAQUFBwEBBE4wTDBKBggrBgEFBQcwAoY+aHR0cDov
// SIG // L3d3dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNS
// SIG // b29DZXJBdXRfMjAxMC0wNi0yMy5jcnQwDQYJKoZIhvcN
// SIG // AQELBQADggIBAJ1VffwqreEsH2cBMSRb4Z5yS/ypb+pc
// SIG // FLY+TkdkeLEGk5c9MTO1OdfCcTY/2mRsfNB1OW27DzHk
// SIG // wo/7bNGhlBgi7ulmZzpTTd2YurYeeNg2LpypglYAA7AF
// SIG // vonoaeC6Ce5732pvvinLbtg/SHUB2RjebYIM9W0jVOR4
// SIG // U3UkV7ndn/OOPcbzaN9l9qRWqveVtihVJ9AkvUCgvxm2
// SIG // EhIRXT0n4ECWOKz3+SmJw7wXsFSFQrP8DJ6LGYnn8Atq
// SIG // gcKBGUIZUnWKNsIdw2FzLixre24/LAl4FOmRsqlb30mj
// SIG // dAy87JGA0j3mSj5mO0+7hvoyGtmW9I/2kQH2zsZ0/fZM
// SIG // cm8Qq3UwxTSwethQ/gpY3UA8x1RtnWN0SCyxTkctwRQE
// SIG // cb9k+SS+c23Kjgm9swFXSVRk2XPXfx5bRAGOWhmRaw2f
// SIG // pCjcZxkoJLo4S5pu+yFUa2pFEUep8beuyOiJXk+d0tBM
// SIG // drVXVAmxaQFEfnyhYWxz/gq77EFmPWn9y8FBSX5+k77L
// SIG // +DvktxW/tM4+pTFRhLy/AsGConsXHRWJjXD+57XQKBqJ
// SIG // C4822rpM+Zv/Cuk0+CQ1ZyvgDbjmjJnW4SLq8CdCPSWU
// SIG // 5nR0W2rRnj7tfqAxM328y+l7vzhwRNGQ8cirOoo6CGJ/
// SIG // 2XBjU02N7oJtpQUQwXEGahC0HVUzWLOhcGbyoYIDTTCC
// SIG // AjUCAQEwgfmhgdGkgc4wgcsxCzAJBgNVBAYTAlVTMRMw
// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt
// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp
// SIG // b24xJTAjBgNVBAsTHE1pY3Jvc29mdCBBbWVyaWNhIE9w
// SIG // ZXJhdGlvbnMxJzAlBgNVBAsTHm5TaGllbGQgVFNTIEVT
// SIG // TjpBMDAwLTA1RTAtRDk0NzElMCMGA1UEAxMcTWljcm9z
// SIG // b2Z0IFRpbWUtU3RhbXAgU2VydmljZaIjCgEBMAcGBSsO
// SIG // AwIaAxUAvLfIU/CilF/dZVORakT/Qn7vTImggYMwgYCk
// SIG // fjB8MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGlu
// SIG // Z3RvbjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMV
// SIG // TWljcm9zb2Z0IENvcnBvcmF0aW9uMSYwJAYDVQQDEx1N
// SIG // aWNyb3NvZnQgVGltZS1TdGFtcCBQQ0EgMjAxMDANBgkq
// SIG // hkiG9w0BAQsFAAIFAOi87DcwIhgPMjAyMzA5MjYwNTM1
// SIG // NTFaGA8yMDIzMDkyNzA1MzU1MVowdDA6BgorBgEEAYRZ
// SIG // CgQBMSwwKjAKAgUA6LzsNwIBADAHAgEAAgIcLjAHAgEA
// SIG // AgISUTAKAgUA6L49twIBADA2BgorBgEEAYRZCgQCMSgw
// SIG // JjAMBgorBgEEAYRZCgMCoAowCAIBAAIDB6EgoQowCAIB
// SIG // AAIDAYagMA0GCSqGSIb3DQEBCwUAA4IBAQCiWUi9wveV
// SIG // WwlHZ9U5O9wbITO0HeuZ4nG0mxxcmpqmwYaLeJ3CKu0M
// SIG // bxK8NflYA1CHAn+q3WPe0hpt0rbnY/I5xdxgnCiJ+0fJ
// SIG // wCIX2lgsrM1vqxsIM8iGygVxuJohJZF/3KjftBlT5+bx
// SIG // fBkBnOwq0SZIZNhzrlRHFOxYG9sbKnlR4p8+StR0sTFe
// SIG // oK/+n68KHgzZCKG0nT5q3MSsfM+Ju16juU46ntXgO+KI
// SIG // OZWfqCDT/1zah5DEZ6H0OOAruDLrUfyGM7ii+5hyLAp7
// SIG // kd6szfQKk3GhJHqijybfIqAfENtCp5QZxuQv5UYWnfMn
// SIG // ABiGLuHoq3VFE0yOK84eBNiOMYIEDTCCBAkCAQEwgZMw
// SIG // fDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0
// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p
// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMdTWlj
// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTACEzMAAAHQ
// SIG // dwiq76MXxt0AAQAAAdAwDQYJYIZIAWUDBAIBBQCgggFK
// SIG // MBoGCSqGSIb3DQEJAzENBgsqhkiG9w0BCRABBDAvBgkq
// SIG // hkiG9w0BCQQxIgQgopOgiX2/CfkXdEzIAK/5w1iNfEez
// SIG // 2/cxWZEkX3k/GycwgfoGCyqGSIb3DQEJEAIvMYHqMIHn
// SIG // MIHkMIG9BCAIlUAGX7TT/zHdRNmMPnwV2vcOn45k2eVg
// SIG // Hq600j8J1zCBmDCBgKR+MHwxCzAJBgNVBAYTAlVTMRMw
// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt
// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp
// SIG // b24xJjAkBgNVBAMTHU1pY3Jvc29mdCBUaW1lLVN0YW1w
// SIG // IFBDQSAyMDEwAhMzAAAB0HcIqu+jF8bdAAEAAAHQMCIE
// SIG // IHMu/ICDsQaX8giSRQJ5qAaVg38YnM6oEI02qa3Xvkre
// SIG // MA0GCSqGSIb3DQEBCwUABIICAGZ19bebsXQlh8LTxYwJ
// SIG // x1Rqv4p571VG/cLbIe6RUAB3JwOOZyc6NS+qOrAOUbwV
// SIG // 5VD7wlUntiKdJGY0HNs20lX0frnTqWHqJfmlgsjoBeYE
// SIG // sMIiWHgaSuC+0aYsUxTHCArSLDkEu/KPOEp5DcZVLgK7
// SIG // 1NwK/BOuzpOonIs2zMbLM/zTX3DUxI+Vc/zK1y24gxnI
// SIG // MuLQGfDtf2KqBVoJuplAoZic9xwUjY9yTgqZyRU0WVP1
// SIG // k2Z8u2ktLxqLSBhUbz8ihLWPnobmwPUnfBYUJ1jyrTY4
// SIG // J+SGUQidOI1NHjaACkxBYbn1IKLuut2ULncJD1ldxpRs
// SIG // RaP+HJMD+GWcSxRP/rEI6n2GcCL1F0iylsDimdK3bIG9
// SIG // LVXo+dLeacVYF4J8JIIRFRvO7RIaQgeGaf0xMsq4Dtom
// SIG // aiyucTC91drSSjXmxqmUKzOoXXT8lyq8QgwEzFd9yrZV
// SIG // Uyl6Yxwd2Nm5KXzA6X4uSjaEL6r4fIUC+RQZsUwQzd/D
// SIG // AOQP/kJK+tZ8jpFVSSODV1XSWzfbogJFfEWh6TqjoUIB
// SIG // j01WQoeXOHHVYLg+hXS1DSyysrsECo+C6AOnti1kJ7XB
// SIG // 44IcEK/Ct/WA5IHVGJnuic4Nagk9AFe4AhZhwEEIBaUG
// SIG // vBOtrKoY7KGU8WyhY74n1uPfR/ZB4207FI/oCTa2YQC5
// SIG // gD1F
// SIG // End signature block
